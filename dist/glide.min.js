/*!
 * Glide.js v3.3.0
 * (c) 2013-2019 Jędrzej Chałubek <jedrzej.chalubek@gmail.com> (http://jedrzejchalubek.com/)
 * Released under the MIT License.
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.Glide=e()}(this,function(){"use strict";var n={type:"slider",startAt:0,perView:1,focusAt:0,gap:10,autoplay:!1,hoverpause:!0,keyboard:!0,bound:!1,swipeThreshold:80,dragThreshold:120,perTouch:!1,touchRatio:.5,touchAngle:45,animationDuration:400,rewind:!0,rewindDuration:800,animationTimingFunc:"cubic-bezier(.165, .840, .440, 1)",waitForTransition:!0,throttle:10,direction:"ltr",peek:0,breakpoints:{},classes:{direction:{ltr:"glide--ltr",rtl:"glide--rtl"},slider:"glide--slider",carousel:"glide--carousel",swipeable:"glide--swipeable",dragging:"glide--dragging",cloneSlide:"glide__slide--clone",activeNav:"glide__bullet--active",activeSlide:"glide__slide--active",disabledArrow:"glide__arrow--disabled"}};function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t=function(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t};function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};function y(t){return parseInt(t)}function s(t){return"string"==typeof t}function u(t){var e=void 0===t?"undefined":r(t);return"function"===e||"object"===e&&!!t}function c(t){return"function"==typeof t}function l(t){return void 0===t}function f(t){return t.constructor===Array}function d(t,e,n){Object.defineProperty(t,e,n)}function h(t,e){var n=a({},t,e);return e.hasOwnProperty("classes")&&(n.classes=a({},t.classes,e.classes),e.classes.hasOwnProperty("direction")&&(n.classes.direction=a({},t.classes.direction,e.classes.direction))),e.hasOwnProperty("breakpoints")&&(n.breakpoints=a({},t.breakpoints,e.breakpoints)),n}var v=(t(e,[{key:"on",value:function(t,e){if(f(t))for(var n=0;n<t.length;n++)this.on(t[n],e);this.hop.call(this.events,t)||(this.events[t]=[]);var i=this.events[t].push(e)-1;return{remove:function(){delete this.events[t][i]}}}},{key:"emit",value:function(t,e){if(f(t))for(var n=0;n<t.length;n++)this.emit(t[n],e);this.hop.call(this.events,t)&&this.events[t].forEach(function(t){t(e||{})})}}]),e);function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};i(this,e),this.events=t,this.hop=t.hasOwnProperty}var p=(t(m,[{key:"mount",value:function(t){var e=0<arguments.length&&void 0!==t?t:{};return this._e.emit("mount.before"),u(e)&&(this._c=function(t,e,n){var i={};for(var r in e)c(e[r])&&(i[r]=e[r](t,i,n));for(var o in i)c(i[o].mount)&&i[o].mount();return i}(this,e,this._e)),this._e.emit("mount.after"),this}},{key:"mutate",value:function(t){var e=0<arguments.length&&void 0!==t?t:[];return f(e)&&(this._t=e),this}},{key:"update",value:function(t){var e=0<arguments.length&&void 0!==t?t:{};return this.settings=h(this.settings,e),e.hasOwnProperty("startAt")&&(this.index=e.startAt),this._e.emit("update"),this}},{key:"go",value:function(t){return this._c.Run.make(t),this}},{key:"move",value:function(t){return this._c.Transition.disable(),this._c.Move.make(t),this}},{key:"destroy",value:function(){return this._e.emit("destroy"),this}},{key:"play",value:function(t){var e=0<arguments.length&&void 0!==t&&t;return e&&(this.settings.autoplay=e),this._e.emit("play"),this}},{key:"pause",value:function(){return this._e.emit("pause"),this}},{key:"disable",value:function(){return this.disabled=!0,this}},{key:"enable",value:function(){return this.disabled=!1,this}},{key:"on",value:function(t,e){return this._e.on(t,e),this}},{key:"isType",value:function(t){return this.settings.type===t}},{key:"settings",get:function(){return this._o},set:function(t){u(t)&&(this._o=t)}},{key:"index",get:function(){return this._i},set:function(t){this._i=y(t)}},{key:"type",get:function(){return this.settings.type}},{key:"disabled",get:function(){return this._d},set:function(t){this._d=!!t}}]),m);function m(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};i(this,m),this._c={},this._t=[],this._e=new v,this.disabled=!1,this.selector=t,this.settings=h(n,e),this.index=this.settings.startAt}function g(){return(new Date).getTime()}function b(n,i,r){var o=void 0,s=void 0,u=void 0,a=void 0,c=0;r=r||{};function l(){c=!1===r.leading?0:g(),o=null,a=n.apply(s,u),o||(s=u=null)}function t(){var t=g();c||!1!==r.leading||(c=t);var e=i-(t-c);return s=this,u=arguments,e<=0||i<e?(o&&(clearTimeout(o),o=null),c=t,a=n.apply(s,u),o||(s=u=null)):o||!1===r.trailing||(o=setTimeout(l,e)),a}return t.cancel=function(){clearTimeout(o),c=0,o=s=u=null},t}var w={ltr:["marginLeft","marginRight"],rtl:["marginRight","marginLeft"]};function _(t){if(t&&t.parentNode){for(var e=t.parentNode.firstChild,n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}return[]}function k(t){return!!(t&&t instanceof window.HTMLElement)}var S='[data-glide-el="track"]';var T=(t(H,[{key:"on",value:function(t,e,n,i){var r=3<arguments.length&&void 0!==i&&i;s(t)&&(t=[t]);for(var o=0;o<t.length;o++)this.listeners[t[o]]=n,e.addEventListener(t[o],this.listeners[t[o]],r)}},{key:"off",value:function(t,e,n){var i=2<arguments.length&&void 0!==n&&n;s(t)&&(t=[t]);for(var r=0;r<t.length;r++)e.removeEventListener(t[r],this.listeners[t[r]],i)}},{key:"destroy",value:function(){delete this.listeners}}]),H);function H(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};i(this,H),this.listeners=t}var x=["ltr","rtl"],O={">":"<","<":">","=":"="};function A(t,e){return{modify:function(t){return e.Direction.is("rtl")?-t:t}}}function M(i,r,o){var s=[function(t,n){return{modify:function(t){var e=Math.floor(t/n.Sizes.slideWidth);return t+n.Gaps.value*e}}},function(t,e){return{modify:function(t){return t+e.Clones.grow/2}}},function(n,i){return{modify:function(t){if(0<=n.settings.focusAt){var e=i.Peek.value;return u(e)?t-e.before:t-e}return t}}},function(o,s){return{modify:function(t){var e=s.Gaps.value,n=s.Sizes.width,i=o.settings.focusAt,r=s.Sizes.slideWidth;return"center"===i?t-(n/2-r/2):t-r*i-e*i}}}].concat(i._t,[A]);return{mutate:function(t){for(var e=0;e<s.length;e++){var n=s[e];c(n)&&c(n().modify)&&(t=n(i,r,o).modify(t))}return t}}}var z=!1;try{var C=Object.defineProperty({},"passive",{get:function(){z=!0}});window.addEventListener("testPassive",null,C),window.removeEventListener("testPassive",null,C)}catch(t){}var P=z,L=["touchstart","mousedown"],D=["touchmove","mousemove"],R=["touchend","touchcancel","mouseup","mouseleave"],E=["mousedown","mousemove","mouseup","mouseleave"];function j(t){return u(t)?function(n){return Object.keys(n).sort().reduce(function(t,e){return t[e]=n[e],t[e],t},{})}(t):{}}var W={Html:function(e,t){var n={mount:function(){this.root=e.selector,this.track=this.root.querySelector(S),this.slides=Array.prototype.slice.call(this.wrapper.children).filter(function(t){return!t.classList.contains(e.settings.classes.cloneSlide)})}};return d(n,"root",{get:function(){return n._r},set:function(t){s(t)&&(t=document.querySelector(t)),k(t)&&(n._r=t)}}),d(n,"track",{get:function(){return n._t},set:function(t){k(t)&&(n._t=t)}}),d(n,"wrapper",{get:function(){return n.track.children[0]}}),n},Translate:function(i,r,n){var o={set:function(t){var e=M(i,r).mutate(t);r.Html.wrapper.style.transform="translate3d("+-1*e+"px, 0px, 0px)"},remove:function(){r.Html.wrapper.style.transform=""},getStartIndex:function(){var t=r.Sizes.length,e=i.index,n=i.settings.perView;return r.Run.isOffset(">")||r.Run.isOffset("|>")?t+(e-n):(e+n)%t},getTravelDistance:function(){var t=r.Sizes.slideWidth*i.settings.perView;return r.Run.isOffset(">")||r.Run.isOffset("|>")?-1*t:t}};return n.on("move",function(t){if(!i.isType("carousel")||!r.Run.isOffset())return o.set(t.movement);r.Transition.after(function(){n.emit("translate.jump"),o.set(r.Sizes.slideWidth*i.index)});var e=r.Sizes.slideWidth*r.Translate.getStartIndex();return o.set(e-r.Translate.getTravelDistance())}),n.on("destroy",function(){o.remove()}),o},Transition:function(n,i,t){var r=!1,e={compose:function(t){var e=n.settings;return r?t+" 0ms "+e.animationTimingFunc:t+" "+this.duration+"ms "+e.animationTimingFunc},set:function(t){var e=0<arguments.length&&void 0!==t?t:"transform";i.Html.wrapper.style.transition=this.compose(e)},remove:function(){i.Html.wrapper.style.transition=""},after:function(t){setTimeout(function(){t()},this.duration)},enable:function(){r=!1,this.set()},disable:function(){r=!0,this.set()}};return d(e,"duration",{get:function(){var t=n.settings;return n.isType("slider")&&i.Run.offset?t.rewindDuration:t.animationDuration}}),t.on("move",function(){e.set()}),t.on(["build.before","resize","translate.jump"],function(){e.disable()}),t.on("run",function(){e.enable()}),t.on("destroy",function(){e.remove()}),e},Direction:function(t,e,n){var i={mount:function(){this.value=t.settings.direction},resolve:function(t){var e=t.slice(0,1);return this.is("rtl")?t.split(e).join(O[e]):t},is:function(t){return this.value===t},addClass:function(){e.Html.root.classList.add(t.settings.classes.direction[this.value])},removeClass:function(){e.Html.root.classList.remove(t.settings.classes.direction[this.value])}};return d(i,"value",{get:function(){return i._v},set:function(t){-1<x.indexOf(t)&&(i._v=t)}}),n.on(["destroy","update"],function(){i.removeClass()}),n.on("update",function(){i.mount()}),n.on(["build.before","update"],function(){i.addClass()}),i},Peek:function(n,t,e){var i={mount:function(){this.value=n.settings.peek}};return d(i,"value",{get:function(){return i._v},set:function(t){u(t)?(t.before=y(t.before),t.after=y(t.after)):t=y(t),i._v=t}}),d(i,"reductor",{get:function(){var t=i.value,e=n.settings.perView;return u(t)?t.before/e+t.after/e:2*t/e}}),e.on(["resize","update"],function(){i.mount()}),i},Sizes:function(t,i,e){var n={setupSlides:function(){for(var t=this.slideWidth+"px",e=i.Html.slides,n=0;n<e.length;n++)e[n].style.width=t},setupWrapper:function(){i.Html.wrapper.style.width=this.wrapperSize+"px"},remove:function(){for(var t=i.Html.slides,e=0;e<t.length;e++)t[e].style.width="";i.Html.wrapper.style.width=""}};return d(n,"length",{get:function(){return i.Html.slides.length}}),d(n,"width",{get:function(){return i.Html.root.offsetWidth}}),d(n,"wrapperSize",{get:function(){return n.slideWidth*n.length+i.Gaps.grow+i.Clones.grow}}),d(n,"slideWidth",{get:function(){return n.width/t.settings.perView-i.Peek.reductor-i.Gaps.reductor}}),e.on(["build.before","resize","update"],function(){n.setupSlides(),n.setupWrapper()}),e.on("destroy",function(){n.remove()}),n},Gaps:function(e,o,t){var n={apply:function(t){for(var e=0,n=t.length;e<n;e++){var i=t[e].style,r=o.Direction.value;i[w[r][0]]=0!==e?this.value/2+"px":"",e!==t.length-1?i[w[r][1]]=this.value/2+"px":i[w[r][1]]=""}},remove:function(t){for(var e=0,n=t.length;e<n;e++){var i=t[e].style;i.marginLeft="",i.marginRight=""}}};return d(n,"value",{get:function(){return y(e.settings.gap)}}),d(n,"grow",{get:function(){return n.value*o.Sizes.length}}),d(n,"reductor",{get:function(){var t=e.settings.perView;return n.value*(t-1)/t}}),t.on(["build.after","update"],b(function(){n.apply(o.Html.wrapper.children)},30)),t.on("destroy",function(){n.remove(o.Html.wrapper.children)}),n},Move:function(t,i,r){var e={mount:function(){this._o=0},make:function(t){var e=this,n=0<arguments.length&&void 0!==t?t:0;this.offset=n,r.emit("move",{movement:this.value}),i.Transition.after(function(){r.emit("move.after",{movement:e.value})})}};return d(e,"offset",{get:function(){return e._o},set:function(t){e._o=l(t)?0:y(t)}}),d(e,"translate",{get:function(){return i.Sizes.slideWidth*t.index}}),d(e,"value",{get:function(){var t=this.offset,e=this.translate;return i.Direction.is("rtl")?e+t:e-t}}),r.on(["build.before","run"],function(){e.make()}),e},Clones:function(v,p,t){var e={mount:function(){this.items=[],v.isType("carousel")&&(this.items=this.collect())},collect:function(t){for(var e=0<arguments.length&&void 0!==t?t:[],n=p.Html.slides,i=v.settings,r=i.perView,o=i.classes,s=r+ +!!v.settings.peek+Math.round(r/2),u=n.slice(0,s).reverse(),a=n.slice(-1*s),c=0;c<Math.max(1,Math.floor(r/n.length));c++){for(var l=0;l<u.length;l++){var f=u[l].cloneNode(!0);f.classList.add(o.cloneSlide),e.push(f)}for(var d=0;d<a.length;d++){var h=a[d].cloneNode(!0);h.classList.add(o.cloneSlide),e.unshift(h)}}return e},append:function(){for(var t=this.items,e=p.Html,n=e.wrapper,i=e.slides,r=Math.floor(t.length/2),o=t.slice(0,r).reverse(),s=t.slice(-1*r).reverse(),u=p.Sizes.slideWidth+"px",a=0;a<s.length;a++)n.appendChild(s[a]);for(var c=0;c<o.length;c++)n.insertBefore(o[c],i[0]);for(var l=0;l<t.length;l++)t[l].style.width=u},remove:function(){for(var t=this.items,e=0;e<t.length;e++)p.Html.wrapper.removeChild(t[e])}};return d(e,"grow",{get:function(){return(p.Sizes.slideWidth+p.Gaps.value)*e.items.length}}),t.on("update",function(){e.remove(),e.mount(),e.append()}),t.on("build.before",function(){v.isType("carousel")&&e.append()}),t.on("destroy",function(){e.remove()}),e},Resize:function(t,e,n){var i=new T,r={mount:function(){this.bind()},bind:function(){i.on("resize",window,b(function(){n.emit("resize")},t.settings.throttle))},unbind:function(){i.off("resize",window)}};return n.on("destroy",function(){r.unbind(),i.destroy()}),r},Build:function(n,i,t){var e={mount:function(){t.emit("build.before"),this.typeClass(),this.activeClass(),t.emit("build.after")},typeClass:function(){i.Html.root.classList.add(n.settings.classes[n.settings.type])},activeClass:function(){var e=n.settings.classes,t=i.Html.slides[n.index];t&&(t.classList.add(e.activeSlide),_(t).forEach(function(t){t.classList.remove(e.activeSlide)}))},removeClasses:function(){var e=n.settings.classes;i.Html.root.classList.remove(e[n.settings.type]),i.Html.slides.forEach(function(t){t.classList.remove(e.activeSlide)})}};return t.on(["destroy","update"],function(){e.removeClasses()}),t.on(["resize","update"],function(){e.mount()}),t.on("move.after",function(){e.activeClass()}),e},Run:function(a,n,i){var c={mount:function(){this._o=!1},make:function(t){var e=this;a.disabled||(a.settings.waitForTransition&&a.disable(),this.move=t,i.emit("run.before",this.move),this.calculate(),i.emit("run",this.move),n.Transition.after(function(){e.isStart()&&i.emit("run.start",e.move),e.isEnd()&&i.emit("run.end",e.move),e.isOffset()&&(e._o=!1,i.emit("run.offset",e.move)),i.emit("run.after",e.move),a.enable()}))},calculate:function(){var t=this.move,e=this.length,n=t.steps,i=t.direction,r=1,o=function(t){return"number"==typeof t}(y(n))&&0!==y(n);if("="!==i)if(">"!==i||">"!==n)if("<"!==i||"<"!==n){if(">"===i&&o&&(r=-1*y(n)),"<"===i&&o&&(r=y(n)),"|"===i&&(r=a.settings.perView||1),">"===i||"|"===i&&">"===n){var s=function(t){var e=a.index;if(a.isType("carousel"))return e+t;return e+(t-e%t)}(r);return e<s&&(this._o=!0),void(a.index=function(t,e){var n=c.length;if(t<=n)return t;if(a.isType("carousel"))return t-(n+1);if(a.settings.rewind)return c.isBound()&&!c.isEnd()?n:0;if(c.isBound())return n;return Math.floor(n/e)*e}(s,r))}if("<"===i||"|"===i&&"<"===n){var u=function(t){var e=a.index;if(a.isType("carousel"))return e-t;return(Math.ceil(e/t)-1)*t}(r);return u<0&&(this._o=!0),void(a.index=function(t,e){var n=c.length;if(0<=t)return t;if(a.isType("carousel"))return t+(n+1);if(a.settings.rewind)return c.isBound()&&c.isStart()?n:Math.floor(n/e)*e;return 0}(u,r))}}else a.index=0;else a.index=e;else a.index=n},isStart:function(){return a.index<=0},isEnd:function(){return a.index>=this.length},isOffset:function(t){var e=0<arguments.length&&void 0!==t?t:void 0;return e?!!this._o&&("|>"===e?"|"===this.move.direction&&">"===this.move.steps:"|<"===e?"|"===this.move.direction&&"<"===this.move.steps:this.move.direction===e):this._o},isBound:function(){return a.isType("slider")&&"center"!==a.settings.focusAt&&a.settings.bound}};return d(c,"move",{get:function(){return this._m},set:function(t){var e=t.substr(1);this._m={direction:t.substr(0,1),steps:e?y(e)?y(e):e:0}}}),d(c,"length",{get:function(){var t=a.settings,e=n.Html.slides.length;return this.isBound()?e-1-(y(t.perView)-1)+y(t.focusAt):e-1}}),d(c,"offset",{get:function(){return this._o}}),c},Swipe:function(d,h,v){var n=new T,p=0,m=0,g=0,i=!1,r=!!P&&{passive:!0},t={mount:function(){this.bindSwipeStart()},start:function(t){if(!i&&!d.disabled){this.disable();var e=this.touches(t);p=null,m=y(e.pageX),g=y(e.pageY),this.bindSwipeMove(),this.bindSwipeEnd(),v.emit("swipe.start")}},move:function(t){if(!d.disabled){var e=d.settings,n=e.touchAngle,i=e.touchRatio,r=e.classes,o=this.touches(t),s=y(o.pageX)-m,u=y(o.pageY)-g,a=Math.abs(s<<2),c=Math.abs(u<<2),l=Math.sqrt(a+c),f=Math.sqrt(c);if(!(180*(p=Math.asin(f/l))/Math.PI<n))return!1;t.stopPropagation(),h.Move.make(s*function(t){return parseFloat(t)}(i)),h.Html.root.classList.add(r.dragging),v.emit("swipe.move")}},end:function(t){if(!d.disabled){var e=d.settings,n=this.touches(t),i=this.threshold(t),r=n.pageX-m,o=180*p/Math.PI,s=Math.round(r/h.Sizes.slideWidth);this.enable(),i<r&&o<e.touchAngle?(e.perTouch&&(s=Math.min(s,y(e.perTouch))),h.Direction.is("rtl")&&(s=-s),h.Run.make(h.Direction.resolve("<"+s))):r<-i&&o<e.touchAngle?(e.perTouch&&(s=Math.max(s,-y(e.perTouch))),h.Direction.is("rtl")&&(s=-s),h.Run.make(h.Direction.resolve(">"+s))):h.Move.make(),h.Html.root.classList.remove(e.classes.dragging),this.unbindSwipeMove(),this.unbindSwipeEnd(),v.emit("swipe.end")}},bindSwipeStart:function(){var e=this,t=d.settings;t.swipeThreshold&&n.on(L[0],h.Html.wrapper,function(t){e.start(t)},r),t.dragThreshold&&n.on(L[1],h.Html.wrapper,function(t){e.start(t)},r)},unbindSwipeStart:function(){n.off(L[0],h.Html.wrapper,r),n.off(L[1],h.Html.wrapper,r)},bindSwipeMove:function(){var e=this;n.on(D,h.Html.wrapper,b(function(t){e.move(t)},d.settings.throttle),r)},unbindSwipeMove:function(){n.off(D,h.Html.wrapper,r)},bindSwipeEnd:function(){var e=this;n.on(R,h.Html.wrapper,function(t){e.end(t)})},unbindSwipeEnd:function(){n.off(R,h.Html.wrapper)},touches:function(t){return-1<E.indexOf(t.type)?t:t.touches[0]||t.changedTouches[0]},threshold:function(t){var e=d.settings;return-1<E.indexOf(t.type)?e.dragThreshold:e.swipeThreshold},enable:function(){return i=!1,h.Transition.enable(),this},disable:function(){return i=!0,h.Transition.disable(),this}};return v.on("build.after",function(){h.Html.root.classList.add(d.settings.classes.swipeable)}),v.on("destroy",function(){t.unbindSwipeStart(),t.unbindSwipeMove(),t.unbindSwipeEnd(),n.destroy()}),t},Images:function(t,e,n){var i=new T,r={mount:function(){this.bind()},bind:function(){i.on("dragstart",e.Html.wrapper,this.dragstart)},unbind:function(){i.off("dragstart",e.Html.wrapper)},dragstart:function(t){t.preventDefault()}};return n.on("destroy",function(){r.unbind(),i.destroy()}),r},Anchors:function(t,e,n){var i=new T,r=!1,o=!1,s={mount:function(){this._a=e.Html.wrapper.querySelectorAll("a"),this.bind()},bind:function(){i.on("click",e.Html.wrapper,this.click)},unbind:function(){i.off("click",e.Html.wrapper)},click:function(t){o&&(t.stopPropagation(),t.preventDefault())},detach:function(){if(o=!0,!r){for(var t=0;t<this.items.length;t++)this.items[t].draggable=!1,this.items[t].setAttribute("data-href",this.items[t].getAttribute("href")),this.items[t].removeAttribute("href");r=!0}return this},attach:function(){if(o=!1,r){for(var t=0;t<this.items.length;t++)this.items[t].draggable=!0,this.items[t].setAttribute("href",this.items[t].getAttribute("data-href"));r=!1}return this}};return d(s,"items",{get:function(){return s._a}}),n.on("swipe.move",function(){s.detach()}),n.on("swipe.end",function(){e.Transition.after(function(){s.attach()})}),n.on("destroy",function(){s.attach(),s.unbind(),i.destroy()}),s},Controls:function(i,e,t){var n=new T,r=!!P&&{passive:!0},o={mount:function(){this._n=e.Html.root.querySelectorAll('[data-glide-el="controls[nav]"]'),this._c=e.Html.root.querySelectorAll('[data-glide-el^="controls"]'),this.addBindings()},setActive:function(){for(var t=0;t<this._n.length;t++)this.addClass(this._n[t].children)},removeActive:function(){for(var t=0;t<this._n.length;t++)this.removeClass(this._n[t].children)},addClass:function(t){var e=i.settings,n=t[i.index];n&&(n.classList.add(e.classes.activeNav),_(n).forEach(function(t){t.classList.remove(e.classes.activeNav)}))},removeClass:function(t){var e=t[i.index];e&&e.classList.remove(i.settings.classes.activeNav)},addBindings:function(){for(var t=0;t<this._c.length;t++)this.bind(this._c[t].children)},removeBindings:function(){for(var t=0;t<this._c.length;t++)this.unbind(this._c[t].children)},bind:function(t){for(var e=0;e<t.length;e++)n.on("click",t[e],this.click),n.on("touchstart",t[e],this.click,r)},unbind:function(t){for(var e=0;e<t.length;e++)n.off(["click","touchstart"],t[e])},click:function(t){t.preventDefault(),e.Run.make(e.Direction.resolve(t.currentTarget.getAttribute("data-glide-dir")))}};return d(o,"items",{get:function(){return o._c}}),t.on(["mount.after","move.after"],function(){o.setActive()}),t.on("destroy",function(){o.removeBindings(),o.removeActive(),n.destroy()}),o},Keyboard:function(t,e,n){var i=new T,r={mount:function(){t.settings.keyboard&&this.bind()},bind:function(){i.on("keyup",document,this.press)},unbind:function(){i.off("keyup",document)},press:function(t){39===t.keyCode&&e.Run.make(e.Direction.resolve(">")),37===t.keyCode&&e.Run.make(e.Direction.resolve("<"))}};return n.on(["destroy","update"],function(){r.unbind()}),n.on("update",function(){r.mount()}),n.on("destroy",function(){i.destroy()}),r},Autoplay:function(e,n,t){var i=new T,r={mount:function(){this.start(),e.settings.hoverpause&&this.bind()},start:function(){var t=this;e.settings.autoplay&&l(this._i)&&(this._i=setInterval(function(){t.stop(),n.Run.make(">"),t.start()},this.time))},stop:function(){this._i=clearInterval(this._i)},bind:function(){var t=this;i.on("mouseover",n.Html.root,function(){t.stop()}),i.on("mouseout",n.Html.root,function(){t.start()})},unbind:function(){i.off(["mouseover","mouseout"],n.Html.root)}};return d(r,"time",{get:function(){var t=n.Html.slides[e.index].getAttribute("data-glide-autoplay");return y(t||e.settings.autoplay)}}),t.on(["destroy","update"],function(){r.unbind()}),t.on(["run.before","pause","destroy","swipe.start","update"],function(){r.stop()}),t.on(["run.after","play","swipe.end"],function(){r.start()}),t.on("update",function(){r.mount()}),t.on("destroy",function(){i.destroy()}),r},Breakpoints:function(t,e,n){var i=new T,r=t.settings,o=j(r.breakpoints),s=a({},r),u={match:function(t){if(void 0!==window.matchMedia)for(var e in t)if(t.hasOwnProperty(e)&&window.matchMedia("(max-width: "+e+"px)").matches)return t[e];return s}};return a(r,u.match(o)),i.on("resize",window,b(function(){t.settings=h(r,u.match(o))},t.settings.throttle)),n.on("update",function(){o=j(o),s=a({},r)}),n.on("destroy",function(){i.off("resize",window)}),u}};function B(){return i(this,B),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(B.__proto__||Object.getPrototypeOf(B)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(B,p),t(B,[{key:"mount",value:function(t){var e=0<arguments.length&&void 0!==t?t:{};return function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(i):void 0}(B.prototype.__proto__||Object.getPrototypeOf(B.prototype),"mount",this).call(this,a({},W,e))}}]),B});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ2xpZGUubWluLmpzIiwic291cmNlcyI6WyIuLi9zcmMvZGVmYXVsdHMuanMiLCIuLi9zcmMvdXRpbHMvdW5pdC5qcyIsIi4uL3NyYy91dGlscy9vYmplY3QuanMiLCIuLi9zcmMvY29yZS9ldmVudC9ldmVudHMtYnVzLmpzIiwiLi4vc3JjL2luZGV4LmpzIiwiLi4vc3JjL2NvcmUvaW5kZXguanMiLCIuLi9zcmMvdXRpbHMvdGltZS5qcyIsIi4uL3NyYy91dGlscy93YWl0LmpzIiwiLi4vc3JjL2NvbXBvbmVudHMvZ2Fwcy5qcyIsIi4uL3NyYy91dGlscy9kb20uanMiLCIuLi9zcmMvY29tcG9uZW50cy9odG1sLmpzIiwiLi4vc3JjL2NvcmUvZXZlbnQvZXZlbnRzLWJpbmRlci5qcyIsIi4uL3NyYy9jb21wb25lbnRzL2RpcmVjdGlvbi5qcyIsIi4uL3NyYy9tdXRhdG9yL3RyYW5zZm9ybWVycy9ydGwuanMiLCIuLi9zcmMvbXV0YXRvci9pbmRleC5qcyIsIi4uL3NyYy9tdXRhdG9yL3RyYW5zZm9ybWVycy9nYXAuanMiLCIuLi9zcmMvbXV0YXRvci90cmFuc2Zvcm1lcnMvZ3Jvdy5qcyIsIi4uL3NyYy9tdXRhdG9yL3RyYW5zZm9ybWVycy9wZWVraW5nLmpzIiwiLi4vc3JjL211dGF0b3IvdHJhbnNmb3JtZXJzL2ZvY3VzaW5nLmpzIiwiLi4vc3JjL3V0aWxzL2RldGVjdC1wYXNzaXZlLWV2ZW50LmpzIiwiLi4vc3JjL2NvbXBvbmVudHMvc3dpcGUuanMiLCIuLi9zcmMvY29tcG9uZW50cy9icmVha3BvaW50cy5qcyIsIi4uL2VudHJ5L2VudHJ5LWNvbXBsZXRlLmpzIiwiLi4vc3JjL2NvbXBvbmVudHMvdHJhbnNsYXRlLmpzIiwiLi4vc3JjL2NvbXBvbmVudHMvdHJhbnNpdGlvbi5qcyIsIi4uL3NyYy9jb21wb25lbnRzL3BlZWsuanMiLCIuLi9zcmMvY29tcG9uZW50cy9zaXplcy5qcyIsIi4uL3NyYy9jb21wb25lbnRzL21vdmUuanMiLCIuLi9zcmMvY29tcG9uZW50cy9jbG9uZXMuanMiLCIuLi9zcmMvY29tcG9uZW50cy9yZXNpemUuanMiLCIuLi9zcmMvY29tcG9uZW50cy9idWlsZC5qcyIsIi4uL3NyYy9jb21wb25lbnRzL3J1bi5qcyIsIi4uL3NyYy9jb21wb25lbnRzL2ltYWdlcy5qcyIsIi4uL3NyYy9jb21wb25lbnRzL2FuY2hvcnMuanMiLCIuLi9zcmMvY29tcG9uZW50cy9jb250cm9scy5qcyIsIi4uL3NyYy9jb21wb25lbnRzL2tleWJvYXJkLmpzIiwiLi4vc3JjL2NvbXBvbmVudHMvYXV0b3BsYXkuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQge1xuICAvKipcbiAgICogVHlwZSBvZiB0aGUgbW92ZW1lbnQuXG4gICAqXG4gICAqIEF2YWlsYWJsZSB0eXBlczpcbiAgICogYHNsaWRlcmAgLSBSZXdpbmRzIHNsaWRlciB0byB0aGUgc3RhcnQvZW5kIHdoZW4gaXQgcmVhY2hlcyB0aGUgZmlyc3Qgb3IgbGFzdCBzbGlkZS5cbiAgICogYGNhcm91c2VsYCAtIENoYW5nZXMgc2xpZGVzIHdpdGhvdXQgc3RhcnRpbmcgb3ZlciB3aGVuIGl0IHJlYWNoZXMgdGhlIGZpcnN0IG9yIGxhc3Qgc2xpZGUuXG4gICAqXG4gICAqIEB0eXBlIHtTdHJpbmd9XG4gICAqL1xuICB0eXBlOiAnc2xpZGVyJyxcblxuICAvKipcbiAgICogU3RhcnQgYXQgc3BlY2lmaWMgc2xpZGUgbnVtYmVyIGRlZmluZWQgd2l0aCB6ZXJvLWJhc2VkIGluZGV4LlxuICAgKlxuICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgKi9cbiAgc3RhcnRBdDogMCxcblxuICAvKipcbiAgICogQSBudW1iZXIgb2Ygc2xpZGVzIHZpc2libGUgb24gdGhlIHNpbmdsZSB2aWV3cG9ydC5cbiAgICpcbiAgICogQHR5cGUge051bWJlcn1cbiAgICovXG4gIHBlclZpZXc6IDEsXG5cbiAgLyoqXG4gICAqIEZvY3VzIGN1cnJlbnRseSBhY3RpdmUgc2xpZGUgYXQgYSBzcGVjaWZpZWQgcG9zaXRpb24gaW4gdGhlIHRyYWNrLlxuICAgKlxuICAgKiBBdmFpbGFibGUgaW5wdXRzOlxuICAgKiBgY2VudGVyYCAtIEN1cnJlbnQgc2xpZGUgd2lsbCBiZSBhbHdheXMgZm9jdXNlZCBhdCB0aGUgY2VudGVyIG9mIGEgdHJhY2suXG4gICAqIGAwLDEsMiwzLi4uYCAtIEN1cnJlbnQgc2xpZGUgd2lsbCBiZSBmb2N1c2VkIG9uIHRoZSBzcGVjaWZpZWQgemVyby1iYXNlZCBpbmRleC5cbiAgICpcbiAgICogQHR5cGUge1N0cmluZ3xOdW1iZXJ9XG4gICAqL1xuICBmb2N1c0F0OiAwLFxuXG4gIC8qKlxuICAgKiBBIHNpemUgb2YgdGhlIGdhcCBhZGRlZCBiZXR3ZWVuIHNsaWRlcy5cbiAgICpcbiAgICogQHR5cGUge051bWJlcn1cbiAgICovXG4gIGdhcDogMTAsXG5cbiAgLyoqXG4gICAqIENoYW5nZSBzbGlkZXMgYWZ0ZXIgYSBzcGVjaWZpZWQgaW50ZXJ2YWwuIFVzZSBgZmFsc2VgIGZvciB0dXJuaW5nIG9mZiBhdXRvcGxheS5cbiAgICpcbiAgICogQHR5cGUge051bWJlcnxCb29sZWFufVxuICAgKi9cbiAgYXV0b3BsYXk6IGZhbHNlLFxuXG4gIC8qKlxuICAgKiBTdG9wIGF1dG9wbGF5IG9uIG1vdXNlb3ZlciBldmVudC5cbiAgICpcbiAgICogQHR5cGUge0Jvb2xlYW59XG4gICAqL1xuICBob3ZlcnBhdXNlOiB0cnVlLFxuXG4gIC8qKlxuICAgKiBBbGxvdyBmb3IgY2hhbmdpbmcgc2xpZGVzIHdpdGggbGVmdCBhbmQgcmlnaHQga2V5Ym9hcmQgYXJyb3dzLlxuICAgKlxuICAgKiBAdHlwZSB7Qm9vbGVhbn1cbiAgICovXG4gIGtleWJvYXJkOiB0cnVlLFxuXG4gIC8qKlxuICAgKiBTdG9wIHJ1bm5pbmcgYHBlclZpZXdgIG51bWJlciBvZiBzbGlkZXMgZnJvbSB0aGUgZW5kLiBVc2UgdGhpc1xuICAgKiBvcHRpb24gaWYgeW91IGRvbid0IHdhbnQgdG8gaGF2ZSBhbiBlbXB0eSBzcGFjZSBhZnRlclxuICAgKiBhIHNsaWRlci4gV29ya3Mgb25seSB3aXRoIGBzbGlkZXJgIHR5cGUgYW5kIGFcbiAgICogbm9uLWNlbnRlcmVkIGBmb2N1c0F0YCBzZXR0aW5nLlxuICAgKlxuICAgKiBAdHlwZSB7Qm9vbGVhbn1cbiAgICovXG4gIGJvdW5kOiBmYWxzZSxcblxuICAvKipcbiAgICogTWluaW1hbCBzd2lwZSBkaXN0YW5jZSBuZWVkZWQgdG8gY2hhbmdlIHRoZSBzbGlkZS4gVXNlIGBmYWxzZWAgZm9yIHR1cm5pbmcgb2ZmIGEgc3dpcGluZy5cbiAgICpcbiAgICogQHR5cGUge051bWJlcnxCb29sZWFufVxuICAgKi9cbiAgc3dpcGVUaHJlc2hvbGQ6IDgwLFxuXG4gIC8qKlxuICAgKiBNaW5pbWFsIG1vdXNlIGRyYWcgZGlzdGFuY2UgbmVlZGVkIHRvIGNoYW5nZSB0aGUgc2xpZGUuIFVzZSBgZmFsc2VgIGZvciB0dXJuaW5nIG9mZiBhIGRyYWdnaW5nLlxuICAgKlxuICAgKiBAdHlwZSB7TnVtYmVyfEJvb2xlYW59XG4gICAqL1xuICBkcmFnVGhyZXNob2xkOiAxMjAsXG5cbiAgLyoqXG4gICAqIEEgbWF4aW11bSBudW1iZXIgb2Ygc2xpZGVzIHRvIHdoaWNoIG1vdmVtZW50IHdpbGwgYmUgbWFkZSBvbiBzd2lwaW5nIG9yIGRyYWdnaW5nLiBVc2UgYGZhbHNlYCBmb3IgdW5saW1pdGVkLlxuICAgKlxuICAgKiBAdHlwZSB7TnVtYmVyfEJvb2xlYW59XG4gICAqL1xuICBwZXJUb3VjaDogZmFsc2UsXG5cbiAgLyoqXG4gICAqIE1vdmluZyBkaXN0YW5jZSByYXRpbyBvZiB0aGUgc2xpZGVzIG9uIGEgc3dpcGluZyBhbmQgZHJhZ2dpbmcuXG4gICAqXG4gICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAqL1xuICB0b3VjaFJhdGlvOiAwLjUsXG5cbiAgLyoqXG4gICAqIEFuZ2xlIHJlcXVpcmVkIHRvIGFjdGl2YXRlIHNsaWRlcyBtb3Zpbmcgb24gc3dpcGluZyBvciBkcmFnZ2luZy5cbiAgICpcbiAgICogQHR5cGUge051bWJlcn1cbiAgICovXG4gIHRvdWNoQW5nbGU6IDQ1LFxuXG4gIC8qKlxuICAgKiBEdXJhdGlvbiBvZiB0aGUgYW5pbWF0aW9uIGluIG1pbGxpc2Vjb25kcy5cbiAgICpcbiAgICogQHR5cGUge051bWJlcn1cbiAgICovXG4gIGFuaW1hdGlvbkR1cmF0aW9uOiA0MDAsXG5cbiAgLyoqXG4gICAqIEFsbG93cyBsb29waW5nIHRoZSBgc2xpZGVyYCB0eXBlLiBTbGlkZXIgd2lsbCByZXdpbmQgdG8gdGhlIGZpcnN0L2xhc3Qgc2xpZGUgd2hlbiBpdCdzIGF0IHRoZSBzdGFydC9lbmQuXG4gICAqXG4gICAqIEB0eXBlIHtCb29sZWFufVxuICAgKi9cbiAgcmV3aW5kOiB0cnVlLFxuXG4gIC8qKlxuICAgKiBEdXJhdGlvbiBvZiB0aGUgcmV3aW5kaW5nIGFuaW1hdGlvbiBvZiB0aGUgYHNsaWRlcmAgdHlwZSBpbiBtaWxsaXNlY29uZHMuXG4gICAqXG4gICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAqL1xuICByZXdpbmREdXJhdGlvbjogODAwLFxuXG4gIC8qKlxuICAgKiBFYXNpbmcgZnVuY3Rpb24gZm9yIHRoZSBhbmltYXRpb24uXG4gICAqXG4gICAqIEB0eXBlIHtTdHJpbmd9XG4gICAqL1xuICBhbmltYXRpb25UaW1pbmdGdW5jOiAnY3ViaWMtYmV6aWVyKC4xNjUsIC44NDAsIC40NDAsIDEpJyxcblxuICAvKipcbiAgICogV2FpdCBmb3IgdGhlIGFuaW1hdGlvbiB0byBmaW5pc2ggdW50aWwgdGhlIG5leHQgdXNlciBpbnB1dCBjYW4gYmUgcHJvY2Vzc2VkXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKi9cbiAgd2FpdEZvclRyYW5zaXRpb246IHRydWUsXG5cbiAgLyoqXG4gICAqIFRocm90dGxlIGNvc3RseSBldmVudHMgYXQgbW9zdCBvbmNlIHBlciBldmVyeSB3YWl0IG1pbGxpc2Vjb25kcy5cbiAgICpcbiAgICogQHR5cGUge051bWJlcn1cbiAgICovXG4gIHRocm90dGxlOiAxMCxcblxuICAvKipcbiAgICogTW92aW5nIGRpcmVjdGlvbiBtb2RlLlxuICAgKlxuICAgKiBBdmFpbGFibGUgaW5wdXRzOlxuICAgKiAtICdsdHInIC0gbGVmdCB0byByaWdodCBtb3ZlbWVudCxcbiAgICogLSAncnRsJyAtIHJpZ2h0IHRvIGxlZnQgbW92ZW1lbnQuXG4gICAqXG4gICAqIEB0eXBlIHtTdHJpbmd9XG4gICAqL1xuICBkaXJlY3Rpb246ICdsdHInLFxuXG4gIC8qKlxuICAgKiBUaGUgZGlzdGFuY2UgdmFsdWUgb2YgdGhlIG5leHQgYW5kIHByZXZpb3VzIHZpZXdwb3J0cyB3aGljaFxuICAgKiBoYXZlIHRvIHBlZWsgaW4gdGhlIGN1cnJlbnQgdmlldy4gQWNjZXB0cyBudW1iZXIgYW5kXG4gICAqIHBpeGVscyBhcyBhIHN0cmluZy4gTGVmdCBhbmQgcmlnaHQgcGVla2luZyBjYW4gYmVcbiAgICogc2V0IHVwIHNlcGFyYXRlbHkgd2l0aCBhIGRpcmVjdGlvbnMgb2JqZWN0LlxuICAgKlxuICAgKiBGb3IgZXhhbXBsZTpcbiAgICogYDEwMGAgLSBQZWVrIDEwMHB4IG9uIHRoZSBib3RoIHNpZGVzLlxuICAgKiB7IGJlZm9yZTogMTAwLCBhZnRlcjogNTAgfWAgLSBQZWVrIDEwMHB4IG9uIHRoZSBsZWZ0IHNpZGUgYW5kIDUwcHggb24gdGhlIHJpZ2h0IHNpZGUuXG4gICAqXG4gICAqIEB0eXBlIHtOdW1iZXJ8U3RyaW5nfE9iamVjdH1cbiAgICovXG4gIHBlZWs6IDAsXG5cbiAgLyoqXG4gICAqIENvbGxlY3Rpb24gb2Ygb3B0aW9ucyBhcHBsaWVkIGF0IHNwZWNpZmllZCBtZWRpYSBicmVha3BvaW50cy5cbiAgICogRm9yIGV4YW1wbGU6IGRpc3BsYXkgdHdvIHNsaWRlcyBwZXIgdmlldyB1bmRlciA4MDBweC5cbiAgICogYHtcbiAgICogICAnODAwcHgnOiB7XG4gICAqICAgICBwZXJWaWV3OiAyXG4gICAqICAgfVxuICAgKiB9YFxuICAgKi9cbiAgYnJlYWtwb2ludHM6IHt9LFxuXG4gIC8qKlxuICAgKiBDb2xsZWN0aW9uIG9mIGludGVybmFsbHkgdXNlZCBIVE1MIGNsYXNzZXMuXG4gICAqXG4gICAqIEB0b2RvIFJlZmFjdG9yIGBzbGlkZXJgIGFuZCBgY2Fyb3VzZWxgIHByb3BlcnRpZXMgdG8gc2luZ2xlIGB0eXBlOiB7IHNsaWRlcjogJycsIGNhcm91c2VsOiAnJyB9YCBvYmplY3RcbiAgICogQHR5cGUge09iamVjdH1cbiAgICovXG4gIGNsYXNzZXM6IHtcbiAgICBkaXJlY3Rpb246IHtcbiAgICAgIGx0cjogJ2dsaWRlLS1sdHInLFxuICAgICAgcnRsOiAnZ2xpZGUtLXJ0bCdcbiAgICB9LFxuICAgIHNsaWRlcjogJ2dsaWRlLS1zbGlkZXInLFxuICAgIGNhcm91c2VsOiAnZ2xpZGUtLWNhcm91c2VsJyxcbiAgICBzd2lwZWFibGU6ICdnbGlkZS0tc3dpcGVhYmxlJyxcbiAgICBkcmFnZ2luZzogJ2dsaWRlLS1kcmFnZ2luZycsXG4gICAgY2xvbmVTbGlkZTogJ2dsaWRlX19zbGlkZS0tY2xvbmUnLFxuICAgIGFjdGl2ZU5hdjogJ2dsaWRlX19idWxsZXQtLWFjdGl2ZScsXG4gICAgYWN0aXZlU2xpZGU6ICdnbGlkZV9fc2xpZGUtLWFjdGl2ZScsXG4gICAgZGlzYWJsZWRBcnJvdzogJ2dsaWRlX19hcnJvdy0tZGlzYWJsZWQnXG4gIH1cbn1cbiIsIi8qKlxuICogQ29udmVydHMgdmFsdWUgZW50ZXJlZCBhcyBudW1iZXJcbiAqIG9yIHN0cmluZyB0byBpbnRlZ2VyIHZhbHVlLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSB2YWx1ZVxuICogQHJldHVybnMge051bWJlcn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRvSW50ICh2YWx1ZSkge1xuICByZXR1cm4gcGFyc2VJbnQodmFsdWUpXG59XG5cbi8qKlxuICogQ29udmVydHMgdmFsdWUgZW50ZXJlZCBhcyBudW1iZXJcbiAqIG9yIHN0cmluZyB0byBmbGF0IHZhbHVlLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSB2YWx1ZVxuICogQHJldHVybnMge051bWJlcn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRvRmxvYXQgKHZhbHVlKSB7XG4gIHJldHVybiBwYXJzZUZsb2F0KHZhbHVlKVxufVxuXG4vKipcbiAqIEluZGljYXRlcyB3aGV0aGVyIHRoZSBzcGVjaWZpZWQgdmFsdWUgaXMgYSBzdHJpbmcuXG4gKlxuICogQHBhcmFtICB7Kn0gICB2YWx1ZVxuICogQHJldHVybiB7Qm9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzU3RyaW5nICh2YWx1ZSkge1xuICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJ1xufVxuXG4vKipcbiAqIEluZGljYXRlcyB3aGV0aGVyIHRoZSBzcGVjaWZpZWQgdmFsdWUgaXMgYW4gb2JqZWN0LlxuICpcbiAqIEBwYXJhbSAgeyp9IHZhbHVlXG4gKiBAcmV0dXJuIHtCb29sZWFufVxuICpcbiAqIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2phc2hrZW5hcy91bmRlcnNjb3JlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc09iamVjdCAodmFsdWUpIHtcbiAgbGV0IHR5cGUgPSB0eXBlb2YgdmFsdWVcblxuICByZXR1cm4gdHlwZSA9PT0gJ2Z1bmN0aW9uJyB8fCB0eXBlID09PSAnb2JqZWN0JyAmJiAhIXZhbHVlIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tbWl4ZWQtb3BlcmF0b3JzXG59XG5cbi8qKlxuICogSW5kaWNhdGVzIHdoZXRoZXIgdGhlIHNwZWNpZmllZCB2YWx1ZSBpcyBhIG51bWJlci5cbiAqXG4gKiBAcGFyYW0gIHsqfSB2YWx1ZVxuICogQHJldHVybiB7Qm9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzTnVtYmVyICh2YWx1ZSkge1xuICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJ1xufVxuXG4vKipcbiAqIEluZGljYXRlcyB3aGV0aGVyIHRoZSBzcGVjaWZpZWQgdmFsdWUgaXMgYSBmdW5jdGlvbi5cbiAqXG4gKiBAcGFyYW0gIHsqfSB2YWx1ZVxuICogQHJldHVybiB7Qm9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzRnVuY3Rpb24gKHZhbHVlKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbidcbn1cblxuLyoqXG4gKiBJbmRpY2F0ZXMgd2hldGhlciB0aGUgc3BlY2lmaWVkIHZhbHVlIGlzIHVuZGVmaW5lZC5cbiAqXG4gKiBAcGFyYW0gIHsqfSB2YWx1ZVxuICogQHJldHVybiB7Qm9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzVW5kZWZpbmVkICh2YWx1ZSkge1xuICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAndW5kZWZpbmVkJ1xufVxuXG4vKipcbiAqIEluZGljYXRlcyB3aGV0aGVyIHRoZSBzcGVjaWZpZWQgdmFsdWUgaXMgYW4gYXJyYXkuXG4gKlxuICogQHBhcmFtICB7Kn0gdmFsdWVcbiAqIEByZXR1cm4ge0Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0FycmF5ICh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUuY29uc3RydWN0b3IgPT09IEFycmF5XG59XG4iLCIvKipcbiAqIERlZmluZXMgZ2V0dGVyIGFuZCBzZXR0ZXIgcHJvcGVydHkgb24gdGhlIHNwZWNpZmllZCBvYmplY3QuXG4gKlxuICogQHBhcmFtICB7T2JqZWN0fSBvYmogICAgICAgICBPYmplY3Qgd2hlcmUgcHJvcGVydHkgaGFzIHRvIGJlIGRlZmluZWQuXG4gKiBAcGFyYW0gIHtTdHJpbmd9IHByb3AgICAgICAgIE5hbWUgb2YgdGhlIGRlZmluZWQgcHJvcGVydHkuXG4gKiBAcGFyYW0gIHtPYmplY3R9IGRlZmluaXRpb24gIEdldCBhbmQgc2V0IGRlZmluaXRpb25zIGZvciB0aGUgcHJvcGVydHkuXG4gKiBAcmV0dXJuIHtWb2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZGVmaW5lIChvYmosIHByb3AsIGRlZmluaXRpb24pIHtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwgcHJvcCwgZGVmaW5pdGlvbilcbn1cblxuLyoqXG4gKiBTb3J0cyBhcGhhYmV0aWNhbGx5IG9iamVjdCBrZXlzLlxuICpcbiAqIEBwYXJhbSAge09iamVjdH0gb2JqXG4gKiBAcmV0dXJuIHtPYmplY3R9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzb3J0S2V5cyAob2JqKSB7XG4gIHJldHVybiBPYmplY3Qua2V5cyhvYmopLnNvcnQoKS5yZWR1Y2UoKHIsIGspID0+IHtcbiAgICByW2tdID0gb2JqW2tdXG5cbiAgICByZXR1cm4gKHJba10sIHIpXG4gIH0sIHt9KVxufVxuXG4vKipcbiAqIE1lcmdlcyBwYXNzZWQgc2V0dGluZ3Mgb2JqZWN0IHdpdGggZGVmYXVsdCBvcHRpb25zLlxuICpcbiAqIEBwYXJhbSAge09iamVjdH0gZGVmYXVsdHNcbiAqIEBwYXJhbSAge09iamVjdH0gc2V0dGluZ3NcbiAqIEByZXR1cm4ge09iamVjdH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1lcmdlT3B0aW9ucyAoZGVmYXVsdHMsIHNldHRpbmdzKSB7XG4gIGxldCBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgZGVmYXVsdHMsIHNldHRpbmdzKVxuXG4gIC8vIGBPYmplY3QuYXNzaWduYCBkbyBub3QgZGVlcGx5IG1lcmdlIG9iamVjdHMsIHNvIHdlXG4gIC8vIGhhdmUgdG8gZG8gaXQgbWFudWFsbHkgZm9yIGV2ZXJ5IG5lc3RlZCBvYmplY3RcbiAgLy8gaW4gb3B0aW9ucy4gQWx0aG91Z2ggaXQgZG9lcyBub3QgbG9vayBzbWFydCxcbiAgLy8gaXQncyBzbWFsbGVyIGFuZCBmYXN0ZXIgdGhhbiBzb21lIGZhbmN5XG4gIC8vIG1lcmdpbmcgZGVlcC1tZXJnZSBhbGdvcml0aG0gc2NyaXB0LlxuICBpZiAoc2V0dGluZ3MuaGFzT3duUHJvcGVydHkoJ2NsYXNzZXMnKSkge1xuICAgIG9wdGlvbnMuY2xhc3NlcyA9IE9iamVjdC5hc3NpZ24oe30sIGRlZmF1bHRzLmNsYXNzZXMsIHNldHRpbmdzLmNsYXNzZXMpXG5cbiAgICBpZiAoc2V0dGluZ3MuY2xhc3Nlcy5oYXNPd25Qcm9wZXJ0eSgnZGlyZWN0aW9uJykpIHtcbiAgICAgIG9wdGlvbnMuY2xhc3Nlcy5kaXJlY3Rpb24gPSBPYmplY3QuYXNzaWduKHt9LCBkZWZhdWx0cy5jbGFzc2VzLmRpcmVjdGlvbiwgc2V0dGluZ3MuY2xhc3Nlcy5kaXJlY3Rpb24pXG4gICAgfVxuICB9XG5cbiAgaWYgKHNldHRpbmdzLmhhc093blByb3BlcnR5KCdicmVha3BvaW50cycpKSB7XG4gICAgb3B0aW9ucy5icmVha3BvaW50cyA9IE9iamVjdC5hc3NpZ24oe30sIGRlZmF1bHRzLmJyZWFrcG9pbnRzLCBzZXR0aW5ncy5icmVha3BvaW50cylcbiAgfVxuXG4gIHJldHVybiBvcHRpb25zXG59XG4iLCJpbXBvcnQgeyBpc0FycmF5IH0gZnJvbSAnLi4vLi4vdXRpbHMvdW5pdCdcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRXZlbnRzQnVzIHtcbiAgLyoqXG4gICAqIENvbnN0cnVjdCBhIEV2ZW50QnVzIGluc3RhbmNlLlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gZXZlbnRzXG4gICAqL1xuICBjb25zdHJ1Y3RvciAoZXZlbnRzID0ge30pIHtcbiAgICB0aGlzLmV2ZW50cyA9IGV2ZW50c1xuICAgIHRoaXMuaG9wID0gZXZlbnRzLmhhc093blByb3BlcnR5XG4gIH1cblxuICAvKipcbiAgICogQWRkcyBsaXN0ZW5lciB0byB0aGUgc3BlY2lmZWQgZXZlbnQuXG4gICAqXG4gICAqIEBwYXJhbSB7U3RyaW5nfEFycmF5fSBldmVudFxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBoYW5kbGVyXG4gICAqL1xuICBvbiAoZXZlbnQsIGhhbmRsZXIpIHtcbiAgICBpZiAoaXNBcnJheShldmVudCkpIHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZXZlbnQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdGhpcy5vbihldmVudFtpXSwgaGFuZGxlcilcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBDcmVhdGUgdGhlIGV2ZW50J3Mgb2JqZWN0IGlmIG5vdCB5ZXQgY3JlYXRlZFxuICAgIGlmICghdGhpcy5ob3AuY2FsbCh0aGlzLmV2ZW50cywgZXZlbnQpKSB7XG4gICAgICB0aGlzLmV2ZW50c1tldmVudF0gPSBbXVxuICAgIH1cblxuICAgIC8vIEFkZCB0aGUgaGFuZGxlciB0byBxdWV1ZVxuICAgIHZhciBpbmRleCA9IHRoaXMuZXZlbnRzW2V2ZW50XS5wdXNoKGhhbmRsZXIpIC0gMVxuXG4gICAgLy8gUHJvdmlkZSBoYW5kbGUgYmFjayBmb3IgcmVtb3ZhbCBvZiBldmVudFxuICAgIHJldHVybiB7XG4gICAgICByZW1vdmUgKCkge1xuICAgICAgICBkZWxldGUgdGhpcy5ldmVudHNbZXZlbnRdW2luZGV4XVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSdW5zIHJlZ2lzdGVyZWQgaGFuZGxlcnMgZm9yIHNwZWNpZmllZCBldmVudC5cbiAgICpcbiAgICogQHBhcmFtIHtTdHJpbmd8QXJyYXl9IGV2ZW50XG4gICAqIEBwYXJhbSB7T2JqZWN0PX0gY29udGV4dFxuICAgKi9cbiAgZW1pdCAoZXZlbnQsIGNvbnRleHQpIHtcbiAgICBpZiAoaXNBcnJheShldmVudCkpIHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZXZlbnQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdGhpcy5lbWl0KGV2ZW50W2ldLCBjb250ZXh0KVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIElmIHRoZSBldmVudCBkb2Vzbid0IGV4aXN0LCBvciB0aGVyZSdzIG5vIGhhbmRsZXJzIGluIHF1ZXVlLCBqdXN0IGxlYXZlXG4gICAgaWYgKCF0aGlzLmhvcC5jYWxsKHRoaXMuZXZlbnRzLCBldmVudCkpIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIC8vIEN5Y2xlIHRocm91Z2ggZXZlbnRzIHF1ZXVlLCBmaXJlIVxuICAgIHRoaXMuZXZlbnRzW2V2ZW50XS5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICBpdGVtKGNvbnRleHQgfHwge30pXG4gICAgfSlcbiAgfVxufVxuIiwiaW1wb3J0IGRlZmF1bHRzIGZyb20gXCIuL2RlZmF1bHRzXCI7XHJcbmltcG9ydCB7IHdhcm4gfSBmcm9tIFwiLi91dGlscy9sb2dcIjtcclxuaW1wb3J0IHsgbW91bnQgfSBmcm9tIFwiLi9jb3JlL2luZGV4XCI7XHJcbmltcG9ydCB7IG1lcmdlT3B0aW9ucyB9IGZyb20gXCIuL3V0aWxzL29iamVjdFwiO1xyXG5pbXBvcnQgeyB0b0ludCwgaXNPYmplY3QsIGlzQXJyYXkgfSBmcm9tIFwiLi91dGlscy91bml0XCI7XHJcblxyXG5pbXBvcnQgRXZlbnRzQnVzIGZyb20gXCIuL2NvcmUvZXZlbnQvZXZlbnRzLWJ1c1wiO1xyXG5jb25zb2xlLmxvZyhcImdsaWRlIDNcIik7XHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdsaWRlIHtcclxuICAvKipcclxuICAgKiBDb25zdHJ1Y3QgZ2xpZGUuXHJcbiAgICpcclxuICAgKiBAcGFyYW0gIHtTdHJpbmd9IHNlbGVjdG9yXHJcbiAgICogQHBhcmFtICB7T2JqZWN0fSBvcHRpb25zXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioc2VsZWN0b3IsIG9wdGlvbnMgPSB7fSkge1xyXG4gICAgdGhpcy5fYyA9IHt9O1xyXG4gICAgdGhpcy5fdCA9IFtdO1xyXG4gICAgdGhpcy5fZSA9IG5ldyBFdmVudHNCdXMoKTtcclxuXHJcbiAgICB0aGlzLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICB0aGlzLnNlbGVjdG9yID0gc2VsZWN0b3I7XHJcbiAgICB0aGlzLnNldHRpbmdzID0gbWVyZ2VPcHRpb25zKGRlZmF1bHRzLCBvcHRpb25zKTtcclxuICAgIHRoaXMuaW5kZXggPSB0aGlzLnNldHRpbmdzLnN0YXJ0QXQ7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBJbml0aWFsaXplcyBnbGlkZS5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBleHRlbnNpb25zIENvbGxlY3Rpb24gb2YgZXh0ZW5zaW9ucyB0byBpbml0aWFsaXplLlxyXG4gICAqIEByZXR1cm4ge0dsaWRlfVxyXG4gICAqL1xyXG4gIG1vdW50KGV4dGVuc2lvbnMgPSB7fSkge1xyXG4gICAgdGhpcy5fZS5lbWl0KFwibW91bnQuYmVmb3JlXCIpO1xyXG5cclxuICAgIGlmIChpc09iamVjdChleHRlbnNpb25zKSkge1xyXG4gICAgICB0aGlzLl9jID0gbW91bnQodGhpcywgZXh0ZW5zaW9ucywgdGhpcy5fZSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB3YXJuKFwiWW91IG5lZWQgdG8gcHJvdmlkZSBhIG9iamVjdCBvbiBgbW91bnQoKWBcIik7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5fZS5lbWl0KFwibW91bnQuYWZ0ZXJcIik7XHJcblxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDb2xsZWN0cyBhbiBpbnN0YW5jZSBgdHJhbnNsYXRlYCB0cmFuc2Zvcm1lcnMuXHJcbiAgICpcclxuICAgKiBAcGFyYW0gIHtBcnJheX0gdHJhbnNmb3JtZXJzIENvbGxlY3Rpb24gb2YgdHJhbnNmb3JtZXJzLlxyXG4gICAqIEByZXR1cm4ge1ZvaWR9XHJcbiAgICovXHJcbiAgbXV0YXRlKHRyYW5zZm9ybWVycyA9IFtdKSB7XHJcbiAgICBpZiAoaXNBcnJheSh0cmFuc2Zvcm1lcnMpKSB7XHJcbiAgICAgIHRoaXMuX3QgPSB0cmFuc2Zvcm1lcnM7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB3YXJuKFwiWW91IG5lZWQgdG8gcHJvdmlkZSBhIGFycmF5IG9uIGBtdXRhdGUoKWBcIik7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBVcGRhdGVzIGdsaWRlIHdpdGggc3BlY2lmaWVkIHNldHRpbmdzLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtPYmplY3R9IHNldHRpbmdzXHJcbiAgICogQHJldHVybiB7R2xpZGV9XHJcbiAgICovXHJcbiAgdXBkYXRlKHNldHRpbmdzID0ge30pIHtcclxuICAgIHRoaXMuc2V0dGluZ3MgPSBtZXJnZU9wdGlvbnModGhpcy5zZXR0aW5ncywgc2V0dGluZ3MpO1xyXG5cclxuICAgIGlmIChzZXR0aW5ncy5oYXNPd25Qcm9wZXJ0eShcInN0YXJ0QXRcIikpIHtcclxuICAgICAgdGhpcy5pbmRleCA9IHNldHRpbmdzLnN0YXJ0QXQ7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5fZS5lbWl0KFwidXBkYXRlXCIpO1xyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ2hhbmdlIHNsaWRlIHdpdGggc3BlY2lmaWVkIHBhdHRlcm4uIEEgcGF0dGVybiBtdXN0IGJlIGluIHRoZSBzcGVjaWFsIGZvcm1hdDpcclxuICAgKiBgPmAgLSBNb3ZlIG9uZSBmb3J3YXJkXHJcbiAgICogYDxgIC0gTW92ZSBvbmUgYmFja3dhcmRcclxuICAgKiBgPXtpfWAgLSBHbyB0byB7aX0gemVyby1iYXNlZCBzbGlkZSAoZXEuICc9MScsIHdpbGwgZ28gdG8gc2Vjb25kIHNsaWRlKVxyXG4gICAqIGA+PmAgLSBSZXdpbmRzIHRvIGVuZCAobGFzdCBzbGlkZSlcclxuICAgKiBgPDxgIC0gUmV3aW5kcyB0byBzdGFydCAoZmlyc3Qgc2xpZGUpXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gcGF0dGVyblxyXG4gICAqIEByZXR1cm4ge0dsaWRlfVxyXG4gICAqL1xyXG4gIGdvKHBhdHRlcm4pIHtcclxuICAgIHRoaXMuX2MuUnVuLm1ha2UocGF0dGVybik7XHJcblxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBNb3ZlIHRyYWNrIGJ5IHNwZWNpZmllZCBkaXN0YW5jZS5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBkaXN0YW5jZVxyXG4gICAqIEByZXR1cm4ge0dsaWRlfVxyXG4gICAqL1xyXG4gIG1vdmUoZGlzdGFuY2UpIHtcclxuICAgIHRoaXMuX2MuVHJhbnNpdGlvbi5kaXNhYmxlKCk7XHJcbiAgICB0aGlzLl9jLk1vdmUubWFrZShkaXN0YW5jZSk7XHJcblxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBEZXN0cm95IGluc3RhbmNlIGFuZCByZXZlcnQgYWxsIGNoYW5nZXMgZG9uZSBieSB0aGlzLl9jLlxyXG4gICAqXHJcbiAgICogQHJldHVybiB7R2xpZGV9XHJcbiAgICovXHJcbiAgZGVzdHJveSgpIHtcclxuICAgIHRoaXMuX2UuZW1pdChcImRlc3Ryb3lcIik7XHJcblxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTdGFydCBpbnN0YW5jZSBhdXRvcGxheWluZy5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7Qm9vbGVhbnxOdW1iZXJ9IGludGVydmFsIFJ1biBhdXRvcGxheWluZyB3aXRoIHBhc3NlZCBpbnRlcnZhbCByZWdhcmRsZXNzIG9mIGBhdXRvcGxheWAgc2V0dGluZ3NcclxuICAgKiBAcmV0dXJuIHtHbGlkZX1cclxuICAgKi9cclxuICBwbGF5KGludGVydmFsID0gZmFsc2UpIHtcclxuICAgIGlmIChpbnRlcnZhbCkge1xyXG4gICAgICB0aGlzLnNldHRpbmdzLmF1dG9wbGF5ID0gaW50ZXJ2YWw7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5fZS5lbWl0KFwicGxheVwiKTtcclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFN0b3AgaW5zdGFuY2UgYXV0b3BsYXlpbmcuXHJcbiAgICpcclxuICAgKiBAcmV0dXJuIHtHbGlkZX1cclxuICAgKi9cclxuICBwYXVzZSgpIHtcclxuICAgIHRoaXMuX2UuZW1pdChcInBhdXNlXCIpO1xyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU2V0cyBnbGlkZSBpbnRvIGEgaWRsZSBzdGF0dXMuXHJcbiAgICpcclxuICAgKiBAcmV0dXJuIHtHbGlkZX1cclxuICAgKi9cclxuICBkaXNhYmxlKCkge1xyXG4gICAgdGhpcy5kaXNhYmxlZCA9IHRydWU7XHJcblxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTZXRzIGdsaWRlIGludG8gYSBhY3RpdmUgc3RhdHVzLlxyXG4gICAqXHJcbiAgICogQHJldHVybiB7R2xpZGV9XHJcbiAgICovXHJcbiAgZW5hYmxlKCkge1xyXG4gICAgdGhpcy5kaXNhYmxlZCA9IGZhbHNlO1xyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQWRkcyBjdXV0b20gZXZlbnQgbGlzdGVuZXIgd2l0aCBoYW5kbGVyLlxyXG4gICAqXHJcbiAgICogQHBhcmFtICB7U3RyaW5nfEFycmF5fSBldmVudFxyXG4gICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBoYW5kbGVyXHJcbiAgICogQHJldHVybiB7R2xpZGV9XHJcbiAgICovXHJcbiAgb24oZXZlbnQsIGhhbmRsZXIpIHtcclxuICAgIHRoaXMuX2Uub24oZXZlbnQsIGhhbmRsZXIpO1xyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ2hlY2tzIGlmIGdsaWRlIGlzIGEgcHJlY2lzZWQgdHlwZS5cclxuICAgKlxyXG4gICAqIEBwYXJhbSAge1N0cmluZ30gbmFtZVxyXG4gICAqIEByZXR1cm4ge0Jvb2xlYW59XHJcbiAgICovXHJcbiAgaXNUeXBlKG5hbWUpIHtcclxuICAgIHJldHVybiB0aGlzLnNldHRpbmdzLnR5cGUgPT09IG5hbWU7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZXRzIHZhbHVlIG9mIHRoZSBjb3JlIG9wdGlvbnMuXHJcbiAgICpcclxuICAgKiBAcmV0dXJuIHtPYmplY3R9XHJcbiAgICovXHJcbiAgZ2V0IHNldHRpbmdzKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX287XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTZXRzIHZhbHVlIG9mIHRoZSBjb3JlIG9wdGlvbnMuXHJcbiAgICpcclxuICAgKiBAcGFyYW0gIHtPYmplY3R9IG9cclxuICAgKiBAcmV0dXJuIHtWb2lkfVxyXG4gICAqL1xyXG4gIHNldCBzZXR0aW5ncyhvKSB7XHJcbiAgICBpZiAoaXNPYmplY3QobykpIHtcclxuICAgICAgdGhpcy5fbyA9IG87XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB3YXJuKFwiT3B0aW9ucyBtdXN0IGJlIGFuIGBvYmplY3RgIGluc3RhbmNlLlwiKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldHMgY3VycmVudCBpbmRleCBvZiB0aGUgc2xpZGVyLlxyXG4gICAqXHJcbiAgICogQHJldHVybiB7T2JqZWN0fVxyXG4gICAqL1xyXG4gIGdldCBpbmRleCgpIHtcclxuICAgIHJldHVybiB0aGlzLl9pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU2V0cyBjdXJyZW50IGluZGV4IGEgc2xpZGVyLlxyXG4gICAqXHJcbiAgICogQHJldHVybiB7T2JqZWN0fVxyXG4gICAqL1xyXG4gIHNldCBpbmRleChpKSB7XHJcbiAgICB0aGlzLl9pID0gdG9JbnQoaSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZXRzIHR5cGUgbmFtZSBvZiB0aGUgc2xpZGVyLlxyXG4gICAqXHJcbiAgICogQHJldHVybiB7U3RyaW5nfVxyXG4gICAqL1xyXG4gIGdldCB0eXBlKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuc2V0dGluZ3MudHlwZTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldHMgdmFsdWUgb2YgdGhlIGlkbGUgc3RhdHVzLlxyXG4gICAqXHJcbiAgICogQHJldHVybiB7Qm9vbGVhbn1cclxuICAgKi9cclxuICBnZXQgZGlzYWJsZWQoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fZDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFNldHMgdmFsdWUgb2YgdGhlIGlkbGUgc3RhdHVzLlxyXG4gICAqXHJcbiAgICogQHJldHVybiB7Qm9vbGVhbn1cclxuICAgKi9cclxuICBzZXQgZGlzYWJsZWQoc3RhdHVzKSB7XHJcbiAgICB0aGlzLl9kID0gISFzdGF0dXM7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IHdhcm4gfSBmcm9tICcuLi91dGlscy9sb2cnXG5pbXBvcnQgeyBpc0Z1bmN0aW9uIH0gZnJvbSAnLi4vdXRpbHMvdW5pdCdcblxuLyoqXG4gKiBDcmVhdGVzIGFuZCBpbml0aWFsaXplcyBzcGVjaWZpZWQgY29sbGVjdGlvbiBvZiBleHRlbnNpb25zLlxuICogRWFjaCBleHRlbnNpb24gcmVjZWl2ZXMgYWNjZXNzIHRvIGluc3RhbmNlIG9mIGdsaWRlIGFuZCByZXN0IG9mIGNvbXBvbmVudHMuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGdsaWRlXG4gKiBAcGFyYW0ge09iamVjdH0gZXh0ZW5zaW9uc1xuICpcbiAqIEByZXR1cm5zIHtPYmplY3R9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtb3VudCAoZ2xpZGUsIGV4dGVuc2lvbnMsIGV2ZW50cykge1xuICBsZXQgY29tcG9uZW50cyA9IHt9XG5cbiAgZm9yIChsZXQgbmFtZSBpbiBleHRlbnNpb25zKSB7XG4gICAgaWYgKGlzRnVuY3Rpb24oZXh0ZW5zaW9uc1tuYW1lXSkpIHtcbiAgICAgIGNvbXBvbmVudHNbbmFtZV0gPSBleHRlbnNpb25zW25hbWVdKGdsaWRlLCBjb21wb25lbnRzLCBldmVudHMpXG4gICAgfSBlbHNlIHtcbiAgICAgIHdhcm4oJ0V4dGVuc2lvbiBtdXN0IGJlIGEgZnVuY3Rpb24nKVxuICAgIH1cbiAgfVxuXG4gIGZvciAobGV0IG5hbWUgaW4gY29tcG9uZW50cykge1xuICAgIGlmIChpc0Z1bmN0aW9uKGNvbXBvbmVudHNbbmFtZV0ubW91bnQpKSB7XG4gICAgICBjb21wb25lbnRzW25hbWVdLm1vdW50KClcbiAgICB9XG4gIH1cblxuICByZXR1cm4gY29tcG9uZW50c1xufVxuIiwiLyoqXG4gKiBSZXR1cm5zIGEgY3VycmVudCB0aW1lLlxuICpcbiAqIEByZXR1cm4ge051bWJlcn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG5vdyAoKSB7XG4gIHJldHVybiBuZXcgRGF0ZSgpLmdldFRpbWUoKVxufVxuIiwiaW1wb3J0IHsgbm93IH0gZnJvbSAnLi90aW1lJ1xuXG4vKipcbiAqIFJldHVybnMgYSBmdW5jdGlvbiwgdGhhdCwgd2hlbiBpbnZva2VkLCB3aWxsIG9ubHkgYmUgdHJpZ2dlcmVkXG4gKiBhdCBtb3N0IG9uY2UgZHVyaW5nIGEgZ2l2ZW4gd2luZG93IG9mIHRpbWUuXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuY1xuICogQHBhcmFtIHtOdW1iZXJ9IHdhaXRcbiAqIEBwYXJhbSB7T2JqZWN0PX0gb3B0aW9uc1xuICogQHJldHVybiB7RnVuY3Rpb259XG4gKlxuICogQHNlZSBodHRwczovL2dpdGh1Yi5jb20vamFzaGtlbmFzL3VuZGVyc2NvcmVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRocm90dGxlIChmdW5jLCB3YWl0LCBvcHRpb25zKSB7XG4gIGxldCB0aW1lb3V0LCBjb250ZXh0LCBhcmdzLCByZXN1bHRcbiAgbGV0IHByZXZpb3VzID0gMFxuICBpZiAoIW9wdGlvbnMpIG9wdGlvbnMgPSB7fVxuXG4gIGxldCBsYXRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICBwcmV2aW91cyA9IG9wdGlvbnMubGVhZGluZyA9PT0gZmFsc2UgPyAwIDogbm93KClcbiAgICB0aW1lb3V0ID0gbnVsbFxuICAgIHJlc3VsdCA9IGZ1bmMuYXBwbHkoY29udGV4dCwgYXJncylcbiAgICBpZiAoIXRpbWVvdXQpIGNvbnRleHQgPSBhcmdzID0gbnVsbFxuICB9XG5cbiAgbGV0IHRocm90dGxlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICBsZXQgYXQgPSBub3coKVxuICAgIGlmICghcHJldmlvdXMgJiYgb3B0aW9ucy5sZWFkaW5nID09PSBmYWxzZSkgcHJldmlvdXMgPSBhdFxuICAgIGxldCByZW1haW5pbmcgPSB3YWl0IC0gKGF0IC0gcHJldmlvdXMpXG4gICAgY29udGV4dCA9IHRoaXNcbiAgICBhcmdzID0gYXJndW1lbnRzXG4gICAgaWYgKHJlbWFpbmluZyA8PSAwIHx8IHJlbWFpbmluZyA+IHdhaXQpIHtcbiAgICAgIGlmICh0aW1lb3V0KSB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KVxuICAgICAgICB0aW1lb3V0ID0gbnVsbFxuICAgICAgfVxuICAgICAgcHJldmlvdXMgPSBhdFxuICAgICAgcmVzdWx0ID0gZnVuYy5hcHBseShjb250ZXh0LCBhcmdzKVxuICAgICAgaWYgKCF0aW1lb3V0KSBjb250ZXh0ID0gYXJncyA9IG51bGxcbiAgICB9IGVsc2UgaWYgKCF0aW1lb3V0ICYmIG9wdGlvbnMudHJhaWxpbmcgIT09IGZhbHNlKSB7XG4gICAgICB0aW1lb3V0ID0gc2V0VGltZW91dChsYXRlciwgcmVtYWluaW5nKVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0XG4gIH1cblxuICB0aHJvdHRsZWQuY2FuY2VsID0gZnVuY3Rpb24gKCkge1xuICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KVxuICAgIHByZXZpb3VzID0gMFxuICAgIHRpbWVvdXQgPSBjb250ZXh0ID0gYXJncyA9IG51bGxcbiAgfVxuXG4gIHJldHVybiB0aHJvdHRsZWRcbn1cbiIsImltcG9ydCB7IHRvSW50IH0gZnJvbSAnLi4vdXRpbHMvdW5pdCdcbmltcG9ydCB7IGRlZmluZSB9IGZyb20gJy4uL3V0aWxzL29iamVjdCdcbmltcG9ydCB7IHRocm90dGxlIH0gZnJvbSAnLi4vdXRpbHMvd2FpdCdcblxuY29uc3QgTUFSR0lOX1RZUEUgPSB7XG4gIGx0cjogWydtYXJnaW5MZWZ0JywgJ21hcmdpblJpZ2h0J10sXG4gIHJ0bDogWydtYXJnaW5SaWdodCcsICdtYXJnaW5MZWZ0J11cbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKEdsaWRlLCBDb21wb25lbnRzLCBFdmVudHMpIHtcbiAgY29uc3QgR2FwcyA9IHtcbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIGdhcHMgYmV0d2VlbiBzbGlkZXMuIEZpcnN0IGFuZCBsYXN0XG4gICAgICogc2xpZGVzIGRvIG5vdCByZWNlaXZlIGl0J3MgZWRnZSBtYXJnaW5zLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtIVE1MQ29sbGVjdGlvbn0gc2xpZGVzXG4gICAgICogQHJldHVybiB7Vm9pZH1cbiAgICAgKi9cbiAgICBhcHBseSAoc2xpZGVzKSB7XG4gICAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gc2xpZGVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIGxldCBzdHlsZSA9IHNsaWRlc1tpXS5zdHlsZVxuICAgICAgICBsZXQgZGlyZWN0aW9uID0gQ29tcG9uZW50cy5EaXJlY3Rpb24udmFsdWVcblxuICAgICAgICBpZiAoaSAhPT0gMCkge1xuICAgICAgICAgIHN0eWxlW01BUkdJTl9UWVBFW2RpcmVjdGlvbl1bMF1dID0gYCR7dGhpcy52YWx1ZSAvIDJ9cHhgXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc3R5bGVbTUFSR0lOX1RZUEVbZGlyZWN0aW9uXVswXV0gPSAnJ1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGkgIT09IHNsaWRlcy5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgc3R5bGVbTUFSR0lOX1RZUEVbZGlyZWN0aW9uXVsxXV0gPSBgJHt0aGlzLnZhbHVlIC8gMn1weGBcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzdHlsZVtNQVJHSU5fVFlQRVtkaXJlY3Rpb25dWzFdXSA9ICcnXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBnYXBzIGZyb20gdGhlIHNsaWRlcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7SFRNTENvbGxlY3Rpb259IHNsaWRlc1xuICAgICAqIEByZXR1cm5zIHtWb2lkfVxuICAgICovXG4gICAgcmVtb3ZlIChzbGlkZXMpIHtcbiAgICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSBzbGlkZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgbGV0IHN0eWxlID0gc2xpZGVzW2ldLnN0eWxlXG5cbiAgICAgICAgc3R5bGUubWFyZ2luTGVmdCA9ICcnXG4gICAgICAgIHN0eWxlLm1hcmdpblJpZ2h0ID0gJydcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBkZWZpbmUoR2FwcywgJ3ZhbHVlJywge1xuICAgIC8qKlxuICAgICAqIEdldHMgdmFsdWUgb2YgdGhlIGdhcC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtOdW1iZXJ9XG4gICAgICovXG4gICAgZ2V0ICgpIHtcbiAgICAgIHJldHVybiB0b0ludChHbGlkZS5zZXR0aW5ncy5nYXApXG4gICAgfVxuICB9KVxuXG4gIGRlZmluZShHYXBzLCAnZ3JvdycsIHtcbiAgICAvKipcbiAgICAgKiBHZXRzIGFkZGl0aW9uYWwgZGltZW50aW9ucyB2YWx1ZSBjYXVzZWQgYnkgZ2Fwcy5cbiAgICAgKiBVc2VkIHRvIGluY3JlYXNlIHdpZHRoIG9mIHRoZSBzbGlkZXMgd3JhcHBlci5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtOdW1iZXJ9XG4gICAgICovXG4gICAgZ2V0ICgpIHtcbiAgICAgIHJldHVybiBHYXBzLnZhbHVlICogKENvbXBvbmVudHMuU2l6ZXMubGVuZ3RoKVxuICAgIH1cbiAgfSlcblxuICBkZWZpbmUoR2FwcywgJ3JlZHVjdG9yJywge1xuICAgIC8qKlxuICAgICAqIEdldHMgcmVkdWN0aW9uIHZhbHVlIGNhdXNlZCBieSBnYXBzLlxuICAgICAqIFVzZWQgdG8gc3VidHJhY3Qgd2lkdGggb2YgdGhlIHNsaWRlcy5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtOdW1iZXJ9XG4gICAgICovXG4gICAgZ2V0ICgpIHtcbiAgICAgIGxldCBwZXJWaWV3ID0gR2xpZGUuc2V0dGluZ3MucGVyVmlld1xuXG4gICAgICByZXR1cm4gKEdhcHMudmFsdWUgKiAocGVyVmlldyAtIDEpKSAvIHBlclZpZXdcbiAgICB9XG4gIH0pXG5cbiAgLyoqXG4gICAqIEFwcGx5IGNhbGN1bGF0ZWQgZ2FwczpcbiAgICogLSBhZnRlciBidWlsZGluZywgc28gc2xpZGVzIChpbmNsdWRpbmcgY2xvbmVzKSB3aWxsIHJlY2VpdmUgcHJvcGVyIG1hcmdpbnNcbiAgICogLSBvbiB1cGRhdGluZyB2aWEgQVBJLCB0byByZWNhbGN1bGF0ZSBnYXBzIHdpdGggbmV3IG9wdGlvbnNcbiAgICovXG4gIEV2ZW50cy5vbihbJ2J1aWxkLmFmdGVyJywgJ3VwZGF0ZSddLCB0aHJvdHRsZSgoKSA9PiB7XG4gICAgR2Fwcy5hcHBseShDb21wb25lbnRzLkh0bWwud3JhcHBlci5jaGlsZHJlbilcbiAgfSwgMzApKVxuXG4gIC8qKlxuICAgKiBSZW1vdmUgZ2FwczpcbiAgICogLSBvbiBkZXN0cm95aW5nIHRvIGJyaW5nIG1hcmt1cCB0byBpdHMgaW5pdGFsIHN0YXRlXG4gICAqL1xuICBFdmVudHMub24oJ2Rlc3Ryb3knLCAoKSA9PiB7XG4gICAgR2Fwcy5yZW1vdmUoQ29tcG9uZW50cy5IdG1sLndyYXBwZXIuY2hpbGRyZW4pXG4gIH0pXG5cbiAgcmV0dXJuIEdhcHNcbn1cbiIsIi8qKlxuICogRmluZHMgc2libGluZ3Mgbm9kZXMgb2YgdGhlIHBhc3NlZCBub2RlLlxuICpcbiAqIEBwYXJhbSAge0VsZW1lbnR9IG5vZGVcbiAqIEByZXR1cm4ge0FycmF5fVxuICovXG5leHBvcnQgZnVuY3Rpb24gc2libGluZ3MgKG5vZGUpIHtcbiAgaWYgKG5vZGUgJiYgbm9kZS5wYXJlbnROb2RlKSB7XG4gICAgbGV0IG4gPSBub2RlLnBhcmVudE5vZGUuZmlyc3RDaGlsZFxuICAgIGxldCBtYXRjaGVkID0gW11cblxuICAgIGZvciAoOyBuOyBuID0gbi5uZXh0U2libGluZykge1xuICAgICAgaWYgKG4ubm9kZVR5cGUgPT09IDEgJiYgbiAhPT0gbm9kZSkge1xuICAgICAgICBtYXRjaGVkLnB1c2gobilcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbWF0Y2hlZFxuICB9XG5cbiAgcmV0dXJuIFtdXG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIHBhc3NlZCBub2RlIGV4aXN0IGFuZCBpcyBhIHZhbGlkIGVsZW1lbnQuXG4gKlxuICogQHBhcmFtICB7RWxlbWVudH0gbm9kZVxuICogQHJldHVybiB7Qm9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGV4aXN0IChub2RlKSB7XG4gIGlmIChub2RlICYmIG5vZGUgaW5zdGFuY2VvZiB3aW5kb3cuSFRNTEVsZW1lbnQpIHtcbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgcmV0dXJuIGZhbHNlXG59XG4iLCJpbXBvcnQgeyB3YXJuIH0gZnJvbSAnLi4vdXRpbHMvbG9nJ1xuaW1wb3J0IHsgZXhpc3QgfSBmcm9tICcuLi91dGlscy9kb20nXG5pbXBvcnQgeyBkZWZpbmUgfSBmcm9tICcuLi91dGlscy9vYmplY3QnXG5pbXBvcnQgeyBpc1N0cmluZyB9IGZyb20gJy4uL3V0aWxzL3VuaXQnXG5cbmNvbnN0IFRSQUNLX1NFTEVDVE9SID0gJ1tkYXRhLWdsaWRlLWVsPVwidHJhY2tcIl0nXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIChHbGlkZSwgQ29tcG9uZW50cykge1xuICBjb25zdCBIdG1sID0ge1xuICAgIC8qKlxuICAgICAqIFNldHVwIHNsaWRlciBIVE1MIG5vZGVzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtHbGlkZX0gZ2xpZGVcbiAgICAgKi9cbiAgICBtb3VudCAoKSB7XG4gICAgICB0aGlzLnJvb3QgPSBHbGlkZS5zZWxlY3RvclxuICAgICAgdGhpcy50cmFjayA9IHRoaXMucm9vdC5xdWVyeVNlbGVjdG9yKFRSQUNLX1NFTEVDVE9SKVxuICAgICAgdGhpcy5zbGlkZXMgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCh0aGlzLndyYXBwZXIuY2hpbGRyZW4pLmZpbHRlcigoc2xpZGUpID0+IHtcbiAgICAgICAgcmV0dXJuICFzbGlkZS5jbGFzc0xpc3QuY29udGFpbnMoR2xpZGUuc2V0dGluZ3MuY2xhc3Nlcy5jbG9uZVNsaWRlKVxuICAgICAgfSlcbiAgICB9XG4gIH1cblxuICBkZWZpbmUoSHRtbCwgJ3Jvb3QnLCB7XG4gICAgLyoqXG4gICAgICogR2V0cyBub2RlIG9mIHRoZSBnbGlkZSBtYWluIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9XG4gICAgICovXG4gICAgZ2V0ICgpIHtcbiAgICAgIHJldHVybiBIdG1sLl9yXG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNldHMgbm9kZSBvZiB0aGUgZ2xpZGUgbWFpbiBlbGVtZW50LlxuICAgICAqXG4gICAgICogQHJldHVybiB7T2JqZWN0fVxuICAgICAqL1xuICAgIHNldCAocikge1xuICAgICAgaWYgKGlzU3RyaW5nKHIpKSB7XG4gICAgICAgIHIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHIpXG4gICAgICB9XG5cbiAgICAgIGlmIChleGlzdChyKSkge1xuICAgICAgICBIdG1sLl9yID0gclxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgd2FybignUm9vdCBlbGVtZW50IG11c3QgYmUgYSBleGlzdGluZyBIdG1sIG5vZGUnKVxuICAgICAgfVxuICAgIH1cbiAgfSlcblxuICBkZWZpbmUoSHRtbCwgJ3RyYWNrJywge1xuICAgIC8qKlxuICAgICAqIEdldHMgbm9kZSBvZiB0aGUgZ2xpZGUgdHJhY2sgd2l0aCBzbGlkZXMuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9XG4gICAgICovXG4gICAgZ2V0ICgpIHtcbiAgICAgIHJldHVybiBIdG1sLl90XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNldHMgbm9kZSBvZiB0aGUgZ2xpZGUgdHJhY2sgd2l0aCBzbGlkZXMuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9XG4gICAgICovXG4gICAgc2V0ICh0KSB7XG4gICAgICBpZiAoZXhpc3QodCkpIHtcbiAgICAgICAgSHRtbC5fdCA9IHRcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHdhcm4oYENvdWxkIG5vdCBmaW5kIHRyYWNrIGVsZW1lbnQuIFBsZWFzZSB1c2UgJHtUUkFDS19TRUxFQ1RPUn0gYXR0cmlidXRlLmApXG4gICAgICB9XG4gICAgfVxuICB9KVxuXG4gIGRlZmluZShIdG1sLCAnd3JhcHBlcicsIHtcbiAgICAvKipcbiAgICAgKiBHZXRzIG5vZGUgb2YgdGhlIHNsaWRlcyB3cmFwcGVyLlxuICAgICAqXG4gICAgICogQHJldHVybiB7T2JqZWN0fVxuICAgICAqL1xuICAgIGdldCAoKSB7XG4gICAgICByZXR1cm4gSHRtbC50cmFjay5jaGlsZHJlblswXVxuICAgIH1cbiAgfSlcblxuICByZXR1cm4gSHRtbFxufVxuIiwiaW1wb3J0IHsgaXNTdHJpbmcgfSBmcm9tICcuLi8uLi91dGlscy91bml0J1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBFdmVudHNCaW5kZXIge1xuICAvKipcbiAgICogQ29uc3RydWN0IGEgRXZlbnRzQmluZGVyIGluc3RhbmNlLlxuICAgKi9cbiAgY29uc3RydWN0b3IgKGxpc3RlbmVycyA9IHt9KSB7XG4gICAgdGhpcy5saXN0ZW5lcnMgPSBsaXN0ZW5lcnNcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGRzIGV2ZW50cyBsaXN0ZW5lcnMgdG8gYXJyb3dzIEhUTUwgZWxlbWVudHMuXG4gICAqXG4gICAqIEBwYXJhbSAge1N0cmluZ3xBcnJheX0gZXZlbnRzXG4gICAqIEBwYXJhbSAge0VsZW1lbnR8V2luZG93fERvY3VtZW50fSBlbFxuICAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gY2xvc3VyZVxuICAgKiBAcGFyYW0gIHtCb29sZWFufE9iamVjdH0gY2FwdHVyZVxuICAgKiBAcmV0dXJuIHtWb2lkfVxuICAgKi9cbiAgb24gKGV2ZW50cywgZWwsIGNsb3N1cmUsIGNhcHR1cmUgPSBmYWxzZSkge1xuICAgIGlmIChpc1N0cmluZyhldmVudHMpKSB7XG4gICAgICBldmVudHMgPSBbZXZlbnRzXVxuICAgIH1cblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZXZlbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLmxpc3RlbmVyc1tldmVudHNbaV1dID0gY2xvc3VyZVxuXG4gICAgICBlbC5hZGRFdmVudExpc3RlbmVyKGV2ZW50c1tpXSwgdGhpcy5saXN0ZW5lcnNbZXZlbnRzW2ldXSwgY2FwdHVyZSlcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlcyBldmVudCBsaXN0ZW5lcnMgZnJvbSBhcnJvd3MgSFRNTCBlbGVtZW50cy5cbiAgICpcbiAgICogQHBhcmFtICB7U3RyaW5nfEFycmF5fSBldmVudHNcbiAgICogQHBhcmFtICB7RWxlbWVudHxXaW5kb3d8RG9jdW1lbnR9IGVsXG4gICAqIEBwYXJhbSAge0Jvb2xlYW58T2JqZWN0fSBjYXB0dXJlXG4gICAqIEByZXR1cm4ge1ZvaWR9XG4gICAqL1xuICBvZmYgKGV2ZW50cywgZWwsIGNhcHR1cmUgPSBmYWxzZSkge1xuICAgIGlmIChpc1N0cmluZyhldmVudHMpKSB7XG4gICAgICBldmVudHMgPSBbZXZlbnRzXVxuICAgIH1cblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZXZlbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBlbC5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50c1tpXSwgdGhpcy5saXN0ZW5lcnNbZXZlbnRzW2ldXSwgY2FwdHVyZSlcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRGVzdHJveSBjb2xsZWN0ZWQgbGlzdGVuZXJzLlxuICAgKlxuICAgKiBAcmV0dXJucyB7Vm9pZH1cbiAgICovXG4gIGRlc3Ryb3kgKCkge1xuICAgIGRlbGV0ZSB0aGlzLmxpc3RlbmVyc1xuICB9XG59XG4iLCJpbXBvcnQgeyB3YXJuIH0gZnJvbSAnLi4vdXRpbHMvbG9nJ1xuaW1wb3J0IHsgZGVmaW5lIH0gZnJvbSAnLi4vdXRpbHMvb2JqZWN0J1xuXG5jb25zdCBWQUxJRF9ESVJFQ1RJT05TID0gWydsdHInLCAncnRsJ11cbmNvbnN0IEZMSVBFRF9NT1ZFTUVOVFMgPSB7XG4gICc+JzogJzwnLFxuICAnPCc6ICc+JyxcbiAgJz0nOiAnPSdcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKEdsaWRlLCBDb21wb25lbnRzLCBFdmVudHMpIHtcbiAgY29uc3QgRGlyZWN0aW9uID0ge1xuICAgIC8qKlxuICAgICAqIFNldHVwcyBnYXAgdmFsdWUgYmFzZWQgb24gc2V0dGluZ3MuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtWb2lkfVxuICAgICAqL1xuICAgIG1vdW50ICgpIHtcbiAgICAgIHRoaXMudmFsdWUgPSBHbGlkZS5zZXR0aW5ncy5kaXJlY3Rpb25cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmVzb2x2ZXMgcGF0dGVybiBiYXNlZCBvbiBkaXJlY3Rpb24gdmFsdWVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBwYXR0ZXJuXG4gICAgICogQHJldHVybnMge1N0cmluZ31cbiAgICAgKi9cbiAgICByZXNvbHZlIChwYXR0ZXJuKSB7XG4gICAgICBsZXQgdG9rZW4gPSBwYXR0ZXJuLnNsaWNlKDAsIDEpXG5cbiAgICAgIGlmICh0aGlzLmlzKCdydGwnKSkge1xuICAgICAgICByZXR1cm4gcGF0dGVybi5zcGxpdCh0b2tlbikuam9pbihGTElQRURfTU9WRU1FTlRTW3Rva2VuXSlcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHBhdHRlcm5cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIHZhbHVlIG9mIGRpcmVjdGlvbiBtb2RlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGRpcmVjdGlvblxuICAgICAqIEByZXR1cm5zIHtCb29sZWFufVxuICAgICAqL1xuICAgIGlzIChkaXJlY3Rpb24pIHtcbiAgICAgIHJldHVybiB0aGlzLnZhbHVlID09PSBkaXJlY3Rpb25cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQXBwbGllcyBkaXJlY3Rpb24gY2xhc3MgdG8gdGhlIHJvb3QgSFRNTCBlbGVtZW50LlxuICAgICAqXG4gICAgICogQHJldHVybiB7Vm9pZH1cbiAgICAgKi9cbiAgICBhZGRDbGFzcyAoKSB7XG4gICAgICBDb21wb25lbnRzLkh0bWwucm9vdC5jbGFzc0xpc3QuYWRkKEdsaWRlLnNldHRpbmdzLmNsYXNzZXMuZGlyZWN0aW9uW3RoaXMudmFsdWVdKVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGRpcmVjdGlvbiBjbGFzcyBmcm9tIHRoZSByb290IEhUTUwgZWxlbWVudC5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1ZvaWR9XG4gICAgICovXG4gICAgcmVtb3ZlQ2xhc3MgKCkge1xuICAgICAgQ29tcG9uZW50cy5IdG1sLnJvb3QuY2xhc3NMaXN0LnJlbW92ZShHbGlkZS5zZXR0aW5ncy5jbGFzc2VzLmRpcmVjdGlvblt0aGlzLnZhbHVlXSlcbiAgICB9XG4gIH1cblxuICBkZWZpbmUoRGlyZWN0aW9uLCAndmFsdWUnLCB7XG4gICAgLyoqXG4gICAgICogR2V0cyB2YWx1ZSBvZiB0aGUgZGlyZWN0aW9uLlxuICAgICAqXG4gICAgICogQHJldHVybnMge051bWJlcn1cbiAgICAgKi9cbiAgICBnZXQgKCkge1xuICAgICAgcmV0dXJuIERpcmVjdGlvbi5fdlxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHZhbHVlIG9mIHRoZSBkaXJlY3Rpb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdmFsdWVcbiAgICAgKiBAcmV0dXJuIHtWb2lkfVxuICAgICAqL1xuICAgIHNldCAodmFsdWUpIHtcbiAgICAgIGlmIChWQUxJRF9ESVJFQ1RJT05TLmluZGV4T2YodmFsdWUpID4gLTEpIHtcbiAgICAgICAgRGlyZWN0aW9uLl92ID0gdmFsdWVcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHdhcm4oJ0RpcmVjdGlvbiB2YWx1ZSBtdXN0IGJlIGBsdHJgIG9yIGBydGxgJylcbiAgICAgIH1cbiAgICB9XG4gIH0pXG5cbiAgLyoqXG4gICAqIENsZWFyIGRpcmVjdGlvbiBjbGFzczpcbiAgICogLSBvbiBkZXN0cm95IHRvIGJyaW5nIEhUTUwgdG8gaXRzIGluaXRpYWwgc3RhdGVcbiAgICogLSBvbiB1cGRhdGUgdG8gcmVtb3ZlIGNsYXNzIGJlZm9yZSByZWFwcGxpbmcgYmVsbG93XG4gICAqL1xuICBFdmVudHMub24oWydkZXN0cm95JywgJ3VwZGF0ZSddLCAoKSA9PiB7XG4gICAgRGlyZWN0aW9uLnJlbW92ZUNsYXNzKClcbiAgfSlcblxuICAvKipcbiAgICogUmVtb3VudCBjb21wb25lbnQ6XG4gICAqIC0gb24gdXBkYXRlIHRvIHJlZmxlY3QgY2hhbmdlcyBpbiBkaXJlY3Rpb24gdmFsdWVcbiAgICovXG4gIEV2ZW50cy5vbigndXBkYXRlJywgKCkgPT4ge1xuICAgIERpcmVjdGlvbi5tb3VudCgpXG4gIH0pXG5cbiAgLyoqXG4gICAqIEFwcGx5IGRpcmVjdGlvbiBjbGFzczpcbiAgICogLSBiZWZvcmUgYnVpbGRpbmcgdG8gYXBwbHkgY2xhc3MgZm9yIHRoZSBmaXJzdCB0aW1lXG4gICAqIC0gb24gdXBkYXRpbmcgdG8gcmVhcHBseSBkaXJlY3Rpb24gY2xhc3MgdGhhdCBtYXkgY2hhbmdlZFxuICAgKi9cbiAgRXZlbnRzLm9uKFsnYnVpbGQuYmVmb3JlJywgJ3VwZGF0ZSddLCAoKSA9PiB7XG4gICAgRGlyZWN0aW9uLmFkZENsYXNzKClcbiAgfSlcblxuICByZXR1cm4gRGlyZWN0aW9uXG59XG4iLCIvKipcbiAqIFJlZmxlY3RzIHZhbHVlIG9mIGdsaWRlIG1vdmVtZW50LlxuICpcbiAqIEBwYXJhbSAge09iamVjdH0gR2xpZGVcbiAqIEBwYXJhbSAge09iamVjdH0gQ29tcG9uZW50c1xuICogQHJldHVybiB7T2JqZWN0fVxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoR2xpZGUsIENvbXBvbmVudHMpIHtcbiAgcmV0dXJuIHtcbiAgICAvKipcbiAgICAgKiBOZWdhdGVzIHRoZSBwYXNzZWQgdHJhbnNsYXRlIGlmIGdsaWRlIGlzIGluIFJUTCBvcHRpb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IHRyYW5zbGF0ZVxuICAgICAqIEByZXR1cm4ge051bWJlcn1cbiAgICAgKi9cbiAgICBtb2RpZnkgKHRyYW5zbGF0ZSkge1xuICAgICAgaWYgKENvbXBvbmVudHMuRGlyZWN0aW9uLmlzKCdydGwnKSkge1xuICAgICAgICByZXR1cm4gLXRyYW5zbGF0ZVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gdHJhbnNsYXRlXG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgeyB3YXJuIH0gZnJvbSAnLi4vdXRpbHMvbG9nJ1xuaW1wb3J0IHsgaXNGdW5jdGlvbiB9IGZyb20gJy4uL3V0aWxzL3VuaXQnXG5cbmltcG9ydCBSdGwgZnJvbSAnLi90cmFuc2Zvcm1lcnMvcnRsJ1xuaW1wb3J0IEdhcCBmcm9tICcuL3RyYW5zZm9ybWVycy9nYXAnXG5pbXBvcnQgR3JvdyBmcm9tICcuL3RyYW5zZm9ybWVycy9ncm93J1xuaW1wb3J0IFBlZWtpbmcgZnJvbSAnLi90cmFuc2Zvcm1lcnMvcGVla2luZydcbmltcG9ydCBGb2N1c2luZyBmcm9tICcuL3RyYW5zZm9ybWVycy9mb2N1c2luZydcblxuLyoqXG4gKiBBcHBsaWVzIGRpZmZyZW50IHRyYW5zZm9ybWVycyBvbiB0cmFuc2xhdGUgdmFsdWUuXG4gKlxuICogQHBhcmFtICB7T2JqZWN0fSBHbGlkZVxuICogQHBhcmFtICB7T2JqZWN0fSBDb21wb25lbnRzXG4gKiBAcmV0dXJuIHtPYmplY3R9XG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIChHbGlkZSwgQ29tcG9uZW50cywgRXZlbnRzKSB7XG4gIC8qKlxuICAgKiBNZXJnZSBpbnN0YW5jZSB0cmFuc2Zvcm1lcnMgd2l0aCBjb2xsZWN0aW9uIG9mIGRlZmF1bHQgdHJhbnNmb3JtZXJzLlxuICAgKiBJdCdzIGltcG9ydGFudCB0aGF0IHRoZSBSdGwgY29tcG9uZW50IGJlIGxhc3Qgb24gdGhlIGxpc3QsXG4gICAqIHNvIGl0IHJlZmxlY3RzIGFsbCBwcmV2aW91cyB0cmFuc2Zvcm1hdGlvbnMuXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheX1cbiAgICovXG4gIGxldCBUUkFOU0ZPUk1FUlMgPSBbXG4gICAgR2FwLFxuICAgIEdyb3csXG4gICAgUGVla2luZyxcbiAgICBGb2N1c2luZ1xuICBdLmNvbmNhdChHbGlkZS5fdCwgW1J0bF0pXG5cbiAgcmV0dXJuIHtcbiAgICAvKipcbiAgICAgKiBQaXBsaW5lcyB0cmFuc2xhdGUgdmFsdWUgd2l0aCByZWdpc3RlcmVkIHRyYW5zZm9ybWVycy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSAge051bWJlcn0gdHJhbnNsYXRlXG4gICAgICogQHJldHVybiB7TnVtYmVyfVxuICAgICAqL1xuICAgIG11dGF0ZSAodHJhbnNsYXRlKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IFRSQU5TRk9STUVSUy5sZW5ndGg7IGkrKykge1xuICAgICAgICBsZXQgdHJhbnNmb3JtZXIgPSBUUkFOU0ZPUk1FUlNbaV1cblxuICAgICAgICBpZiAoaXNGdW5jdGlvbih0cmFuc2Zvcm1lcikgJiYgaXNGdW5jdGlvbih0cmFuc2Zvcm1lcigpLm1vZGlmeSkpIHtcbiAgICAgICAgICB0cmFuc2xhdGUgPSB0cmFuc2Zvcm1lcihHbGlkZSwgQ29tcG9uZW50cywgRXZlbnRzKS5tb2RpZnkodHJhbnNsYXRlKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHdhcm4oJ1RyYW5zZm9ybWVyIHNob3VsZCBiZSBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhbiBvYmplY3Qgd2l0aCBgbW9kaWZ5KClgIG1ldGhvZCcpXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRyYW5zbGF0ZVxuICAgIH1cbiAgfVxufVxuIiwiLyoqXG4gKiBVcGRhdGVzIGdsaWRlIG1vdmVtZW50IHdpdGggYSBgZ2FwYCBzZXR0aW5ncy5cbiAqXG4gKiBAcGFyYW0gIHtPYmplY3R9IEdsaWRlXG4gKiBAcGFyYW0gIHtPYmplY3R9IENvbXBvbmVudHNcbiAqIEByZXR1cm4ge09iamVjdH1cbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKEdsaWRlLCBDb21wb25lbnRzKSB7XG4gIHJldHVybiB7XG4gICAgLyoqXG4gICAgICogTW9kaWZpZXMgcGFzc2VkIHRyYW5zbGF0ZSB2YWx1ZSB3aXRoIG51bWJlciBpbiB0aGUgYGdhcGAgc2V0dGluZ3MuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IHRyYW5zbGF0ZVxuICAgICAqIEByZXR1cm4ge051bWJlcn1cbiAgICAgKi9cbiAgICBtb2RpZnkgKHRyYW5zbGF0ZSkge1xuICAgICAgY29uc3QgbXVsdGlwbGllciA9IE1hdGguZmxvb3IodHJhbnNsYXRlIC8gQ29tcG9uZW50cy5TaXplcy5zbGlkZVdpZHRoKVxuICAgICAgcmV0dXJuIHRyYW5zbGF0ZSArIChDb21wb25lbnRzLkdhcHMudmFsdWUgKiBtdWx0aXBsaWVyKVxuICAgIH1cbiAgfVxufVxuIiwiLyoqXG4gKiBVcGRhdGVzIGdsaWRlIG1vdmVtZW50IHdpdGggd2lkdGggb2YgYWRkaXRpb25hbCBjbG9uZXMgd2lkdGguXG4gKlxuICogQHBhcmFtICB7T2JqZWN0fSBHbGlkZVxuICogQHBhcmFtICB7T2JqZWN0fSBDb21wb25lbnRzXG4gKiBAcmV0dXJuIHtPYmplY3R9XG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIChHbGlkZSwgQ29tcG9uZW50cykge1xuICByZXR1cm4ge1xuICAgIC8qKlxuICAgICAqIEFkZHMgdG8gdGhlIHBhc3NlZCB0cmFuc2xhdGUgd2lkdGggb2YgdGhlIGhhbGYgb2YgY2xvbmVzLlxuICAgICAqXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSB0cmFuc2xhdGVcbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9XG4gICAgICovXG4gICAgbW9kaWZ5ICh0cmFuc2xhdGUpIHtcbiAgICAgIHJldHVybiB0cmFuc2xhdGUgKyAoQ29tcG9uZW50cy5DbG9uZXMuZ3JvdyAvIDIpXG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgeyBpc09iamVjdCB9IGZyb20gJy4uLy4uL3V0aWxzL3VuaXQnXG5cbi8qKlxuICogVXBkYXRlcyBnbGlkZSBtb3ZlbWVudCB3aXRoIGEgYHBlZWtgIHNldHRpbmdzLlxuICpcbiAqIEBwYXJhbSAge09iamVjdH0gR2xpZGVcbiAqIEBwYXJhbSAge09iamVjdH0gQ29tcG9uZW50c1xuICogQHJldHVybiB7T2JqZWN0fVxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoR2xpZGUsIENvbXBvbmVudHMpIHtcbiAgcmV0dXJuIHtcbiAgICAvKipcbiAgICAgKiBNb2RpZmllcyBwYXNzZWQgdHJhbnNsYXRlIHZhbHVlIHdpdGggYSBgcGVla2Agc2V0dGluZy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSAge051bWJlcn0gdHJhbnNsYXRlXG4gICAgICogQHJldHVybiB7TnVtYmVyfVxuICAgICAqL1xuICAgIG1vZGlmeSAodHJhbnNsYXRlKSB7XG4gICAgICBpZiAoR2xpZGUuc2V0dGluZ3MuZm9jdXNBdCA+PSAwKSB7XG4gICAgICAgIGxldCBwZWVrID0gQ29tcG9uZW50cy5QZWVrLnZhbHVlXG5cbiAgICAgICAgaWYgKGlzT2JqZWN0KHBlZWspKSB7XG4gICAgICAgICAgcmV0dXJuIHRyYW5zbGF0ZSAtIHBlZWsuYmVmb3JlXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJhbnNsYXRlIC0gcGVla1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdHJhbnNsYXRlXG4gICAgfVxuICB9XG59XG4iLCIvKipcbiAqIFVwZGF0ZXMgZ2xpZGUgbW92ZW1lbnQgd2l0aCBhIGBmb2N1c0F0YCBzZXR0aW5ncy5cbiAqXG4gKiBAcGFyYW0gIHtPYmplY3R9IEdsaWRlXG4gKiBAcGFyYW0gIHtPYmplY3R9IENvbXBvbmVudHNcbiAqIEByZXR1cm4ge09iamVjdH1cbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKEdsaWRlLCBDb21wb25lbnRzKSB7XG4gIHJldHVybiB7XG4gICAgLyoqXG4gICAgICogTW9kaWZpZXMgcGFzc2VkIHRyYW5zbGF0ZSB2YWx1ZSB3aXRoIGluZGV4IGluIHRoZSBgZm9jdXNBdGAgc2V0dGluZy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSAge051bWJlcn0gdHJhbnNsYXRlXG4gICAgICogQHJldHVybiB7TnVtYmVyfVxuICAgICAqL1xuICAgIG1vZGlmeSAodHJhbnNsYXRlKSB7XG4gICAgICBsZXQgZ2FwID0gQ29tcG9uZW50cy5HYXBzLnZhbHVlXG4gICAgICBsZXQgd2lkdGggPSBDb21wb25lbnRzLlNpemVzLndpZHRoXG4gICAgICBsZXQgZm9jdXNBdCA9IEdsaWRlLnNldHRpbmdzLmZvY3VzQXRcbiAgICAgIGxldCBzbGlkZVdpZHRoID0gQ29tcG9uZW50cy5TaXplcy5zbGlkZVdpZHRoXG5cbiAgICAgIGlmIChmb2N1c0F0ID09PSAnY2VudGVyJykge1xuICAgICAgICByZXR1cm4gdHJhbnNsYXRlIC0gKHdpZHRoIC8gMiAtIHNsaWRlV2lkdGggLyAyKVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gdHJhbnNsYXRlIC0gKHNsaWRlV2lkdGggKiBmb2N1c0F0KSAtIChnYXAgKiBmb2N1c0F0KVxuICAgIH1cbiAgfVxufVxuIiwiLyoqXG4gKiBUZXN0IHZpYSBhIGdldHRlciBpbiB0aGUgb3B0aW9ucyBvYmplY3QgdG8gc2VlXG4gKiBpZiB0aGUgcGFzc2l2ZSBwcm9wZXJ0eSBpcyBhY2Nlc3NlZC5cbiAqXG4gKiBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9XSUNHL0V2ZW50TGlzdGVuZXJPcHRpb25zL2Jsb2IvZ2gtcGFnZXMvZXhwbGFpbmVyLm1kI2ZlYXR1cmUtZGV0ZWN0aW9uXG4gKi9cblxubGV0IHN1cHBvcnRzUGFzc2l2ZSA9IGZhbHNlXG5cbnRyeSB7XG4gIGxldCBvcHRzID0gT2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LCAncGFzc2l2ZScsIHtcbiAgICBnZXQgKCkge1xuICAgICAgc3VwcG9ydHNQYXNzaXZlID0gdHJ1ZVxuICAgIH1cbiAgfSlcblxuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigndGVzdFBhc3NpdmUnLCBudWxsLCBvcHRzKVxuICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigndGVzdFBhc3NpdmUnLCBudWxsLCBvcHRzKVxufSBjYXRjaCAoZSkge31cblxuZXhwb3J0IGRlZmF1bHQgc3VwcG9ydHNQYXNzaXZlXG4iLCJpbXBvcnQgeyB0aHJvdHRsZSB9IGZyb20gJy4uL3V0aWxzL3dhaXQnXG5pbXBvcnQgeyB0b0ludCwgdG9GbG9hdCB9IGZyb20gJy4uL3V0aWxzL3VuaXQnXG5pbXBvcnQgc3VwcG9ydHNQYXNzaXZlIGZyb20gJy4uL3V0aWxzL2RldGVjdC1wYXNzaXZlLWV2ZW50J1xuXG5pbXBvcnQgRXZlbnRzQmluZGVyIGZyb20gJy4uL2NvcmUvZXZlbnQvZXZlbnRzLWJpbmRlcidcblxuY29uc3QgU1RBUlRfRVZFTlRTID0gWyd0b3VjaHN0YXJ0JywgJ21vdXNlZG93biddXG5jb25zdCBNT1ZFX0VWRU5UUyA9IFsndG91Y2htb3ZlJywgJ21vdXNlbW92ZSddXG5jb25zdCBFTkRfRVZFTlRTID0gWyd0b3VjaGVuZCcsICd0b3VjaGNhbmNlbCcsICdtb3VzZXVwJywgJ21vdXNlbGVhdmUnXVxuY29uc3QgTU9VU0VfRVZFTlRTID0gWydtb3VzZWRvd24nLCAnbW91c2Vtb3ZlJywgJ21vdXNldXAnLCAnbW91c2VsZWF2ZSddXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIChHbGlkZSwgQ29tcG9uZW50cywgRXZlbnRzKSB7XG4gIC8qKlxuICAgKiBJbnN0YW5jZSBvZiB0aGUgYmluZGVyIGZvciBET00gRXZlbnRzLlxuICAgKlxuICAgKiBAdHlwZSB7RXZlbnRzQmluZGVyfVxuICAgKi9cbiAgY29uc3QgQmluZGVyID0gbmV3IEV2ZW50c0JpbmRlcigpXG5cbiAgbGV0IHN3aXBlU2luID0gMFxuICBsZXQgc3dpcGVTdGFydFggPSAwXG4gIGxldCBzd2lwZVN0YXJ0WSA9IDBcbiAgbGV0IGRpc2FibGVkID0gZmFsc2VcbiAgbGV0IGNhcHR1cmUgPSAoc3VwcG9ydHNQYXNzaXZlKSA/IHsgcGFzc2l2ZTogdHJ1ZSB9IDogZmFsc2VcblxuICBjb25zdCBTd2lwZSA9IHtcbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplcyBzd2lwZSBiaW5kaW5ncy5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1ZvaWR9XG4gICAgICovXG4gICAgbW91bnQgKCkge1xuICAgICAgdGhpcy5iaW5kU3dpcGVTdGFydCgpXG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEhhbmRsZXIgZm9yIGBzd2lwZXN0YXJ0YCBldmVudC4gQ2FsY3VsYXRlcyBlbnRyeSBwb2ludHMgb2YgdGhlIHVzZXIncyB0YXAuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZXZlbnRcbiAgICAgKiBAcmV0dXJuIHtWb2lkfVxuICAgICAqL1xuICAgIHN0YXJ0IChldmVudCkge1xuICAgICAgaWYgKCFkaXNhYmxlZCAmJiAhR2xpZGUuZGlzYWJsZWQpIHtcbiAgICAgICAgdGhpcy5kaXNhYmxlKClcblxuICAgICAgICBsZXQgc3dpcGUgPSB0aGlzLnRvdWNoZXMoZXZlbnQpXG5cbiAgICAgICAgc3dpcGVTaW4gPSBudWxsXG4gICAgICAgIHN3aXBlU3RhcnRYID0gdG9JbnQoc3dpcGUucGFnZVgpXG4gICAgICAgIHN3aXBlU3RhcnRZID0gdG9JbnQoc3dpcGUucGFnZVkpXG5cbiAgICAgICAgdGhpcy5iaW5kU3dpcGVNb3ZlKClcbiAgICAgICAgdGhpcy5iaW5kU3dpcGVFbmQoKVxuXG4gICAgICAgIEV2ZW50cy5lbWl0KCdzd2lwZS5zdGFydCcpXG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEhhbmRsZXIgZm9yIGBzd2lwZW1vdmVgIGV2ZW50LiBDYWxjdWxhdGVzIHVzZXIncyB0YXAgYW5nbGUgYW5kIGRpc3RhbmNlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGV2ZW50XG4gICAgICovXG4gICAgbW92ZSAoZXZlbnQpIHtcbiAgICAgIGlmICghR2xpZGUuZGlzYWJsZWQpIHtcbiAgICAgICAgbGV0IHsgdG91Y2hBbmdsZSwgdG91Y2hSYXRpbywgY2xhc3NlcyB9ID0gR2xpZGUuc2V0dGluZ3NcblxuICAgICAgICBsZXQgc3dpcGUgPSB0aGlzLnRvdWNoZXMoZXZlbnQpXG5cbiAgICAgICAgbGV0IHN1YkV4U3ggPSB0b0ludChzd2lwZS5wYWdlWCkgLSBzd2lwZVN0YXJ0WFxuICAgICAgICBsZXQgc3ViRXlTeSA9IHRvSW50KHN3aXBlLnBhZ2VZKSAtIHN3aXBlU3RhcnRZXG4gICAgICAgIGxldCBwb3dFWCA9IE1hdGguYWJzKHN1YkV4U3ggPDwgMilcbiAgICAgICAgbGV0IHBvd0VZID0gTWF0aC5hYnMoc3ViRXlTeSA8PCAyKVxuICAgICAgICBsZXQgc3dpcGVIeXBvdGVudXNlID0gTWF0aC5zcXJ0KHBvd0VYICsgcG93RVkpXG4gICAgICAgIGxldCBzd2lwZUNhdGhldHVzID0gTWF0aC5zcXJ0KHBvd0VZKVxuXG4gICAgICAgIHN3aXBlU2luID0gTWF0aC5hc2luKHN3aXBlQ2F0aGV0dXMgLyBzd2lwZUh5cG90ZW51c2UpXG5cbiAgICAgICAgaWYgKHN3aXBlU2luICogMTgwIC8gTWF0aC5QSSA8IHRvdWNoQW5nbGUpIHtcbiAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKVxuXG4gICAgICAgICAgQ29tcG9uZW50cy5Nb3ZlLm1ha2Uoc3ViRXhTeCAqIHRvRmxvYXQodG91Y2hSYXRpbykpXG5cbiAgICAgICAgICBDb21wb25lbnRzLkh0bWwucm9vdC5jbGFzc0xpc3QuYWRkKGNsYXNzZXMuZHJhZ2dpbmcpXG5cbiAgICAgICAgICBFdmVudHMuZW1pdCgnc3dpcGUubW92ZScpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogSGFuZGxlciBmb3IgYHN3aXBlZW5kYCBldmVudC4gRmluaXRpYWxpemVzIHVzZXIncyB0YXAgYW5kIGRlY2lkZXMgYWJvdXQgZ2xpZGUgbW92ZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBldmVudFxuICAgICAqIEByZXR1cm4ge1ZvaWR9XG4gICAgICovXG4gICAgZW5kIChldmVudCkge1xuICAgICAgaWYgKCFHbGlkZS5kaXNhYmxlZCkge1xuICAgICAgICBsZXQgc2V0dGluZ3MgPSBHbGlkZS5zZXR0aW5nc1xuXG4gICAgICAgIGxldCBzd2lwZSA9IHRoaXMudG91Y2hlcyhldmVudClcbiAgICAgICAgbGV0IHRocmVzaG9sZCA9IHRoaXMudGhyZXNob2xkKGV2ZW50KVxuXG4gICAgICAgIGxldCBzd2lwZURpc3RhbmNlID0gc3dpcGUucGFnZVggLSBzd2lwZVN0YXJ0WFxuICAgICAgICBsZXQgc3dpcGVEZWcgPSBzd2lwZVNpbiAqIDE4MCAvIE1hdGguUElcbiAgICAgICAgbGV0IHN0ZXBzID0gTWF0aC5yb3VuZChzd2lwZURpc3RhbmNlIC8gQ29tcG9uZW50cy5TaXplcy5zbGlkZVdpZHRoKVxuXG4gICAgICAgIHRoaXMuZW5hYmxlKClcblxuICAgICAgICBpZiAoc3dpcGVEaXN0YW5jZSA+IHRocmVzaG9sZCAmJiBzd2lwZURlZyA8IHNldHRpbmdzLnRvdWNoQW5nbGUpIHtcbiAgICAgICAgICAvLyBXaGlsZSBzd2lwZSBpcyBwb3NpdGl2ZSBhbmQgZ3JlYXRlciB0aGFuIHRocmVzaG9sZCBtb3ZlIGJhY2t3YXJkLlxuICAgICAgICAgIGlmIChzZXR0aW5ncy5wZXJUb3VjaCkge1xuICAgICAgICAgICAgc3RlcHMgPSBNYXRoLm1pbihzdGVwcywgdG9JbnQoc2V0dGluZ3MucGVyVG91Y2gpKVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChDb21wb25lbnRzLkRpcmVjdGlvbi5pcygncnRsJykpIHtcbiAgICAgICAgICAgIHN0ZXBzID0gLXN0ZXBzXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgQ29tcG9uZW50cy5SdW4ubWFrZShDb21wb25lbnRzLkRpcmVjdGlvbi5yZXNvbHZlKGA8JHtzdGVwc31gKSlcbiAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICBzd2lwZURpc3RhbmNlIDwgLXRocmVzaG9sZCAmJlxuICAgICAgICAgIHN3aXBlRGVnIDwgc2V0dGluZ3MudG91Y2hBbmdsZVxuICAgICAgICApIHtcbiAgICAgICAgICAvLyBXaGlsZSBzd2lwZSBpcyBuZWdhdGl2ZSBhbmQgbG93ZXIgdGhhbiBuZWdhdGl2ZSB0aHJlc2hvbGQgbW92ZSBmb3J3YXJkLlxuICAgICAgICAgIGlmIChzZXR0aW5ncy5wZXJUb3VjaCkge1xuICAgICAgICAgICAgc3RlcHMgPSBNYXRoLm1heChzdGVwcywgLXRvSW50KHNldHRpbmdzLnBlclRvdWNoKSlcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoQ29tcG9uZW50cy5EaXJlY3Rpb24uaXMoJ3J0bCcpKSB7XG4gICAgICAgICAgICBzdGVwcyA9IC1zdGVwc1xuICAgICAgICAgIH1cblxuICAgICAgICAgIENvbXBvbmVudHMuUnVuLm1ha2UoQ29tcG9uZW50cy5EaXJlY3Rpb24ucmVzb2x2ZShgPiR7c3RlcHN9YCkpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gV2hpbGUgc3dpcGUgZG9uJ3QgcmVhY2ggZGlzdGFuY2UgYXBwbHkgcHJldmlvdXMgdHJhbnNmb3JtLlxuICAgICAgICAgIENvbXBvbmVudHMuTW92ZS5tYWtlKClcbiAgICAgICAgfVxuXG4gICAgICAgIENvbXBvbmVudHMuSHRtbC5yb290LmNsYXNzTGlzdC5yZW1vdmUoc2V0dGluZ3MuY2xhc3Nlcy5kcmFnZ2luZylcblxuICAgICAgICB0aGlzLnVuYmluZFN3aXBlTW92ZSgpXG4gICAgICAgIHRoaXMudW5iaW5kU3dpcGVFbmQoKVxuXG4gICAgICAgIEV2ZW50cy5lbWl0KCdzd2lwZS5lbmQnKVxuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBCaW5kcyBzd2lwZSdzIHN0YXJ0aW5nIGV2ZW50LlxuICAgICAqXG4gICAgICogQHJldHVybiB7Vm9pZH1cbiAgICAgKi9cbiAgICBiaW5kU3dpcGVTdGFydCAoKSB7XG4gICAgICBsZXQgc2V0dGluZ3MgPSBHbGlkZS5zZXR0aW5nc1xuXG4gICAgICBpZiAoc2V0dGluZ3Muc3dpcGVUaHJlc2hvbGQpIHtcbiAgICAgICAgQmluZGVyLm9uKFNUQVJUX0VWRU5UU1swXSwgQ29tcG9uZW50cy5IdG1sLndyYXBwZXIsIChldmVudCkgPT4ge1xuICAgICAgICAgIHRoaXMuc3RhcnQoZXZlbnQpXG4gICAgICAgIH0sIGNhcHR1cmUpXG4gICAgICB9XG5cbiAgICAgIGlmIChzZXR0aW5ncy5kcmFnVGhyZXNob2xkKSB7XG4gICAgICAgIEJpbmRlci5vbihTVEFSVF9FVkVOVFNbMV0sIENvbXBvbmVudHMuSHRtbC53cmFwcGVyLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICB0aGlzLnN0YXJ0KGV2ZW50KVxuICAgICAgICB9LCBjYXB0dXJlKVxuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBVbmJpbmRzIHN3aXBlJ3Mgc3RhcnRpbmcgZXZlbnQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtWb2lkfVxuICAgICAqL1xuICAgIHVuYmluZFN3aXBlU3RhcnQgKCkge1xuICAgICAgQmluZGVyLm9mZihTVEFSVF9FVkVOVFNbMF0sIENvbXBvbmVudHMuSHRtbC53cmFwcGVyLCBjYXB0dXJlKVxuICAgICAgQmluZGVyLm9mZihTVEFSVF9FVkVOVFNbMV0sIENvbXBvbmVudHMuSHRtbC53cmFwcGVyLCBjYXB0dXJlKVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBCaW5kcyBzd2lwZSdzIG1vdmluZyBldmVudC5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1ZvaWR9XG4gICAgICovXG4gICAgYmluZFN3aXBlTW92ZSAoKSB7XG4gICAgICBCaW5kZXIub24oTU9WRV9FVkVOVFMsIENvbXBvbmVudHMuSHRtbC53cmFwcGVyLCB0aHJvdHRsZSgoZXZlbnQpID0+IHtcbiAgICAgICAgdGhpcy5tb3ZlKGV2ZW50KVxuICAgICAgfSwgR2xpZGUuc2V0dGluZ3MudGhyb3R0bGUpLCBjYXB0dXJlKVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBVbmJpbmRzIHN3aXBlJ3MgbW92aW5nIGV2ZW50LlxuICAgICAqXG4gICAgICogQHJldHVybiB7Vm9pZH1cbiAgICAgKi9cbiAgICB1bmJpbmRTd2lwZU1vdmUgKCkge1xuICAgICAgQmluZGVyLm9mZihNT1ZFX0VWRU5UUywgQ29tcG9uZW50cy5IdG1sLndyYXBwZXIsIGNhcHR1cmUpXG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEJpbmRzIHN3aXBlJ3MgZW5kaW5nIGV2ZW50LlxuICAgICAqXG4gICAgICogQHJldHVybiB7Vm9pZH1cbiAgICAgKi9cbiAgICBiaW5kU3dpcGVFbmQgKCkge1xuICAgICAgQmluZGVyLm9uKEVORF9FVkVOVFMsIENvbXBvbmVudHMuSHRtbC53cmFwcGVyLCAoZXZlbnQpID0+IHtcbiAgICAgICAgdGhpcy5lbmQoZXZlbnQpXG4gICAgICB9KVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBVbmJpbmRzIHN3aXBlJ3MgZW5kaW5nIGV2ZW50LlxuICAgICAqXG4gICAgICogQHJldHVybiB7Vm9pZH1cbiAgICAgKi9cbiAgICB1bmJpbmRTd2lwZUVuZCAoKSB7XG4gICAgICBCaW5kZXIub2ZmKEVORF9FVkVOVFMsIENvbXBvbmVudHMuSHRtbC53cmFwcGVyKVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBOb3JtYWxpemVzIGV2ZW50IHRvdWNoZXMgcG9pbnRzIGFjY29ydGluZyB0byBkaWZmZXJlbnQgdHlwZXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZXZlbnRcbiAgICAgKi9cbiAgICB0b3VjaGVzIChldmVudCkge1xuICAgICAgaWYgKE1PVVNFX0VWRU5UUy5pbmRleE9mKGV2ZW50LnR5cGUpID4gLTEpIHtcbiAgICAgICAgcmV0dXJuIGV2ZW50XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBldmVudC50b3VjaGVzWzBdIHx8IGV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdXG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEdldHMgdmFsdWUgb2YgbWluaW11bSBzd2lwZSBkaXN0YW5jZSBzZXR0aW5ncyBiYXNlZCBvbiBldmVudCB0eXBlLlxuICAgICAqXG4gICAgICogQHJldHVybiB7TnVtYmVyfVxuICAgICAqL1xuICAgIHRocmVzaG9sZCAoZXZlbnQpIHtcbiAgICAgIGxldCBzZXR0aW5ncyA9IEdsaWRlLnNldHRpbmdzXG5cbiAgICAgIGlmIChNT1VTRV9FVkVOVFMuaW5kZXhPZihldmVudC50eXBlKSA+IC0xKSB7XG4gICAgICAgIHJldHVybiBzZXR0aW5ncy5kcmFnVGhyZXNob2xkXG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzZXR0aW5ncy5zd2lwZVRocmVzaG9sZFxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBFbmFibGVzIHN3aXBlIGV2ZW50LlxuICAgICAqXG4gICAgICogQHJldHVybiB7c2VsZn1cbiAgICAgKi9cbiAgICBlbmFibGUgKCkge1xuICAgICAgZGlzYWJsZWQgPSBmYWxzZVxuXG4gICAgICBDb21wb25lbnRzLlRyYW5zaXRpb24uZW5hYmxlKClcblxuICAgICAgcmV0dXJuIHRoaXNcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogRGlzYWJsZXMgc3dpcGUgZXZlbnQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtzZWxmfVxuICAgICAqL1xuICAgIGRpc2FibGUgKCkge1xuICAgICAgZGlzYWJsZWQgPSB0cnVlXG5cbiAgICAgIENvbXBvbmVudHMuVHJhbnNpdGlvbi5kaXNhYmxlKClcblxuICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQWRkIGNvbXBvbmVudCBjbGFzczpcbiAgICogLSBhZnRlciBpbml0aWFsIGJ1aWxkaW5nXG4gICAqL1xuICBFdmVudHMub24oJ2J1aWxkLmFmdGVyJywgKCkgPT4ge1xuICAgIENvbXBvbmVudHMuSHRtbC5yb290LmNsYXNzTGlzdC5hZGQoR2xpZGUuc2V0dGluZ3MuY2xhc3Nlcy5zd2lwZWFibGUpXG4gIH0pXG5cbiAgLyoqXG4gICAqIFJlbW92ZSBzd2lwaW5nIGJpbmRpbmdzOlxuICAgKiAtIG9uIGRlc3Ryb3lpbmcsIHRvIHJlbW92ZSBhZGRlZCBFdmVudExpc3RlbmVyc1xuICAgKi9cbiAgRXZlbnRzLm9uKCdkZXN0cm95JywgKCkgPT4ge1xuICAgIFN3aXBlLnVuYmluZFN3aXBlU3RhcnQoKVxuICAgIFN3aXBlLnVuYmluZFN3aXBlTW92ZSgpXG4gICAgU3dpcGUudW5iaW5kU3dpcGVFbmQoKVxuICAgIEJpbmRlci5kZXN0cm95KClcbiAgfSlcblxuICByZXR1cm4gU3dpcGVcbn1cbiIsImltcG9ydCB7IHdhcm4gfSBmcm9tICcuLi91dGlscy9sb2cnXG5pbXBvcnQgeyB0aHJvdHRsZSB9IGZyb20gJy4uL3V0aWxzL3dhaXQnXG5pbXBvcnQgeyBpc09iamVjdCB9IGZyb20gJy4uL3V0aWxzL3VuaXQnXG5pbXBvcnQgeyBzb3J0S2V5cywgbWVyZ2VPcHRpb25zIH0gZnJvbSAnLi4vdXRpbHMvb2JqZWN0J1xuXG5pbXBvcnQgRXZlbnRzQmluZGVyIGZyb20gJy4uL2NvcmUvZXZlbnQvZXZlbnRzLWJpbmRlcidcblxuLyoqXG4gKiBTb3J0cyBrZXlzIG9mIGJyZWFrcG9pbnQgb2JqZWN0IHNvIHRoZXkgd2lsbCBiZSBvcmRlcmVkIGZyb20gbG93ZXIgdG8gYmlnZ2VyLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBwb2ludHNcbiAqIEByZXR1cm5zIHtPYmplY3R9XG4gKi9cbmZ1bmN0aW9uIHNvcnRCcmVha3BvaW50cyAocG9pbnRzKSB7XG4gIGlmIChpc09iamVjdChwb2ludHMpKSB7XG4gICAgcmV0dXJuIHNvcnRLZXlzKHBvaW50cylcbiAgfSBlbHNlIHtcbiAgICB3YXJuKGBCcmVha3BvaW50cyBvcHRpb24gbXVzdCBiZSBhbiBvYmplY3RgKVxuICB9XG5cbiAgcmV0dXJuIHt9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIChHbGlkZSwgQ29tcG9uZW50cywgRXZlbnRzKSB7XG4gIC8qKlxuICAgKiBJbnN0YW5jZSBvZiB0aGUgYmluZGVyIGZvciBET00gRXZlbnRzLlxuICAgKlxuICAgKiBAdHlwZSB7RXZlbnRzQmluZGVyfVxuICAgKi9cbiAgY29uc3QgQmluZGVyID0gbmV3IEV2ZW50c0JpbmRlcigpXG5cbiAgLyoqXG4gICAqIEhvbGRzIHJlZmVyZW5jZSB0byBzZXR0aW5ncy5cbiAgICpcbiAgICogQHR5cGUge09iamVjdH1cbiAgICovXG4gIGxldCBzZXR0aW5ncyA9IEdsaWRlLnNldHRpbmdzXG5cbiAgLyoqXG4gICAqIEhvbGRzIHJlZmVyZW5jZSB0byBicmVha3BvaW50cyBvYmplY3QgaW4gc2V0dGluZ3MuIFNvcnRzIGJyZWFrcG9pbnRzXG4gICAqIGZyb20gc21hbGxlciB0byBsYXJnZXIuIEl0IGlzIHJlcXVpcmVkIGluIG9yZGVyIHRvIHByb3BlclxuICAgKiBtYXRjaGluZyBjdXJyZW50bHkgYWN0aXZlIGJyZWFrcG9pbnQgc2V0dGluZ3MuXG4gICAqXG4gICAqIEB0eXBlIHtPYmplY3R9XG4gICAqL1xuICBsZXQgcG9pbnRzID0gc29ydEJyZWFrcG9pbnRzKHNldHRpbmdzLmJyZWFrcG9pbnRzKVxuXG4gIC8qKlxuICAgKiBDYWNoZSBpbml0aWFsIHNldHRpbmdzIGJlZm9yZSBvdmVyd3JpdHRpbmcuXG4gICAqXG4gICAqIEB0eXBlIHtPYmplY3R9XG4gICAqL1xuICBsZXQgZGVmYXVsdHMgPSBPYmplY3QuYXNzaWduKHt9LCBzZXR0aW5ncylcblxuICBjb25zdCBCcmVha3BvaW50cyA9IHtcbiAgICAvKipcbiAgICAgKiBNYXRjaGVzIHNldHRpbmdzIGZvciBjdXJyZWN0bHkgbWF0Y2hpbmcgbWVkaWEgYnJlYWtwb2ludC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwb2ludHNcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgICAqL1xuICAgIG1hdGNoIChwb2ludHMpIHtcbiAgICAgIGlmICh0eXBlb2Ygd2luZG93Lm1hdGNoTWVkaWEgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGZvciAobGV0IHBvaW50IGluIHBvaW50cykge1xuICAgICAgICAgIGlmIChwb2ludHMuaGFzT3duUHJvcGVydHkocG9pbnQpKSB7XG4gICAgICAgICAgICBpZiAod2luZG93Lm1hdGNoTWVkaWEoYChtYXgtd2lkdGg6ICR7cG9pbnR9cHgpYCkubWF0Y2hlcykge1xuICAgICAgICAgICAgICByZXR1cm4gcG9pbnRzW3BvaW50XVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gZGVmYXVsdHNcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogT3ZlcndyaXRlIGluc3RhbmNlIHNldHRpbmdzIHdpdGggY3VycmVudGx5IG1hdGNoaW5nIGJyZWFrcG9pbnQgc2V0dGluZ3MuXG4gICAqIFRoaXMgaGFwcGVucyByaWdodCBhZnRlciBjb21wb25lbnQgaW5pdGlhbGl6YXRpb24uXG4gICAqL1xuICBPYmplY3QuYXNzaWduKHNldHRpbmdzLCBCcmVha3BvaW50cy5tYXRjaChwb2ludHMpKVxuXG4gIC8qKlxuICAgKiBVcGRhdGUgZ2xpZGUgd2l0aCBzZXR0aW5ncyBvZiBtYXRjaGVkIGJyZWtwb2ludDpcbiAgICogLSB3aW5kb3cgcmVzaXplIHRvIHVwZGF0ZSBzbGlkZXJcbiAgICovXG4gIEJpbmRlci5vbigncmVzaXplJywgd2luZG93LCB0aHJvdHRsZSgoKSA9PiB7XG4gICAgR2xpZGUuc2V0dGluZ3MgPSBtZXJnZU9wdGlvbnMoc2V0dGluZ3MsIEJyZWFrcG9pbnRzLm1hdGNoKHBvaW50cykpXG4gIH0sIEdsaWRlLnNldHRpbmdzLnRocm90dGxlKSlcblxuICAvKipcbiAgICogUmVzb3J0IGFuZCB1cGRhdGUgZGVmYXVsdCBzZXR0aW5nczpcbiAgICogLSBvbiByZWluaXQgdmlhIEFQSSwgc28gYnJlYWtwb2ludCBtYXRjaGluZyB3aWxsIGJlIHBlcmZvcm1lZCB3aXRoIG9wdGlvbnNcbiAgICovXG4gIEV2ZW50cy5vbigndXBkYXRlJywgKCkgPT4ge1xuICAgIHBvaW50cyA9IHNvcnRCcmVha3BvaW50cyhwb2ludHMpXG5cbiAgICBkZWZhdWx0cyA9IE9iamVjdC5hc3NpZ24oe30sIHNldHRpbmdzKVxuICB9KVxuXG4gIC8qKlxuICAgKiBVbmJpbmQgcmVzaXplIGxpc3RlbmVyOlxuICAgKiAtIG9uIGRlc3Ryb3lpbmcsIHRvIGJyaW5nIG1hcmt1cCB0byBpdHMgaW5pdGlhbCBzdGF0ZVxuICAgKi9cbiAgRXZlbnRzLm9uKCdkZXN0cm95JywgKCkgPT4ge1xuICAgIEJpbmRlci5vZmYoJ3Jlc2l6ZScsIHdpbmRvdylcbiAgfSlcblxuICByZXR1cm4gQnJlYWtwb2ludHNcbn1cbiIsImltcG9ydCBDb3JlIGZyb20gJy4uL3NyYy9pbmRleCdcblxuLy8gUmVxdWlyZWQgY29tcG9uZW50c1xuaW1wb3J0IFJ1biBmcm9tICcuLi9zcmMvY29tcG9uZW50cy9ydW4nXG5pbXBvcnQgR2FwcyBmcm9tICcuLi9zcmMvY29tcG9uZW50cy9nYXBzJ1xuaW1wb3J0IEh0bWwgZnJvbSAnLi4vc3JjL2NvbXBvbmVudHMvaHRtbCdcbmltcG9ydCBQZWVrIGZyb20gJy4uL3NyYy9jb21wb25lbnRzL3BlZWsnXG5pbXBvcnQgTW92ZSBmcm9tICcuLi9zcmMvY29tcG9uZW50cy9tb3ZlJ1xuaW1wb3J0IFNpemVzIGZyb20gJy4uL3NyYy9jb21wb25lbnRzL3NpemVzJ1xuaW1wb3J0IEJ1aWxkIGZyb20gJy4uL3NyYy9jb21wb25lbnRzL2J1aWxkJ1xuaW1wb3J0IENsb25lcyBmcm9tICcuLi9zcmMvY29tcG9uZW50cy9jbG9uZXMnXG5pbXBvcnQgUmVzaXplIGZyb20gJy4uL3NyYy9jb21wb25lbnRzL3Jlc2l6ZSdcbmltcG9ydCBEaXJlY3Rpb24gZnJvbSAnLi4vc3JjL2NvbXBvbmVudHMvZGlyZWN0aW9uJ1xuaW1wb3J0IFRyYW5zbGF0ZSBmcm9tICcuLi9zcmMvY29tcG9uZW50cy90cmFuc2xhdGUnXG5pbXBvcnQgVHJhbnNpdGlvbiBmcm9tICcuLi9zcmMvY29tcG9uZW50cy90cmFuc2l0aW9uJ1xuXG4vLyBPcHRpb25hbCBjb21wb25lbnRzXG5pbXBvcnQgU3dpcGUgZnJvbSAnLi4vc3JjL2NvbXBvbmVudHMvc3dpcGUnXG5pbXBvcnQgSW1hZ2VzIGZyb20gJy4uL3NyYy9jb21wb25lbnRzL2ltYWdlcydcbmltcG9ydCBBbmNob3JzIGZyb20gJy4uL3NyYy9jb21wb25lbnRzL2FuY2hvcnMnXG5pbXBvcnQgQ29udHJvbHMgZnJvbSAnLi4vc3JjL2NvbXBvbmVudHMvY29udHJvbHMnXG5pbXBvcnQgS2V5Ym9hcmQgZnJvbSAnLi4vc3JjL2NvbXBvbmVudHMva2V5Ym9hcmQnXG5pbXBvcnQgQXV0b3BsYXkgZnJvbSAnLi4vc3JjL2NvbXBvbmVudHMvYXV0b3BsYXknXG5pbXBvcnQgQnJlYWtwb2ludHMgZnJvbSAnLi4vc3JjL2NvbXBvbmVudHMvYnJlYWtwb2ludHMnXG5cbmNvbnN0IENPTVBPTkVOVFMgPSB7XG4gIC8vIFJlcXVpcmVkXG4gIEh0bWwsXG4gIFRyYW5zbGF0ZSxcbiAgVHJhbnNpdGlvbixcbiAgRGlyZWN0aW9uLFxuICBQZWVrLFxuICBTaXplcyxcbiAgR2FwcyxcbiAgTW92ZSxcbiAgQ2xvbmVzLFxuICBSZXNpemUsXG4gIEJ1aWxkLFxuICBSdW4sXG5cbiAgLy8gT3B0aW9uYWxcbiAgU3dpcGUsXG4gIEltYWdlcyxcbiAgQW5jaG9ycyxcbiAgQ29udHJvbHMsXG4gIEtleWJvYXJkLFxuICBBdXRvcGxheSxcbiAgQnJlYWtwb2ludHNcbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR2xpZGUgZXh0ZW5kcyBDb3JlIHtcbiAgbW91bnQgKGV4dGVuc2lvbnMgPSB7fSkge1xuICAgIHJldHVybiBzdXBlci5tb3VudChPYmplY3QuYXNzaWduKHt9LCBDT01QT05FTlRTLCBleHRlbnNpb25zKSlcbiAgfVxufVxuIiwiaW1wb3J0IG11dGF0b3IgZnJvbSAnLi4vbXV0YXRvci9pbmRleCdcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKEdsaWRlLCBDb21wb25lbnRzLCBFdmVudHMpIHtcbiAgY29uc3QgVHJhbnNsYXRlID0ge1xuICAgIC8qKlxuICAgICAqIFNldHMgdmFsdWUgb2YgdHJhbnNsYXRlIG9uIEhUTUwgZWxlbWVudC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB2YWx1ZVxuICAgICAqIEByZXR1cm4ge1ZvaWR9XG4gICAgICovXG4gICAgc2V0ICh2YWx1ZSkge1xuICAgICAgbGV0IHRyYW5zZm9ybSA9IG11dGF0b3IoR2xpZGUsIENvbXBvbmVudHMpLm11dGF0ZSh2YWx1ZSlcblxuICAgICAgQ29tcG9uZW50cy5IdG1sLndyYXBwZXIuc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZTNkKCR7LTEgKiB0cmFuc2Zvcm19cHgsIDBweCwgMHB4KWBcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyB2YWx1ZSBvZiB0cmFuc2xhdGUgZnJvbSBIVE1MIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtWb2lkfVxuICAgICAqL1xuICAgIHJlbW92ZSAoKSB7XG4gICAgICBDb21wb25lbnRzLkh0bWwud3JhcHBlci5zdHlsZS50cmFuc2Zvcm0gPSAnJ1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9XG4gICAgICovXG4gICAgZ2V0U3RhcnRJbmRleCAoKSB7XG4gICAgICBjb25zdCBsZW5ndGggPSBDb21wb25lbnRzLlNpemVzLmxlbmd0aFxuICAgICAgY29uc3QgaW5kZXggPSBHbGlkZS5pbmRleFxuICAgICAgY29uc3QgcGVyVmlldyA9IEdsaWRlLnNldHRpbmdzLnBlclZpZXdcblxuICAgICAgaWYgKENvbXBvbmVudHMuUnVuLmlzT2Zmc2V0KCc+JykgfHwgQ29tcG9uZW50cy5SdW4uaXNPZmZzZXQoJ3w+JykpIHtcbiAgICAgICAgcmV0dXJuIGxlbmd0aCArIChpbmRleCAtIHBlclZpZXcpXG4gICAgICB9XG5cbiAgICAgIC8vIFwibW9kdWxvIGxlbmd0aFwiIGNvbnZlcnRzIGFuIGluZGV4IHRoYXQgZXF1YWxzIGxlbmd0aCB0byB6ZXJvXG4gICAgICByZXR1cm4gKGluZGV4ICsgcGVyVmlldykgJSBsZW5ndGhcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHJldHVybiB7bnVtYmVyfVxuICAgICAqL1xuICAgIGdldFRyYXZlbERpc3RhbmNlICgpIHtcbiAgICAgIGNvbnN0IHRyYXZlbERpc3RhbmNlID0gQ29tcG9uZW50cy5TaXplcy5zbGlkZVdpZHRoICogR2xpZGUuc2V0dGluZ3MucGVyVmlld1xuXG4gICAgICBpZiAoQ29tcG9uZW50cy5SdW4uaXNPZmZzZXQoJz4nKSB8fCBDb21wb25lbnRzLlJ1bi5pc09mZnNldCgnfD4nKSkge1xuICAgICAgICAvLyByZXZlcnNlIHRyYXZlbCBkaXN0YW5jZSBzbyB0aGF0IHdlIGRvbid0IGhhdmUgdG8gY2hhbmdlIHN1YnRyYWN0IG9wZXJhdGlvbnNcbiAgICAgICAgcmV0dXJuIHRyYXZlbERpc3RhbmNlICogLTFcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRyYXZlbERpc3RhbmNlXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFNldCBuZXcgdHJhbnNsYXRlIHZhbHVlOlxuICAgKiAtIG9uIG1vdmUgdG8gcmVmbGVjdCBpbmRleCBjaGFuZ2VcbiAgICogLSBvbiB1cGRhdGluZyB2aWEgQVBJIHRvIHJlZmxlY3QgcG9zc2libGUgY2hhbmdlcyBpbiBvcHRpb25zXG4gICAqL1xuICBFdmVudHMub24oJ21vdmUnLCAoY29udGV4dCkgPT4ge1xuICAgIGlmICghR2xpZGUuaXNUeXBlKCdjYXJvdXNlbCcpIHx8ICFDb21wb25lbnRzLlJ1bi5pc09mZnNldCgpKSB7XG4gICAgICByZXR1cm4gVHJhbnNsYXRlLnNldChjb250ZXh0Lm1vdmVtZW50KVxuICAgIH1cblxuICAgIENvbXBvbmVudHMuVHJhbnNpdGlvbi5hZnRlcigoKSA9PiB7XG4gICAgICBFdmVudHMuZW1pdCgndHJhbnNsYXRlLmp1bXAnKVxuXG4gICAgICBUcmFuc2xhdGUuc2V0KENvbXBvbmVudHMuU2l6ZXMuc2xpZGVXaWR0aCAqIEdsaWRlLmluZGV4KVxuICAgIH0pXG5cbiAgICBjb25zdCBzdGFydFdpZHRoID0gQ29tcG9uZW50cy5TaXplcy5zbGlkZVdpZHRoICogQ29tcG9uZW50cy5UcmFuc2xhdGUuZ2V0U3RhcnRJbmRleCgpXG4gICAgcmV0dXJuIFRyYW5zbGF0ZS5zZXQoc3RhcnRXaWR0aCAtIENvbXBvbmVudHMuVHJhbnNsYXRlLmdldFRyYXZlbERpc3RhbmNlKCkpXG4gIH0pXG5cbiAgLyoqXG4gICAqIFJlbW92ZSB0cmFuc2xhdGU6XG4gICAqIC0gb24gZGVzdHJveWluZyB0byBicmluZyBtYXJrdXAgdG8gaXRzIGluaXRhbCBzdGF0ZVxuICAgKi9cbiAgRXZlbnRzLm9uKCdkZXN0cm95JywgKCkgPT4ge1xuICAgIFRyYW5zbGF0ZS5yZW1vdmUoKVxuICB9KVxuXG4gIHJldHVybiBUcmFuc2xhdGVcbn1cbiIsImltcG9ydCB7IGRlZmluZSB9IGZyb20gJy4uL3V0aWxzL29iamVjdCdcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKEdsaWRlLCBDb21wb25lbnRzLCBFdmVudHMpIHtcbiAgLyoqXG4gICAqIEhvbGRzIGluYWN0aXZpdHkgc3RhdHVzIG9mIHRyYW5zaXRpb24uXG4gICAqIFdoZW4gdHJ1ZSB0cmFuc2l0aW9uIGlzIG5vdCBhcHBsaWVkLlxuICAgKlxuICAgKiBAdHlwZSB7Qm9vbGVhbn1cbiAgICovXG4gIGxldCBkaXNhYmxlZCA9IGZhbHNlXG5cbiAgY29uc3QgVHJhbnNpdGlvbiA9IHtcbiAgICAvKipcbiAgICAgKiBDb21wb3NlcyBzdHJpbmcgb2YgdGhlIENTUyB0cmFuc2l0aW9uLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHByb3BlcnR5XG4gICAgICogQHJldHVybiB7U3RyaW5nfVxuICAgICAqL1xuICAgIGNvbXBvc2UgKHByb3BlcnR5KSB7XG4gICAgICBsZXQgc2V0dGluZ3MgPSBHbGlkZS5zZXR0aW5nc1xuXG4gICAgICBpZiAoIWRpc2FibGVkKSB7XG4gICAgICAgIHJldHVybiBgJHtwcm9wZXJ0eX0gJHt0aGlzLmR1cmF0aW9ufW1zICR7c2V0dGluZ3MuYW5pbWF0aW9uVGltaW5nRnVuY31gXG4gICAgICB9XG5cbiAgICAgIHJldHVybiBgJHtwcm9wZXJ0eX0gMG1zICR7c2V0dGluZ3MuYW5pbWF0aW9uVGltaW5nRnVuY31gXG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNldHMgdmFsdWUgb2YgdHJhbnNpdGlvbiBvbiBIVE1MIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZz19IHByb3BlcnR5XG4gICAgICogQHJldHVybiB7Vm9pZH1cbiAgICAgKi9cbiAgICBzZXQgKHByb3BlcnR5ID0gJ3RyYW5zZm9ybScpIHtcbiAgICAgIENvbXBvbmVudHMuSHRtbC53cmFwcGVyLnN0eWxlLnRyYW5zaXRpb24gPSB0aGlzLmNvbXBvc2UocHJvcGVydHkpXG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgdmFsdWUgb2YgdHJhbnNpdGlvbiBmcm9tIEhUTUwgZWxlbWVudC5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1ZvaWR9XG4gICAgICovXG4gICAgcmVtb3ZlICgpIHtcbiAgICAgIENvbXBvbmVudHMuSHRtbC53cmFwcGVyLnN0eWxlLnRyYW5zaXRpb24gPSAnJ1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSdW5zIGNhbGxiYWNrIGFmdGVyIGFuaW1hdGlvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBjYWxsYmFja1xuICAgICAqIEByZXR1cm4ge1ZvaWR9XG4gICAgICovXG4gICAgYWZ0ZXIgKGNhbGxiYWNrKSB7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgY2FsbGJhY2soKVxuICAgICAgfSwgdGhpcy5kdXJhdGlvbilcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogRW5hYmxlIHRyYW5zaXRpb24uXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtWb2lkfVxuICAgICAqL1xuICAgIGVuYWJsZSAoKSB7XG4gICAgICBkaXNhYmxlZCA9IGZhbHNlXG5cbiAgICAgIHRoaXMuc2V0KClcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogRGlzYWJsZSB0cmFuc2l0aW9uLlxuICAgICAqXG4gICAgICogQHJldHVybiB7Vm9pZH1cbiAgICAgKi9cbiAgICBkaXNhYmxlICgpIHtcbiAgICAgIGRpc2FibGVkID0gdHJ1ZVxuXG4gICAgICB0aGlzLnNldCgpXG4gICAgfVxuICB9XG5cbiAgZGVmaW5lKFRyYW5zaXRpb24sICdkdXJhdGlvbicsIHtcbiAgICAvKipcbiAgICAgKiBHZXRzIGR1cmF0aW9uIG9mIHRoZSB0cmFuc2l0aW9uIGJhc2VkXG4gICAgICogb24gY3VycmVudGx5IHJ1bm5pbmcgYW5pbWF0aW9uIHR5cGUuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9XG4gICAgICovXG4gICAgZ2V0ICgpIHtcbiAgICAgIGxldCBzZXR0aW5ncyA9IEdsaWRlLnNldHRpbmdzXG5cbiAgICAgIGlmIChHbGlkZS5pc1R5cGUoJ3NsaWRlcicpICYmIENvbXBvbmVudHMuUnVuLm9mZnNldCkge1xuICAgICAgICByZXR1cm4gc2V0dGluZ3MucmV3aW5kRHVyYXRpb25cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNldHRpbmdzLmFuaW1hdGlvbkR1cmF0aW9uXG4gICAgfVxuICB9KVxuXG4gIC8qKlxuICAgKiBTZXQgdHJhbnNpdGlvbiBgc3R5bGVgIHZhbHVlOlxuICAgKiAtIG9uIGVhY2ggbW92aW5nLCBiZWNhdXNlIGl0IG1heSBiZSBjbGVhcmVkIGJ5IG9mZnNldCBtb3ZlXG4gICAqL1xuICBFdmVudHMub24oJ21vdmUnLCAoKSA9PiB7XG4gICAgVHJhbnNpdGlvbi5zZXQoKVxuICB9KVxuXG4gIC8qKlxuICAgKiBEaXNhYmxlIHRyYW5zaXRpb246XG4gICAqIC0gYmVmb3JlIGluaXRpYWwgYnVpbGQgdG8gYXZvaWQgdHJhbnNpdGlvbmluZyBmcm9tIGAwYCB0byBgc3RhcnRBdGAgaW5kZXhcbiAgICogLSB3aGlsZSByZXNpemluZyB3aW5kb3cgYW5kIHJlY2FsY3VsYXRpbmcgZGltZW50aW9uc1xuICAgKiAtIG9uIGp1bXBpbmcgZnJvbSBvZmZzZXQgdHJhbnNpdGlvbiBhdCBzdGFydCBhbmQgZW5kIGVkZ2VzIGluIGBjYXJvdXNlbGAgdHlwZVxuICAgKi9cbiAgRXZlbnRzLm9uKFsnYnVpbGQuYmVmb3JlJywgJ3Jlc2l6ZScsICd0cmFuc2xhdGUuanVtcCddLCAoKSA9PiB7XG4gICAgVHJhbnNpdGlvbi5kaXNhYmxlKClcbiAgfSlcblxuICAvKipcbiAgICogRW5hYmxlIHRyYW5zaXRpb246XG4gICAqIC0gb24gZWFjaCBydW5uaW5nLCBiZWNhdXNlIGl0IG1heSBiZSBkaXNhYmxlZCBieSBvZmZzZXQgbW92ZVxuICAgKi9cbiAgRXZlbnRzLm9uKCdydW4nLCAoKSA9PiB7XG4gICAgVHJhbnNpdGlvbi5lbmFibGUoKVxuICB9KVxuXG4gIC8qKlxuICAgKiBSZW1vdmUgdHJhbnNpdGlvbjpcbiAgICogLSBvbiBkZXN0cm95aW5nIHRvIGJyaW5nIG1hcmt1cCB0byBpdHMgaW5pdGFsIHN0YXRlXG4gICAqL1xuICBFdmVudHMub24oJ2Rlc3Ryb3knLCAoKSA9PiB7XG4gICAgVHJhbnNpdGlvbi5yZW1vdmUoKVxuICB9KVxuXG4gIHJldHVybiBUcmFuc2l0aW9uXG59XG4iLCJpbXBvcnQgeyBkZWZpbmUgfSBmcm9tICcuLi91dGlscy9vYmplY3QnXG5pbXBvcnQgeyB0b0ludCwgaXNPYmplY3QgfSBmcm9tICcuLi91dGlscy91bml0J1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoR2xpZGUsIENvbXBvbmVudHMsIEV2ZW50cykge1xuICBjb25zdCBQZWVrID0ge1xuICAgIC8qKlxuICAgICAqIFNldHVwcyBob3cgbXVjaCB0byBwZWVrIGJhc2VkIG9uIHNldHRpbmdzLlxuICAgICAqXG4gICAgICogQHJldHVybiB7Vm9pZH1cbiAgICAgKi9cbiAgICBtb3VudCAoKSB7XG4gICAgICB0aGlzLnZhbHVlID0gR2xpZGUuc2V0dGluZ3MucGVla1xuICAgIH1cbiAgfVxuXG4gIGRlZmluZShQZWVrLCAndmFsdWUnLCB7XG4gICAgLyoqXG4gICAgICogR2V0cyB2YWx1ZSBvZiB0aGUgcGVlay5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtOdW1iZXJ8T2JqZWN0fVxuICAgICAqL1xuICAgIGdldCAoKSB7XG4gICAgICByZXR1cm4gUGVlay5fdlxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHZhbHVlIG9mIHRoZSBwZWVrLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtOdW1iZXJ8T2JqZWN0fSB2YWx1ZVxuICAgICAqIEByZXR1cm4ge1ZvaWR9XG4gICAgICovXG4gICAgc2V0ICh2YWx1ZSkge1xuICAgICAgaWYgKGlzT2JqZWN0KHZhbHVlKSkge1xuICAgICAgICB2YWx1ZS5iZWZvcmUgPSB0b0ludCh2YWx1ZS5iZWZvcmUpXG4gICAgICAgIHZhbHVlLmFmdGVyID0gdG9JbnQodmFsdWUuYWZ0ZXIpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YWx1ZSA9IHRvSW50KHZhbHVlKVxuICAgICAgfVxuXG4gICAgICBQZWVrLl92ID0gdmFsdWVcbiAgICB9XG4gIH0pXG5cbiAgZGVmaW5lKFBlZWssICdyZWR1Y3RvcicsIHtcbiAgICAvKipcbiAgICAgKiBHZXRzIHJlZHVjdGlvbiB2YWx1ZSBjYXVzZWQgYnkgcGVlay5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtOdW1iZXJ9XG4gICAgICovXG4gICAgZ2V0ICgpIHtcbiAgICAgIGxldCB2YWx1ZSA9IFBlZWsudmFsdWVcbiAgICAgIGxldCBwZXJWaWV3ID0gR2xpZGUuc2V0dGluZ3MucGVyVmlld1xuXG4gICAgICBpZiAoaXNPYmplY3QodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiAodmFsdWUuYmVmb3JlIC8gcGVyVmlldykgKyAodmFsdWUuYWZ0ZXIgLyBwZXJWaWV3KVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gdmFsdWUgKiAyIC8gcGVyVmlld1xuICAgIH1cbiAgfSlcblxuICAvKipcbiAgICogUmVjYWxjdWxhdGUgcGVla2luZyBzaXplcyBvbjpcbiAgICogLSB3aGVuIHJlc2l6aW5nIHdpbmRvdyB0byB1cGRhdGUgdG8gcHJvcGVyIHBlcmNlbnRzXG4gICAqL1xuICBFdmVudHMub24oWydyZXNpemUnLCAndXBkYXRlJ10sICgpID0+IHtcbiAgICBQZWVrLm1vdW50KClcbiAgfSlcblxuICByZXR1cm4gUGVla1xufVxuIiwiaW1wb3J0IHsgZGVmaW5lIH0gZnJvbSAnLi4vdXRpbHMvb2JqZWN0J1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoR2xpZGUsIENvbXBvbmVudHMsIEV2ZW50cykge1xuICBjb25zdCBTaXplcyA9IHtcbiAgICAvKipcbiAgICAgKiBTZXR1cHMgZGltZW50aW9ucyBvZiBzbGlkZXMuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtWb2lkfVxuICAgICAqL1xuICAgIHNldHVwU2xpZGVzICgpIHtcbiAgICAgIGxldCB3aWR0aCA9IGAke3RoaXMuc2xpZGVXaWR0aH1weGBcbiAgICAgIGxldCBzbGlkZXMgPSBDb21wb25lbnRzLkh0bWwuc2xpZGVzXG5cbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2xpZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHNsaWRlc1tpXS5zdHlsZS53aWR0aCA9IHdpZHRoXG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNldHVwcyBkaW1lbnRpb25zIG9mIHNsaWRlcyB3cmFwcGVyLlxuICAgICAqXG4gICAgICogQHJldHVybiB7Vm9pZH1cbiAgICAgKi9cbiAgICBzZXR1cFdyYXBwZXIgKCkge1xuICAgICAgQ29tcG9uZW50cy5IdG1sLndyYXBwZXIuc3R5bGUud2lkdGggPSBgJHt0aGlzLndyYXBwZXJTaXplfXB4YFxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGFwcGxpZWQgc3R5bGVzIGZyb20gSFRNTCBlbGVtZW50cy5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtWb2lkfVxuICAgICAqL1xuICAgIHJlbW92ZSAoKSB7XG4gICAgICBsZXQgc2xpZGVzID0gQ29tcG9uZW50cy5IdG1sLnNsaWRlc1xuXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNsaWRlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBzbGlkZXNbaV0uc3R5bGUud2lkdGggPSAnJ1xuICAgICAgfVxuXG4gICAgICBDb21wb25lbnRzLkh0bWwud3JhcHBlci5zdHlsZS53aWR0aCA9ICcnXG4gICAgfVxuICB9XG5cbiAgZGVmaW5lKFNpemVzLCAnbGVuZ3RoJywge1xuICAgIC8qKlxuICAgICAqIEdldHMgY291bnQgbnVtYmVyIG9mIHRoZSBzbGlkZXMuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9XG4gICAgICovXG4gICAgZ2V0ICgpIHtcbiAgICAgIHJldHVybiBDb21wb25lbnRzLkh0bWwuc2xpZGVzLmxlbmd0aFxuICAgIH1cbiAgfSlcblxuICBkZWZpbmUoU2l6ZXMsICd3aWR0aCcsIHtcbiAgICAvKipcbiAgICAgKiBHZXRzIHdpZHRoIHZhbHVlIG9mIHRoZSBzbGlkZXIgKHZpc2libGUgYXJlYSkuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9XG4gICAgICovXG4gICAgZ2V0ICgpIHtcbiAgICAgIHJldHVybiBDb21wb25lbnRzLkh0bWwucm9vdC5vZmZzZXRXaWR0aFxuICAgIH1cbiAgfSlcblxuICBkZWZpbmUoU2l6ZXMsICd3cmFwcGVyU2l6ZScsIHtcbiAgICAvKipcbiAgICAgKiBHZXRzIHNpemUgb2YgdGhlIHNsaWRlcyB3cmFwcGVyLlxuICAgICAqXG4gICAgICogQHJldHVybiB7TnVtYmVyfVxuICAgICAqL1xuICAgIGdldCAoKSB7XG4gICAgICByZXR1cm4gU2l6ZXMuc2xpZGVXaWR0aCAqIFNpemVzLmxlbmd0aCArIENvbXBvbmVudHMuR2Fwcy5ncm93ICsgQ29tcG9uZW50cy5DbG9uZXMuZ3Jvd1xuICAgIH1cbiAgfSlcblxuICBkZWZpbmUoU2l6ZXMsICdzbGlkZVdpZHRoJywge1xuICAgIC8qKlxuICAgICAqIEdldHMgd2lkdGggdmFsdWUgb2YgYSBzaW5nbGUgc2xpZGUuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9XG4gICAgICovXG4gICAgZ2V0ICgpIHtcbiAgICAgIHJldHVybiAoU2l6ZXMud2lkdGggLyBHbGlkZS5zZXR0aW5ncy5wZXJWaWV3KSAtIENvbXBvbmVudHMuUGVlay5yZWR1Y3RvciAtIENvbXBvbmVudHMuR2Fwcy5yZWR1Y3RvclxuICAgIH1cbiAgfSlcblxuICAvKipcbiAgICogQXBwbHkgY2FsY3VsYXRlZCBnbGlkZSdzIGRpbWVuc2lvbnM6XG4gICAqIC0gYmVmb3JlIGJ1aWxkaW5nLCBzbyBvdGhlciBkaW1lbnRpb25zIChlLmcuIHRyYW5zbGF0ZSkgd2lsbCBiZSBjYWxjdWxhdGVkIHByb3BlcnRseVxuICAgKiAtIHdoZW4gcmVzaXppbmcgd2luZG93IHRvIHJlY2FsY3VsYXRlIHNpbGRlcyBkaW1lbnNpb25zXG4gICAqIC0gb24gdXBkYXRpbmcgdmlhIEFQSSwgdG8gY2FsY3VsYXRlIGRpbWVuc2lvbnMgYmFzZWQgb24gbmV3IG9wdGlvbnNcbiAgICovXG4gIEV2ZW50cy5vbihbJ2J1aWxkLmJlZm9yZScsICdyZXNpemUnLCAndXBkYXRlJ10sICgpID0+IHtcbiAgICBTaXplcy5zZXR1cFNsaWRlcygpXG4gICAgU2l6ZXMuc2V0dXBXcmFwcGVyKClcbiAgfSlcblxuICAvKipcbiAgICogUmVtb3ZlIGNhbGN1bGF0ZWQgZ2xpZGUncyBkaW1lbnNpb25zOlxuICAgKiAtIG9uIGRlc3RvdGluZyB0byBicmluZyBtYXJrdXAgdG8gaXRzIGluaXRhbCBzdGF0ZVxuICAgKi9cbiAgRXZlbnRzLm9uKCdkZXN0cm95JywgKCkgPT4ge1xuICAgIFNpemVzLnJlbW92ZSgpXG4gIH0pXG5cbiAgcmV0dXJuIFNpemVzXG59XG4iLCJpbXBvcnQgeyBkZWZpbmUgfSBmcm9tICcuLi91dGlscy9vYmplY3QnXG5pbXBvcnQgeyB0b0ludCwgaXNVbmRlZmluZWQgfSBmcm9tICcuLi91dGlscy91bml0J1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoR2xpZGUsIENvbXBvbmVudHMsIEV2ZW50cykge1xuICBjb25zdCBNb3ZlID0ge1xuICAgIC8qKlxuICAgICAqIENvbnN0cnVjdHMgbW92ZSBjb21wb25lbnQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Vm9pZH1cbiAgICAgKi9cbiAgICBtb3VudCAoKSB7XG4gICAgICB0aGlzLl9vID0gMFxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGVzIGEgbW92ZW1lbnQgdmFsdWUgYmFzZWQgb24gcGFzc2VkIG9mZnNldCBhbmQgY3VycmVudGx5IGFjdGl2ZSBpbmRleC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSAge051bWJlcn0gb2Zmc2V0XG4gICAgICogQHJldHVybiB7Vm9pZH1cbiAgICAgKi9cbiAgICBtYWtlIChvZmZzZXQgPSAwKSB7XG4gICAgICB0aGlzLm9mZnNldCA9IG9mZnNldFxuXG4gICAgICBFdmVudHMuZW1pdCgnbW92ZScsIHtcbiAgICAgICAgbW92ZW1lbnQ6IHRoaXMudmFsdWVcbiAgICAgIH0pXG5cbiAgICAgIENvbXBvbmVudHMuVHJhbnNpdGlvbi5hZnRlcigoKSA9PiB7XG4gICAgICAgIEV2ZW50cy5lbWl0KCdtb3ZlLmFmdGVyJywge1xuICAgICAgICAgIG1vdmVtZW50OiB0aGlzLnZhbHVlXG4gICAgICAgIH0pXG4gICAgICB9KVxuICAgIH1cbiAgfVxuXG4gIGRlZmluZShNb3ZlLCAnb2Zmc2V0Jywge1xuICAgIC8qKlxuICAgICAqIEdldHMgYW4gb2Zmc2V0IHZhbHVlIHVzZWQgdG8gbW9kaWZ5IGN1cnJlbnQgdHJhbnNsYXRlLlxuICAgICAqXG4gICAgICogQHJldHVybiB7T2JqZWN0fVxuICAgICAqL1xuICAgIGdldCAoKSB7XG4gICAgICByZXR1cm4gTW92ZS5fb1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTZXRzIGFuIG9mZnNldCB2YWx1ZSB1c2VkIHRvIG1vZGlmeSBjdXJyZW50IHRyYW5zbGF0ZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge09iamVjdH1cbiAgICAgKi9cbiAgICBzZXQgKHZhbHVlKSB7XG4gICAgICBNb3ZlLl9vID0gIWlzVW5kZWZpbmVkKHZhbHVlKSA/IHRvSW50KHZhbHVlKSA6IDBcbiAgICB9XG4gIH0pXG5cbiAgZGVmaW5lKE1vdmUsICd0cmFuc2xhdGUnLCB7XG4gICAgLyoqXG4gICAgICogR2V0cyBhIHJhdyBtb3ZlbWVudCB2YWx1ZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge051bWJlcn1cbiAgICAgKi9cbiAgICBnZXQgKCkge1xuICAgICAgcmV0dXJuIENvbXBvbmVudHMuU2l6ZXMuc2xpZGVXaWR0aCAqIEdsaWRlLmluZGV4XG4gICAgfVxuICB9KVxuXG4gIGRlZmluZShNb3ZlLCAndmFsdWUnLCB7XG4gICAgLyoqXG4gICAgICogR2V0cyBhbiBhY3R1YWwgbW92ZW1lbnQgdmFsdWUgY29ycmVjdGVkIGJ5IG9mZnNldC5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge051bWJlcn1cbiAgICAgKi9cbiAgICBnZXQgKCkge1xuICAgICAgbGV0IG9mZnNldCA9IHRoaXMub2Zmc2V0XG4gICAgICBsZXQgdHJhbnNsYXRlID0gdGhpcy50cmFuc2xhdGVcblxuICAgICAgaWYgKENvbXBvbmVudHMuRGlyZWN0aW9uLmlzKCdydGwnKSkge1xuICAgICAgICByZXR1cm4gdHJhbnNsYXRlICsgb2Zmc2V0XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0cmFuc2xhdGUgLSBvZmZzZXRcbiAgICB9XG4gIH0pXG5cbiAgLyoqXG4gICAqIE1ha2UgbW92ZW1lbnQgdG8gcHJvcGVyIHNsaWRlIG9uOlxuICAgKiAtIGJlZm9yZSBidWlsZCwgc28gZ2xpZGUgd2lsbCBzdGFydCBhdCBgc3RhcnRBdGAgaW5kZXhcbiAgICogLSBvbiBlYWNoIHN0YW5kYXJkIHJ1biB0byBtb3ZlIHRvIG5ld2x5IGNhbGN1bGF0ZWQgaW5kZXhcbiAgICovXG4gIEV2ZW50cy5vbihbJ2J1aWxkLmJlZm9yZScsICdydW4nXSwgKCkgPT4ge1xuICAgIE1vdmUubWFrZSgpXG4gIH0pXG5cbiAgcmV0dXJuIE1vdmVcbn1cbiIsImltcG9ydCB7IGRlZmluZSB9IGZyb20gJy4uL3V0aWxzL29iamVjdCdcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKEdsaWRlLCBDb21wb25lbnRzLCBFdmVudHMpIHtcbiAgY29uc3QgQ2xvbmVzID0ge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZSBwYXR0ZXJuIG1hcCBhbmQgY29sbGVjdCBzbGlkZXMgdG8gYmUgY2xvbmVkLlxuICAgICAqL1xuICAgIG1vdW50ICgpIHtcbiAgICAgIHRoaXMuaXRlbXMgPSBbXVxuXG4gICAgICBpZiAoR2xpZGUuaXNUeXBlKCdjYXJvdXNlbCcpKSB7XG4gICAgICAgIHRoaXMuaXRlbXMgPSB0aGlzLmNvbGxlY3QoKVxuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDb2xsZWN0IGNsb25lcyB3aXRoIHBhdHRlcm4uXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtbXX1cbiAgICAgKi9cbiAgICBjb2xsZWN0IChpdGVtcyA9IFtdKSB7XG4gICAgICBsZXQgeyBzbGlkZXMgfSA9IENvbXBvbmVudHMuSHRtbFxuICAgICAgbGV0IHsgcGVyVmlldywgY2xhc3NlcyB9ID0gR2xpZGUuc2V0dGluZ3NcblxuICAgICAgY29uc3QgcGVla0luY3JlbWVudGVyID0gKyEhR2xpZGUuc2V0dGluZ3MucGVla1xuICAgICAgY29uc3QgY2xvbmVDb3VudCA9IHBlclZpZXcgKyBwZWVrSW5jcmVtZW50ZXIgKyBNYXRoLnJvdW5kKHBlclZpZXcgLyAyKVxuICAgICAgY29uc3QgYXBwZW5kID0gc2xpZGVzLnNsaWNlKDAsIGNsb25lQ291bnQpLnJldmVyc2UoKVxuICAgICAgY29uc3QgcHJlcGVuZCA9IHNsaWRlcy5zbGljZShjbG9uZUNvdW50ICogLTEpXG5cbiAgICAgIGZvciAobGV0IHIgPSAwOyByIDwgTWF0aC5tYXgoMSwgTWF0aC5mbG9vcihwZXJWaWV3IC8gc2xpZGVzLmxlbmd0aCkpOyByKyspIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcHBlbmQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBsZXQgY2xvbmUgPSBhcHBlbmRbaV0uY2xvbmVOb2RlKHRydWUpXG5cbiAgICAgICAgICBjbG9uZS5jbGFzc0xpc3QuYWRkKGNsYXNzZXMuY2xvbmVTbGlkZSlcblxuICAgICAgICAgIGl0ZW1zLnB1c2goY2xvbmUpXG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHByZXBlbmQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBsZXQgY2xvbmUgPSBwcmVwZW5kW2ldLmNsb25lTm9kZSh0cnVlKVxuXG4gICAgICAgICAgY2xvbmUuY2xhc3NMaXN0LmFkZChjbGFzc2VzLmNsb25lU2xpZGUpXG5cbiAgICAgICAgICBpdGVtcy51bnNoaWZ0KGNsb25lKVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBpdGVtc1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBBcHBlbmQgY2xvbmVkIHNsaWRlcyB3aXRoIGdlbmVyYXRlZCBwYXR0ZXJuLlxuICAgICAqXG4gICAgICogQHJldHVybiB7Vm9pZH1cbiAgICAgKi9cbiAgICBhcHBlbmQgKCkge1xuICAgICAgbGV0IHsgaXRlbXMgfSA9IHRoaXNcbiAgICAgIGxldCB7IHdyYXBwZXIsIHNsaWRlcyB9ID0gQ29tcG9uZW50cy5IdG1sXG5cbiAgICAgIGNvbnN0IGhhbGYgPSBNYXRoLmZsb29yKGl0ZW1zLmxlbmd0aCAvIDIpXG4gICAgICBjb25zdCBwcmVwZW5kID0gaXRlbXMuc2xpY2UoMCwgaGFsZikucmV2ZXJzZSgpXG4gICAgICBjb25zdCBhcHBlbmQgPSBpdGVtcy5zbGljZShoYWxmICogLTEpLnJldmVyc2UoKVxuICAgICAgY29uc3Qgd2lkdGggPSBgJHtDb21wb25lbnRzLlNpemVzLnNsaWRlV2lkdGh9cHhgXG5cbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXBwZW5kLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHdyYXBwZXIuYXBwZW5kQ2hpbGQoYXBwZW5kW2ldKVxuICAgICAgfVxuXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHByZXBlbmQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgd3JhcHBlci5pbnNlcnRCZWZvcmUocHJlcGVuZFtpXSwgc2xpZGVzWzBdKVxuICAgICAgfVxuXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGl0ZW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGl0ZW1zW2ldLnN0eWxlLndpZHRoID0gd2lkdGhcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlIGFsbCBjbG9uZWQgc2xpZGVzLlxuICAgICAqXG4gICAgICogQHJldHVybiB7Vm9pZH1cbiAgICAgKi9cbiAgICByZW1vdmUgKCkge1xuICAgICAgbGV0IHsgaXRlbXMgfSA9IHRoaXNcblxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpdGVtcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBDb21wb25lbnRzLkh0bWwud3JhcHBlci5yZW1vdmVDaGlsZChpdGVtc1tpXSlcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBkZWZpbmUoQ2xvbmVzLCAnZ3JvdycsIHtcbiAgICAvKipcbiAgICAgKiBHZXRzIGFkZGl0aW9uYWwgZGltZW50aW9ucyB2YWx1ZSBjYXVzZWQgYnkgY2xvbmVzLlxuICAgICAqXG4gICAgICogQHJldHVybiB7TnVtYmVyfVxuICAgICAqL1xuICAgIGdldCAoKSB7XG4gICAgICByZXR1cm4gKENvbXBvbmVudHMuU2l6ZXMuc2xpZGVXaWR0aCArIENvbXBvbmVudHMuR2Fwcy52YWx1ZSkgKiBDbG9uZXMuaXRlbXMubGVuZ3RoXG4gICAgfVxuICB9KVxuXG4gIC8qKlxuICAgKiBBcHBlbmQgYWRkaXRpb25hbCBzbGlkZSdzIGNsb25lczpcbiAgICogLSB3aGlsZSBnbGlkZSdzIHR5cGUgaXMgYGNhcm91c2VsYFxuICAgKi9cbiAgRXZlbnRzLm9uKCd1cGRhdGUnLCAoKSA9PiB7XG4gICAgQ2xvbmVzLnJlbW92ZSgpXG4gICAgQ2xvbmVzLm1vdW50KClcbiAgICBDbG9uZXMuYXBwZW5kKClcbiAgfSlcblxuICAvKipcbiAgICogQXBwZW5kIGFkZGl0aW9uYWwgc2xpZGUncyBjbG9uZXM6XG4gICAqIC0gd2hpbGUgZ2xpZGUncyB0eXBlIGlzIGBjYXJvdXNlbGBcbiAgICovXG4gIEV2ZW50cy5vbignYnVpbGQuYmVmb3JlJywgKCkgPT4ge1xuICAgIGlmIChHbGlkZS5pc1R5cGUoJ2Nhcm91c2VsJykpIHtcbiAgICAgIENsb25lcy5hcHBlbmQoKVxuICAgIH1cbiAgfSlcblxuICAvKipcbiAgICogUmVtb3ZlIGNsb25lcyBIVE1MRWxlbWVudHM6XG4gICAqIC0gb24gZGVzdHJveWluZywgdG8gYnJpbmcgSFRNTCB0byBpdHMgaW5pdGlhbCBzdGF0ZVxuICAgKi9cbiAgRXZlbnRzLm9uKCdkZXN0cm95JywgKCkgPT4ge1xuICAgIENsb25lcy5yZW1vdmUoKVxuICB9KVxuXG4gIHJldHVybiBDbG9uZXNcbn1cbiIsImltcG9ydCB7IHRocm90dGxlIH0gZnJvbSAnLi4vdXRpbHMvd2FpdCdcblxuaW1wb3J0IEV2ZW50c0JpbmRlciBmcm9tICcuLi9jb3JlL2V2ZW50L2V2ZW50cy1iaW5kZXInXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIChHbGlkZSwgQ29tcG9uZW50cywgRXZlbnRzKSB7XG4gIC8qKlxuICAgKiBJbnN0YW5jZSBvZiB0aGUgYmluZGVyIGZvciBET00gRXZlbnRzLlxuICAgKlxuICAgKiBAdHlwZSB7RXZlbnRzQmluZGVyfVxuICAgKi9cbiAgY29uc3QgQmluZGVyID0gbmV3IEV2ZW50c0JpbmRlcigpXG5cbiAgY29uc3QgUmVzaXplID0ge1xuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemVzIHdpbmRvdyBiaW5kaW5ncy5cbiAgICAgKi9cbiAgICBtb3VudCAoKSB7XG4gICAgICB0aGlzLmJpbmQoKVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBCaW5kcyBgcmV6c2l6ZWAgbGlzdGVuZXIgdG8gdGhlIHdpbmRvdy5cbiAgICAgKiBJdCdzIGEgY29zdGx5IGV2ZW50LCBzbyB3ZSBhcmUgZGVib3VuY2luZyBpdC5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1ZvaWR9XG4gICAgICovXG4gICAgYmluZCAoKSB7XG4gICAgICBCaW5kZXIub24oJ3Jlc2l6ZScsIHdpbmRvdywgdGhyb3R0bGUoKCkgPT4ge1xuICAgICAgICBFdmVudHMuZW1pdCgncmVzaXplJylcbiAgICAgIH0sIEdsaWRlLnNldHRpbmdzLnRocm90dGxlKSlcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogVW5iaW5kcyBsaXN0ZW5lcnMgZnJvbSB0aGUgd2luZG93LlxuICAgICAqXG4gICAgICogQHJldHVybiB7Vm9pZH1cbiAgICAgKi9cbiAgICB1bmJpbmQgKCkge1xuICAgICAgQmluZGVyLm9mZigncmVzaXplJywgd2luZG93KVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmUgYmluZGluZ3MgZnJvbSB3aW5kb3c6XG4gICAqIC0gb24gZGVzdHJveWluZywgdG8gcmVtb3ZlIGFkZGVkIEV2ZW50TGlzdGVuZXJcbiAgICovXG4gIEV2ZW50cy5vbignZGVzdHJveScsICgpID0+IHtcbiAgICBSZXNpemUudW5iaW5kKClcbiAgICBCaW5kZXIuZGVzdHJveSgpXG4gIH0pXG5cbiAgcmV0dXJuIFJlc2l6ZVxufVxuIiwiaW1wb3J0IHsgc2libGluZ3MgfSBmcm9tICcuLi91dGlscy9kb20nXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIChHbGlkZSwgQ29tcG9uZW50cywgRXZlbnRzKSB7XG4gIGNvbnN0IEJ1aWxkID0ge1xuICAgIC8qKlxuICAgICAqIEluaXQgZ2xpZGUgYnVpbGRpbmcuIEFkZHMgY2xhc3Nlcywgc2V0c1xuICAgICAqIGRpbWVuc2lvbnMgYW5kIHNldHVwcyBpbml0aWFsIHN0YXRlLlxuICAgICAqXG4gICAgICogQHJldHVybiB7Vm9pZH1cbiAgICAgKi9cbiAgICBtb3VudCAoKSB7XG4gICAgICBFdmVudHMuZW1pdCgnYnVpbGQuYmVmb3JlJylcblxuICAgICAgdGhpcy50eXBlQ2xhc3MoKVxuICAgICAgdGhpcy5hY3RpdmVDbGFzcygpXG5cbiAgICAgIEV2ZW50cy5lbWl0KCdidWlsZC5hZnRlcicpXG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEFkZHMgYHR5cGVgIGNsYXNzIHRvIHRoZSBnbGlkZSBlbGVtZW50LlxuICAgICAqXG4gICAgICogQHJldHVybiB7Vm9pZH1cbiAgICAgKi9cbiAgICB0eXBlQ2xhc3MgKCkge1xuICAgICAgQ29tcG9uZW50cy5IdG1sLnJvb3QuY2xhc3NMaXN0LmFkZChHbGlkZS5zZXR0aW5ncy5jbGFzc2VzW0dsaWRlLnNldHRpbmdzLnR5cGVdKVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTZXRzIGFjdGl2ZSBjbGFzcyB0byBjdXJyZW50IHNsaWRlLlxuICAgICAqXG4gICAgICogQHJldHVybiB7Vm9pZH1cbiAgICAgKi9cbiAgICBhY3RpdmVDbGFzcyAoKSB7XG4gICAgICBsZXQgY2xhc3NlcyA9IEdsaWRlLnNldHRpbmdzLmNsYXNzZXNcbiAgICAgIGxldCBzbGlkZSA9IENvbXBvbmVudHMuSHRtbC5zbGlkZXNbR2xpZGUuaW5kZXhdXG5cbiAgICAgIGlmIChzbGlkZSkge1xuICAgICAgICBzbGlkZS5jbGFzc0xpc3QuYWRkKGNsYXNzZXMuYWN0aXZlU2xpZGUpXG5cbiAgICAgICAgc2libGluZ3Moc2xpZGUpLmZvckVhY2goKHNpYmxpbmcpID0+IHtcbiAgICAgICAgICBzaWJsaW5nLmNsYXNzTGlzdC5yZW1vdmUoY2xhc3Nlcy5hY3RpdmVTbGlkZSlcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBIVE1MIGNsYXNzZXMgYXBwbGllZCBhdCBidWlsZGluZy5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1ZvaWR9XG4gICAgICovXG4gICAgcmVtb3ZlQ2xhc3NlcyAoKSB7XG4gICAgICBsZXQgY2xhc3NlcyA9IEdsaWRlLnNldHRpbmdzLmNsYXNzZXNcblxuICAgICAgQ29tcG9uZW50cy5IdG1sLnJvb3QuY2xhc3NMaXN0LnJlbW92ZShjbGFzc2VzW0dsaWRlLnNldHRpbmdzLnR5cGVdKVxuXG4gICAgICBDb21wb25lbnRzLkh0bWwuc2xpZGVzLmZvckVhY2goKHNpYmxpbmcpID0+IHtcbiAgICAgICAgc2libGluZy5jbGFzc0xpc3QucmVtb3ZlKGNsYXNzZXMuYWN0aXZlU2xpZGUpXG4gICAgICB9KVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDbGVhciBidWlsZGluZyBjbGFzc2VzOlxuICAgKiAtIG9uIGRlc3Ryb3lpbmcgdG8gYnJpbmcgSFRNTCB0byBpdHMgaW5pdGlhbCBzdGF0ZVxuICAgKiAtIG9uIHVwZGF0aW5nIHRvIHJlbW92ZSBjbGFzc2VzIGJlZm9yZSByZW1vdW50aW5nIGNvbXBvbmVudFxuICAgKi9cbiAgRXZlbnRzLm9uKFsnZGVzdHJveScsICd1cGRhdGUnXSwgKCkgPT4ge1xuICAgIEJ1aWxkLnJlbW92ZUNsYXNzZXMoKVxuICB9KVxuXG4gIC8qKlxuICAgKiBSZW1vdW50IGNvbXBvbmVudDpcbiAgICogLSBvbiByZXNpemluZyBvZiB0aGUgd2luZG93IHRvIGNhbGN1bGF0ZSBuZXcgZGltZW50aW9uc1xuICAgKiAtIG9uIHVwZGF0aW5nIHNldHRpbmdzIHZpYSBBUElcbiAgICovXG4gIEV2ZW50cy5vbihbJ3Jlc2l6ZScsICd1cGRhdGUnXSwgKCkgPT4ge1xuICAgIEJ1aWxkLm1vdW50KClcbiAgfSlcblxuICAvKipcbiAgICogU3dhcCBhY3RpdmUgY2xhc3Mgb2YgY3VycmVudCBzbGlkZTpcbiAgICogLSBhZnRlciBlYWNoIG1vdmUgdG8gdGhlIG5ldyBpbmRleFxuICAgKi9cbiAgRXZlbnRzLm9uKCdtb3ZlLmFmdGVyJywgKCkgPT4ge1xuICAgIEJ1aWxkLmFjdGl2ZUNsYXNzKClcbiAgfSlcblxuICByZXR1cm4gQnVpbGRcbn1cbiIsImltcG9ydCB7IHdhcm4gfSBmcm9tICcuLi91dGlscy9sb2cnXG5pbXBvcnQgeyBkZWZpbmUgfSBmcm9tICcuLi91dGlscy9vYmplY3QnXG5pbXBvcnQgeyB0b0ludCwgaXNOdW1iZXIgfSBmcm9tICcuLi91dGlscy91bml0J1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoR2xpZGUsIENvbXBvbmVudHMsIEV2ZW50cykge1xuICBjb25zdCBSdW4gPSB7XG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZXMgYXV0b3J1bm5pbmcgb2YgdGhlIGdsaWRlLlxuICAgICAqXG4gICAgICogQHJldHVybiB7Vm9pZH1cbiAgICAgKi9cbiAgICBtb3VudCAoKSB7XG4gICAgICB0aGlzLl9vID0gZmFsc2VcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogTWFrZXMgZ2xpZGVzIHJ1bm5pbmcgYmFzZWQgb24gdGhlIHBhc3NlZCBtb3Zpbmcgc2NoZW1hLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IG1vdmVcbiAgICAgKi9cbiAgICBtYWtlIChtb3ZlKSB7XG4gICAgICBpZiAoIUdsaWRlLmRpc2FibGVkKSB7XG4gICAgICAgICFHbGlkZS5zZXR0aW5ncy53YWl0Rm9yVHJhbnNpdGlvbiB8fCBHbGlkZS5kaXNhYmxlKClcblxuICAgICAgICB0aGlzLm1vdmUgPSBtb3ZlXG5cbiAgICAgICAgRXZlbnRzLmVtaXQoJ3J1bi5iZWZvcmUnLCB0aGlzLm1vdmUpXG5cbiAgICAgICAgdGhpcy5jYWxjdWxhdGUoKVxuXG4gICAgICAgIEV2ZW50cy5lbWl0KCdydW4nLCB0aGlzLm1vdmUpXG5cbiAgICAgICAgQ29tcG9uZW50cy5UcmFuc2l0aW9uLmFmdGVyKCgpID0+IHtcbiAgICAgICAgICBpZiAodGhpcy5pc1N0YXJ0KCkpIHtcbiAgICAgICAgICAgIEV2ZW50cy5lbWl0KCdydW4uc3RhcnQnLCB0aGlzLm1vdmUpXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHRoaXMuaXNFbmQoKSkge1xuICAgICAgICAgICAgRXZlbnRzLmVtaXQoJ3J1bi5lbmQnLCB0aGlzLm1vdmUpXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHRoaXMuaXNPZmZzZXQoKSkge1xuICAgICAgICAgICAgdGhpcy5fbyA9IGZhbHNlXG5cbiAgICAgICAgICAgIEV2ZW50cy5lbWl0KCdydW4ub2Zmc2V0JywgdGhpcy5tb3ZlKVxuICAgICAgICAgIH1cblxuICAgICAgICAgIEV2ZW50cy5lbWl0KCdydW4uYWZ0ZXInLCB0aGlzLm1vdmUpXG5cbiAgICAgICAgICBHbGlkZS5lbmFibGUoKVxuICAgICAgICB9KVxuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGVzIGN1cnJlbnQgaW5kZXggYmFzZWQgb24gZGVmaW5lZCBtb3ZlLlxuICAgICAqXG4gICAgICogQHJldHVybiB7TnVtYmVyfFVuZGVmaW5lZH1cbiAgICAgKi9cbiAgICBjYWxjdWxhdGUgKCkge1xuICAgICAgY29uc3QgeyBtb3ZlLCBsZW5ndGggfSA9IHRoaXNcbiAgICAgIGNvbnN0IHsgc3RlcHMsIGRpcmVjdGlvbiB9ID0gbW92ZVxuXG4gICAgICAvLyBCeSBkZWZhdWx0IGFzc3VtZSB0aGF0IHNpemUgb2YgdmlldyBpcyBlcXVhbCB0byBvbmUgc2xpZGVcbiAgICAgIGxldCB2aWV3U2l6ZSA9IDFcbiAgICAgIC8vIERldGVybWluZSBpZiBzdGVwcyBhcmUgbnVtZXJpYyB2YWx1ZVxuICAgICAgbGV0IGNvdW50YWJsZVN0ZXBzID0gaXNOdW1iZXIodG9JbnQoc3RlcHMpKSAmJiB0b0ludChzdGVwcykgIT09IDBcblxuICAgICAgLy8gV2hpbGUgZGlyZWN0aW9uIGlzIGA9YCB3ZSB3YW50IGp1bXAgdG9cbiAgICAgIC8vIGEgc3BlY2lmaWVkIGluZGV4IGRlc2NyaWJlZCBpbiBzdGVwcy5cbiAgICAgIGlmIChkaXJlY3Rpb24gPT09ICc9Jykge1xuICAgICAgICBHbGlkZS5pbmRleCA9IHN0ZXBzXG5cbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG5cbiAgICAgIC8vIFdoZW4gcGF0dGVybiBpcyBlcXVhbCB0byBgPj5gIHdlIHdhbnRcbiAgICAgIC8vIGZhc3QgZm9yd2FyZCB0byB0aGUgbGFzdCBzbGlkZS5cbiAgICAgIGlmIChkaXJlY3Rpb24gPT09ICc+JyAmJiBzdGVwcyA9PT0gJz4nKSB7XG4gICAgICAgIEdsaWRlLmluZGV4ID0gbGVuZ3RoXG5cbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG5cbiAgICAgIC8vIFdoZW4gcGF0dGVybiBpcyBlcXVhbCB0byBgPDxgIHdlIHdhbnRcbiAgICAgIC8vIGZhc3QgZm9yd2FyZCB0byB0aGUgZmlyc3Qgc2xpZGUuXG4gICAgICBpZiAoZGlyZWN0aW9uID09PSAnPCcgJiYgc3RlcHMgPT09ICc8Jykge1xuICAgICAgICBHbGlkZS5pbmRleCA9IDBcblxuICAgICAgICByZXR1cm5cbiAgICAgIH1cblxuICAgICAgLy8gV2hpbGUgc3RlcHMgaXMgYSBudW1lcmljIHZhbHVlIGFuZCB3ZVxuICAgICAgLy8gbW92ZSBmb3J3YXJkIGJ5IHRoZSBudW1iZXIgb2Ygc3RlcHMuXG4gICAgICBpZiAoZGlyZWN0aW9uID09PSAnPicgJiYgY291bnRhYmxlU3RlcHMpIHtcbiAgICAgICAgdmlld1NpemUgPSB0b0ludChzdGVwcykgKiAtMVxuICAgICAgfVxuXG4gICAgICAvLyAkc3RlcHM8IChkcmFnKSBtb3ZlbWVudFxuICAgICAgaWYgKGRpcmVjdGlvbiA9PT0gJzwnICYmIGNvdW50YWJsZVN0ZXBzKSB7XG4gICAgICAgIHZpZXdTaXplID0gdG9JbnQoc3RlcHMpXG4gICAgICB9XG5cbiAgICAgIC8vIHBhZ2luYXRpb24gbW92ZW1lbnRcbiAgICAgIGlmIChkaXJlY3Rpb24gPT09ICd8Jykge1xuICAgICAgICB2aWV3U2l6ZSA9IEdsaWRlLnNldHRpbmdzLnBlclZpZXcgfHwgMVxuICAgICAgfVxuXG4gICAgICAvLyB3ZSBhcmUgbW92aW5nIGZvcndhcmRcbiAgICAgIGlmIChkaXJlY3Rpb24gPT09ICc+JyB8fCAoZGlyZWN0aW9uID09PSAnfCcgJiYgc3RlcHMgPT09ICc+JykpIHtcbiAgICAgICAgY29uc3QgaW5kZXggPSBjYWxjdWxhdGVGb3J3YXJkSW5kZXgodmlld1NpemUpXG5cbiAgICAgICAgaWYgKGluZGV4ID4gbGVuZ3RoKSB7XG4gICAgICAgICAgdGhpcy5fbyA9IHRydWVcbiAgICAgICAgfVxuXG4gICAgICAgIEdsaWRlLmluZGV4ID0gbm9ybWFsaXplRm9yd2FyZEluZGV4KGluZGV4LCB2aWV3U2l6ZSlcblxuICAgICAgICByZXR1cm5cbiAgICAgIH1cblxuICAgICAgLy8gd2UgYXJlIG1vdmluZyBiYWNrd2FyZFxuICAgICAgaWYgKGRpcmVjdGlvbiA9PT0gJzwnIHx8IChkaXJlY3Rpb24gPT09ICd8JyAmJiBzdGVwcyA9PT0gJzwnKSkge1xuICAgICAgICBjb25zdCBpbmRleCA9IGNhbGN1bGF0ZUJhY2t3YXJkSW5kZXgodmlld1NpemUpXG5cbiAgICAgICAgaWYgKGluZGV4IDwgMCkge1xuICAgICAgICAgIHRoaXMuX28gPSB0cnVlXG4gICAgICAgIH1cblxuICAgICAgICBHbGlkZS5pbmRleCA9IG5vcm1hbGl6ZUJhY2t3YXJkSW5kZXgoaW5kZXgsIHZpZXdTaXplKVxuXG4gICAgICAgIHJldHVyblxuICAgICAgfVxuXG4gICAgICB3YXJuKGBJbnZhbGlkIGRpcmVjdGlvbiBwYXR0ZXJuIFske2RpcmVjdGlvbn0ke3N0ZXBzfV0gaGFzIGJlZW4gdXNlZGApXG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiB3ZSBhcmUgb24gdGhlIGZpcnN0IHNsaWRlLlxuICAgICAqXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn1cbiAgICAgKi9cbiAgICBpc1N0YXJ0ICgpIHtcbiAgICAgIHJldHVybiBHbGlkZS5pbmRleCA8PSAwXG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiB3ZSBhcmUgb24gdGhlIGxhc3Qgc2xpZGUuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufVxuICAgICAqL1xuICAgIGlzRW5kICgpIHtcbiAgICAgIHJldHVybiBHbGlkZS5pbmRleCA+PSB0aGlzLmxlbmd0aFxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgd2UgYXJlIG1ha2luZyBhIG9mZnNldCBydW4uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gZGlyZWN0aW9uXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn1cbiAgICAgKi9cbiAgICBpc09mZnNldCAoZGlyZWN0aW9uID0gdW5kZWZpbmVkKSB7XG4gICAgICBpZiAoIWRpcmVjdGlvbikge1xuICAgICAgICByZXR1cm4gdGhpcy5fb1xuICAgICAgfVxuXG4gICAgICBpZiAoIXRoaXMuX28pIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICB9XG5cbiAgICAgIC8vIGRpZCB3ZSB2aWV3IHRvIHRoZSByaWdodD9cbiAgICAgIGlmIChkaXJlY3Rpb24gPT09ICd8PicpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubW92ZS5kaXJlY3Rpb24gPT09ICd8JyAmJiB0aGlzLm1vdmUuc3RlcHMgPT09ICc+J1xuICAgICAgfVxuXG4gICAgICAvLyBkaWQgd2UgdmlldyB0byB0aGUgbGVmdD9cbiAgICAgIGlmIChkaXJlY3Rpb24gPT09ICd8PCcpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubW92ZS5kaXJlY3Rpb24gPT09ICd8JyAmJiB0aGlzLm1vdmUuc3RlcHMgPT09ICc8J1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5tb3ZlLmRpcmVjdGlvbiA9PT0gZGlyZWN0aW9uXG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBib3VuZCBtb2RlIGlzIGFjdGl2ZVxuICAgICAqXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn1cbiAgICAgKi9cbiAgICBpc0JvdW5kICgpIHtcbiAgICAgIHJldHVybiBHbGlkZS5pc1R5cGUoJ3NsaWRlcicpICYmIEdsaWRlLnNldHRpbmdzLmZvY3VzQXQgIT09ICdjZW50ZXInICYmIEdsaWRlLnNldHRpbmdzLmJvdW5kXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgaW5kZXggdmFsdWUgdG8gbW92ZSBmb3J3YXJkL3RvIHRoZSByaWdodFxuICAgKlxuICAgKiBAcGFyYW0gdmlld1NpemVcbiAgICogQHJldHVybnMge051bWJlcn1cbiAgICovXG4gIGZ1bmN0aW9uIGNhbGN1bGF0ZUZvcndhcmRJbmRleCAodmlld1NpemUpIHtcbiAgICBjb25zdCB7IGluZGV4IH0gPSBHbGlkZVxuXG4gICAgaWYgKEdsaWRlLmlzVHlwZSgnY2Fyb3VzZWwnKSkge1xuICAgICAgcmV0dXJuIGluZGV4ICsgdmlld1NpemVcbiAgICB9XG5cbiAgICByZXR1cm4gaW5kZXggKyAodmlld1NpemUgLSAoaW5kZXggJSB2aWV3U2l6ZSkpXG4gIH1cblxuICAvKipcbiAgICogTm9ybWFsaXplcyB0aGUgZ2l2ZW4gZm9yd2FyZCBpbmRleCBiYXNlZCBvbiBnbGlkZSBzZXR0aW5ncywgcHJldmVudGluZyBpdCB0byBleGNlZWQgY2VydGFpbiBib3VuZGFyaWVzXG4gICAqXG4gICAqIEBwYXJhbSBpbmRleFxuICAgKiBAcGFyYW0gbGVuZ3RoXG4gICAqIEBwYXJhbSB2aWV3U2l6ZVxuICAgKiBAcmV0dXJucyB7TnVtYmVyfVxuICAgKi9cbiAgZnVuY3Rpb24gbm9ybWFsaXplRm9yd2FyZEluZGV4IChpbmRleCwgdmlld1NpemUpIHtcbiAgICBjb25zdCB7IGxlbmd0aCB9ID0gUnVuXG5cbiAgICBpZiAoaW5kZXggPD0gbGVuZ3RoKSB7XG4gICAgICByZXR1cm4gaW5kZXhcbiAgICB9XG5cbiAgICBpZiAoR2xpZGUuaXNUeXBlKCdjYXJvdXNlbCcpKSB7XG4gICAgICByZXR1cm4gaW5kZXggLSAobGVuZ3RoICsgMSlcbiAgICB9XG5cbiAgICBpZiAoR2xpZGUuc2V0dGluZ3MucmV3aW5kKSB7XG4gICAgICAvLyBib3VuZCBkb2VzIGZ1bm55IHRoaW5ncyB3aXRoIHRoZSBsZW5ndGgsIHRoZXJlZm9yIHdlIGhhdmUgdG8gYmUgY2VydGFpblxuICAgICAgLy8gdGhhdCB3ZSBhcmUgb24gdGhlIGxhc3QgcG9zc2libGUgaW5kZXggdmFsdWUgZ2l2ZW4gYnkgYm91bmRcbiAgICAgIGlmIChSdW4uaXNCb3VuZCgpICYmICFSdW4uaXNFbmQoKSkge1xuICAgICAgICByZXR1cm4gbGVuZ3RoXG4gICAgICB9XG5cbiAgICAgIHJldHVybiAwXG4gICAgfVxuXG4gICAgaWYgKFJ1bi5pc0JvdW5kKCkpIHtcbiAgICAgIHJldHVybiBsZW5ndGhcbiAgICB9XG5cbiAgICByZXR1cm4gTWF0aC5mbG9vcihsZW5ndGggLyB2aWV3U2l6ZSkgKiB2aWV3U2l6ZVxuICB9XG5cbiAgLyoqXG4gICAqIENhbGN1bGF0ZXMgaW5kZXggdmFsdWUgdG8gbW92ZSBiYWNrd2FyZC90byB0aGUgbGVmdFxuICAgKlxuICAgKiBAcGFyYW0gdmlld1NpemVcbiAgICogQHJldHVybnMge051bWJlcn1cbiAgICovXG4gIGZ1bmN0aW9uIGNhbGN1bGF0ZUJhY2t3YXJkSW5kZXggKHZpZXdTaXplKSB7XG4gICAgY29uc3QgeyBpbmRleCB9ID0gR2xpZGVcblxuICAgIGlmIChHbGlkZS5pc1R5cGUoJ2Nhcm91c2VsJykpIHtcbiAgICAgIHJldHVybiBpbmRleCAtIHZpZXdTaXplXG4gICAgfVxuXG4gICAgLy8gZW5zdXJlIG91ciBiYWNrIG5hdmlnYXRpb24gcmVzdWx0cyBpbiB0aGUgc2FtZSBpbmRleCBhcyBhIGZvcndhcmQgbmF2aWdhdGlvblxuICAgIC8vIHRvIGV4cGVyaWVuY2UgYSBob21vZ2VuZW91cyBwYWdpbmdcbiAgICBjb25zdCB2aWV3ID0gTWF0aC5jZWlsKGluZGV4IC8gdmlld1NpemUpXG5cbiAgICByZXR1cm4gKHZpZXcgLSAxKSAqIHZpZXdTaXplXG4gIH1cblxuICAvKipcbiAgICogTm9ybWFsaXplcyB0aGUgZ2l2ZW4gYmFja3dhcmQgaW5kZXggYmFzZWQgb24gZ2xpZGUgc2V0dGluZ3MsIHByZXZlbnRpbmcgaXQgdG8gZXhjZWVkIGNlcnRhaW4gYm91bmRhcmllc1xuICAgKlxuICAgKiBAcGFyYW0gaW5kZXhcbiAgICogQHBhcmFtIGxlbmd0aFxuICAgKiBAcGFyYW0gdmlld1NpemVcbiAgICogQHJldHVybnMgeyp9XG4gICAqL1xuICBmdW5jdGlvbiBub3JtYWxpemVCYWNrd2FyZEluZGV4IChpbmRleCwgdmlld1NpemUpIHtcbiAgICBjb25zdCB7IGxlbmd0aCB9ID0gUnVuXG5cbiAgICBpZiAoaW5kZXggPj0gMCkge1xuICAgICAgcmV0dXJuIGluZGV4XG4gICAgfVxuXG4gICAgaWYgKEdsaWRlLmlzVHlwZSgnY2Fyb3VzZWwnKSkge1xuICAgICAgcmV0dXJuIGluZGV4ICsgKGxlbmd0aCArIDEpXG4gICAgfVxuXG4gICAgaWYgKEdsaWRlLnNldHRpbmdzLnJld2luZCkge1xuICAgICAgLy8gYm91bmQgZG9lcyBmdW5ueSB0aGluZ3Mgd2l0aCB0aGUgbGVuZ3RoLCB0aGVyZWZvciB3ZSBoYXZlIHRvIGJlIGNlcnRhaW5cbiAgICAgIC8vIHRoYXQgd2UgYXJlIG9uIGZpcnN0IHBvc3NpYmxlIGluZGV4IHZhbHVlIGJlZm9yZSB3ZSB0byByZXdpbmQgdG8gdGhlIGxlbmd0aCBnaXZlbiBieSBib3VuZFxuICAgICAgaWYgKFJ1bi5pc0JvdW5kKCkgJiYgUnVuLmlzU3RhcnQoKSkge1xuICAgICAgICByZXR1cm4gbGVuZ3RoXG4gICAgICB9XG5cbiAgICAgIHJldHVybiBNYXRoLmZsb29yKGxlbmd0aCAvIHZpZXdTaXplKSAqIHZpZXdTaXplXG4gICAgfVxuXG4gICAgcmV0dXJuIDBcbiAgfVxuXG4gIGRlZmluZShSdW4sICdtb3ZlJywge1xuICAgIC8qKlxuICAgICAqIEdldHMgdmFsdWUgb2YgdGhlIG1vdmUgc2NoZW1hLlxuICAgICAqXG4gICAgICogQHJldHVybnMge09iamVjdH1cbiAgICAgKi9cbiAgICBnZXQgKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX21cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2V0cyB2YWx1ZSBvZiB0aGUgbW92ZSBzY2hlbWEuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgICAqL1xuICAgIHNldCAodmFsdWUpIHtcbiAgICAgIGxldCBzdGVwID0gdmFsdWUuc3Vic3RyKDEpXG5cbiAgICAgIHRoaXMuX20gPSB7XG4gICAgICAgIGRpcmVjdGlvbjogdmFsdWUuc3Vic3RyKDAsIDEpLFxuICAgICAgICBzdGVwczogc3RlcCA/ICh0b0ludChzdGVwKSA/IHRvSW50KHN0ZXApIDogc3RlcCkgOiAwXG4gICAgICB9XG4gICAgfVxuICB9KVxuXG4gIGRlZmluZShSdW4sICdsZW5ndGgnLCB7XG4gICAgLyoqXG4gICAgICogR2V0cyB2YWx1ZSBvZiB0aGUgcnVubmluZyBkaXN0YW5jZSBiYXNlZFxuICAgICAqIG9uIHplcm8taW5kZXhpbmcgbnVtYmVyIG9mIHNsaWRlcy5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge051bWJlcn1cbiAgICAgKi9cbiAgICBnZXQgKCkge1xuICAgICAgbGV0IHsgc2V0dGluZ3MgfSA9IEdsaWRlXG4gICAgICBsZXQgeyBsZW5ndGggfSA9IENvbXBvbmVudHMuSHRtbC5zbGlkZXNcblxuICAgICAgLy8gSWYgdGhlIGBib3VuZGAgb3B0aW9uIGlzIGFjdGl2ZSwgYSBtYXhpbXVtIHJ1bm5pbmcgZGlzdGFuY2Ugc2hvdWxkIGJlXG4gICAgICAvLyByZWR1Y2VkIGJ5IGBwZXJWaWV3YCBhbmQgYGZvY3VzQXRgIHNldHRpbmdzLiBSdW5uaW5nIGRpc3RhbmNlXG4gICAgICAvLyBzaG91bGQgZW5kIGJlZm9yZSBjcmVhdGluZyBhbiBlbXB0eSBzcGFjZSBhZnRlciBpbnN0YW5jZS5cbiAgICAgIGlmICh0aGlzLmlzQm91bmQoKSkge1xuICAgICAgICByZXR1cm4gKGxlbmd0aCAtIDEpIC0gKHRvSW50KHNldHRpbmdzLnBlclZpZXcpIC0gMSkgKyB0b0ludChzZXR0aW5ncy5mb2N1c0F0KVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gbGVuZ3RoIC0gMVxuICAgIH1cbiAgfSlcblxuICBkZWZpbmUoUnVuLCAnb2Zmc2V0Jywge1xuICAgIC8qKlxuICAgICAqIEdldHMgc3RhdHVzIG9mIHRoZSBvZmZzZXR0aW5nIGZsYWcuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufVxuICAgICAqL1xuICAgIGdldCAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fb1xuICAgIH1cbiAgfSlcblxuICByZXR1cm4gUnVuXG59XG4iLCJpbXBvcnQgRXZlbnRzQmluZGVyIGZyb20gJy4uL2NvcmUvZXZlbnQvZXZlbnRzLWJpbmRlcidcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKEdsaWRlLCBDb21wb25lbnRzLCBFdmVudHMpIHtcbiAgLyoqXG4gICAqIEluc3RhbmNlIG9mIHRoZSBiaW5kZXIgZm9yIERPTSBFdmVudHMuXG4gICAqXG4gICAqIEB0eXBlIHtFdmVudHNCaW5kZXJ9XG4gICAqL1xuICBjb25zdCBCaW5kZXIgPSBuZXcgRXZlbnRzQmluZGVyKClcblxuICBjb25zdCBJbWFnZXMgPSB7XG4gICAgLyoqXG4gICAgICogQmluZHMgbGlzdGVuZXIgdG8gZ2xpZGUgd3JhcHBlci5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1ZvaWR9XG4gICAgICovXG4gICAgbW91bnQgKCkge1xuICAgICAgdGhpcy5iaW5kKClcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQmluZHMgYGRyYWdzdGFydGAgZXZlbnQgb24gd3JhcHBlciB0byBwcmV2ZW50IGRyYWdnaW5nIGltYWdlcy5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1ZvaWR9XG4gICAgICovXG4gICAgYmluZCAoKSB7XG4gICAgICBCaW5kZXIub24oJ2RyYWdzdGFydCcsIENvbXBvbmVudHMuSHRtbC53cmFwcGVyLCB0aGlzLmRyYWdzdGFydClcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogVW5iaW5kcyBgZHJhZ3N0YXJ0YCBldmVudCBvbiB3cmFwcGVyLlxuICAgICAqXG4gICAgICogQHJldHVybiB7Vm9pZH1cbiAgICAgKi9cbiAgICB1bmJpbmQgKCkge1xuICAgICAgQmluZGVyLm9mZignZHJhZ3N0YXJ0JywgQ29tcG9uZW50cy5IdG1sLndyYXBwZXIpXG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEV2ZW50IGhhbmRsZXIuIFByZXZlbnRzIGRyYWdnaW5nLlxuICAgICAqXG4gICAgICogQHJldHVybiB7Vm9pZH1cbiAgICAgKi9cbiAgICBkcmFnc3RhcnQgKGV2ZW50KSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZSBiaW5kaW5ncyBmcm9tIGltYWdlczpcbiAgICogLSBvbiBkZXN0cm95aW5nLCB0byByZW1vdmUgYWRkZWQgRXZlbnRMaXN0ZW5lcnNcbiAgICovXG4gIEV2ZW50cy5vbignZGVzdHJveScsICgpID0+IHtcbiAgICBJbWFnZXMudW5iaW5kKClcbiAgICBCaW5kZXIuZGVzdHJveSgpXG4gIH0pXG5cbiAgcmV0dXJuIEltYWdlc1xufVxuIiwiaW1wb3J0IHsgZGVmaW5lIH0gZnJvbSAnLi4vdXRpbHMvb2JqZWN0J1xuXG5pbXBvcnQgRXZlbnRzQmluZGVyIGZyb20gJy4uL2NvcmUvZXZlbnQvZXZlbnRzLWJpbmRlcidcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKEdsaWRlLCBDb21wb25lbnRzLCBFdmVudHMpIHtcbiAgLyoqXG4gICAqIEluc3RhbmNlIG9mIHRoZSBiaW5kZXIgZm9yIERPTSBFdmVudHMuXG4gICAqXG4gICAqIEB0eXBlIHtFdmVudHNCaW5kZXJ9XG4gICAqL1xuICBjb25zdCBCaW5kZXIgPSBuZXcgRXZlbnRzQmluZGVyKClcblxuICAvKipcbiAgICogSG9sZHMgZGV0YWNoaW5nIHN0YXR1cyBvZiBhbmNob3JzLlxuICAgKiBQcmV2ZW50cyBkZXRhY2hpbmcgb2YgYWxyZWFkeSBkZXRhY2hlZCBhbmNob3JzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAdHlwZSB7Qm9vbGVhbn1cbiAgICovXG4gIGxldCBkZXRhY2hlZCA9IGZhbHNlXG5cbiAgLyoqXG4gICAqIEhvbGRzIHByZXZlbnRpbmcgc3RhdHVzIG9mIGFuY2hvcnMuXG4gICAqIElmIGB0cnVlYCByZWRpcmVjdGlvbiBhZnRlciBjbGljayB3aWxsIGJlIGRpc2FibGVkLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAdHlwZSB7Qm9vbGVhbn1cbiAgICovXG4gIGxldCBwcmV2ZW50ZWQgPSBmYWxzZVxuXG4gIGNvbnN0IEFuY2hvcnMgPSB7XG4gICAgLyoqXG4gICAgICogU2V0dXBzIGEgaW5pdGlhbCBzdGF0ZSBvZiBhbmNob3JzIGNvbXBvbmVudC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtWb2lkfVxuICAgICAqL1xuICAgIG1vdW50ICgpIHtcbiAgICAgIC8qKlxuICAgICAgICogSG9sZHMgY29sbGVjdGlvbiBvZiBhbmNob3JzIGVsZW1lbnRzLlxuICAgICAgICpcbiAgICAgICAqIEBwcml2YXRlXG4gICAgICAgKiBAdHlwZSB7SFRNTENvbGxlY3Rpb259XG4gICAgICAgKi9cbiAgICAgIHRoaXMuX2EgPSBDb21wb25lbnRzLkh0bWwud3JhcHBlci5xdWVyeVNlbGVjdG9yQWxsKCdhJylcblxuICAgICAgdGhpcy5iaW5kKClcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQmluZHMgZXZlbnRzIHRvIGFuY2hvcnMgaW5zaWRlIGEgdHJhY2suXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtWb2lkfVxuICAgICAqL1xuICAgIGJpbmQgKCkge1xuICAgICAgQmluZGVyLm9uKCdjbGljaycsIENvbXBvbmVudHMuSHRtbC53cmFwcGVyLCB0aGlzLmNsaWNrKVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBVbmJpbmRzIGV2ZW50cyBhdHRhY2hlZCB0byBhbmNob3JzIGluc2lkZSBhIHRyYWNrLlxuICAgICAqXG4gICAgICogQHJldHVybiB7Vm9pZH1cbiAgICAgKi9cbiAgICB1bmJpbmQgKCkge1xuICAgICAgQmluZGVyLm9mZignY2xpY2snLCBDb21wb25lbnRzLkh0bWwud3JhcHBlcilcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogSGFuZGxlciBmb3IgY2xpY2sgZXZlbnQuIFByZXZlbnRzIGNsaWNrcyB3aGVuIGdsaWRlIGlzIGluIGBwcmV2ZW50YCBzdGF0dXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gIHtPYmplY3R9IGV2ZW50XG4gICAgICogQHJldHVybiB7Vm9pZH1cbiAgICAgKi9cbiAgICBjbGljayAoZXZlbnQpIHtcbiAgICAgIGlmIChwcmV2ZW50ZWQpIHtcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKClcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBEZXRhY2hlcyBhbmNob3JzIGNsaWNrIGV2ZW50IGluc2lkZSBnbGlkZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge3NlbGZ9XG4gICAgICovXG4gICAgZGV0YWNoICgpIHtcbiAgICAgIHByZXZlbnRlZCA9IHRydWVcblxuICAgICAgaWYgKCFkZXRhY2hlZCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuaXRlbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICB0aGlzLml0ZW1zW2ldLmRyYWdnYWJsZSA9IGZhbHNlXG5cbiAgICAgICAgICB0aGlzLml0ZW1zW2ldLnNldEF0dHJpYnV0ZShcbiAgICAgICAgICAgICdkYXRhLWhyZWYnLFxuICAgICAgICAgICAgdGhpcy5pdGVtc1tpXS5nZXRBdHRyaWJ1dGUoJ2hyZWYnKVxuICAgICAgICAgIClcblxuICAgICAgICAgIHRoaXMuaXRlbXNbaV0ucmVtb3ZlQXR0cmlidXRlKCdocmVmJylcbiAgICAgICAgfVxuXG4gICAgICAgIGRldGFjaGVkID0gdHJ1ZVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpc1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBBdHRhY2hlcyBhbmNob3JzIGNsaWNrIGV2ZW50cyBpbnNpZGUgZ2xpZGUuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtzZWxmfVxuICAgICAqL1xuICAgIGF0dGFjaCAoKSB7XG4gICAgICBwcmV2ZW50ZWQgPSBmYWxzZVxuXG4gICAgICBpZiAoZGV0YWNoZWQpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLml0ZW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgdGhpcy5pdGVtc1tpXS5kcmFnZ2FibGUgPSB0cnVlXG5cbiAgICAgICAgICB0aGlzLml0ZW1zW2ldLnNldEF0dHJpYnV0ZShcbiAgICAgICAgICAgICdocmVmJyxcbiAgICAgICAgICAgIHRoaXMuaXRlbXNbaV0uZ2V0QXR0cmlidXRlKCdkYXRhLWhyZWYnKVxuICAgICAgICAgIClcbiAgICAgICAgfVxuXG4gICAgICAgIGRldGFjaGVkID0gZmFsc2VcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG4gIH1cblxuICBkZWZpbmUoQW5jaG9ycywgJ2l0ZW1zJywge1xuICAgIC8qKlxuICAgICAqIEdldHMgY29sbGVjdGlvbiBvZiB0aGUgYXJyb3dzIEhUTUwgZWxlbWVudHMuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtIVE1MRWxlbWVudFtdfVxuICAgICAqL1xuICAgIGdldCAoKSB7XG4gICAgICByZXR1cm4gQW5jaG9ycy5fYVxuICAgIH1cbiAgfSlcblxuICAvKipcbiAgICogRGV0YWNoIGFuY2hvcnMgaW5zaWRlIHNsaWRlczpcbiAgICogLSBvbiBzd2lwaW5nLCBzbyB0aGV5IHdvbid0IHJlZGlyZWN0IHRvIGl0cyBgaHJlZmAgYXR0cmlidXRlc1xuICAgKi9cbiAgRXZlbnRzLm9uKCdzd2lwZS5tb3ZlJywgKCkgPT4ge1xuICAgIEFuY2hvcnMuZGV0YWNoKClcbiAgfSlcblxuICAvKipcbiAgICogQXR0YWNoIGFuY2hvcnMgaW5zaWRlIHNsaWRlczpcbiAgICogLSBhZnRlciBzd2lwaW5nIGFuZCB0cmFuc2l0aW9ucyBlbmRzLCBzbyB0aGV5IGNhbiByZWRpcmVjdCBhZnRlciBjbGljayBhZ2FpblxuICAgKi9cbiAgRXZlbnRzLm9uKCdzd2lwZS5lbmQnLCAoKSA9PiB7XG4gICAgQ29tcG9uZW50cy5UcmFuc2l0aW9uLmFmdGVyKCgpID0+IHtcbiAgICAgIEFuY2hvcnMuYXR0YWNoKClcbiAgICB9KVxuICB9KVxuXG4gIC8qKlxuICAgKiBVbmJpbmQgYW5jaG9ycyBpbnNpZGUgc2xpZGVzOlxuICAgKiAtIG9uIGRlc3Ryb3lpbmcsIHRvIGJyaW5nIGFuY2hvcnMgdG8gaXRzIGluaXRpYWwgc3RhdGVcbiAgICovXG4gIEV2ZW50cy5vbignZGVzdHJveScsICgpID0+IHtcbiAgICBBbmNob3JzLmF0dGFjaCgpXG4gICAgQW5jaG9ycy51bmJpbmQoKVxuICAgIEJpbmRlci5kZXN0cm95KClcbiAgfSlcblxuICByZXR1cm4gQW5jaG9yc1xufVxuIiwiaW1wb3J0IHsgc2libGluZ3MgfSBmcm9tICcuLi91dGlscy9kb20nXG5pbXBvcnQgeyBkZWZpbmUgfSBmcm9tICcuLi91dGlscy9vYmplY3QnXG5pbXBvcnQgc3VwcG9ydHNQYXNzaXZlIGZyb20gJy4uL3V0aWxzL2RldGVjdC1wYXNzaXZlLWV2ZW50J1xuXG5pbXBvcnQgRXZlbnRzQmluZGVyIGZyb20gJy4uL2NvcmUvZXZlbnQvZXZlbnRzLWJpbmRlcidcblxuY29uc3QgTkFWX1NFTEVDVE9SID0gJ1tkYXRhLWdsaWRlLWVsPVwiY29udHJvbHNbbmF2XVwiXSdcbmNvbnN0IENPTlRST0xTX1NFTEVDVE9SID0gJ1tkYXRhLWdsaWRlLWVsXj1cImNvbnRyb2xzXCJdJ1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoR2xpZGUsIENvbXBvbmVudHMsIEV2ZW50cykge1xuICAvKipcbiAgICogSW5zdGFuY2Ugb2YgdGhlIGJpbmRlciBmb3IgRE9NIEV2ZW50cy5cbiAgICpcbiAgICogQHR5cGUge0V2ZW50c0JpbmRlcn1cbiAgICovXG4gIGNvbnN0IEJpbmRlciA9IG5ldyBFdmVudHNCaW5kZXIoKVxuXG4gIGxldCBjYXB0dXJlID0gKHN1cHBvcnRzUGFzc2l2ZSkgPyB7IHBhc3NpdmU6IHRydWUgfSA6IGZhbHNlXG5cbiAgY29uc3QgQ29udHJvbHMgPSB7XG4gICAgLyoqXG4gICAgICogSW5pdHMgYXJyb3dzLiBCaW5kcyBldmVudHMgbGlzdGVuZXJzXG4gICAgICogdG8gdGhlIGFycm93cyBIVE1MIGVsZW1lbnRzLlxuICAgICAqXG4gICAgICogQHJldHVybiB7Vm9pZH1cbiAgICAgKi9cbiAgICBtb3VudCAoKSB7XG4gICAgICAvKipcbiAgICAgICAqIENvbGxlY3Rpb24gb2YgbmF2aWdhdGlvbiBIVE1MIGVsZW1lbnRzLlxuICAgICAgICpcbiAgICAgICAqIEBwcml2YXRlXG4gICAgICAgKiBAdHlwZSB7SFRNTENvbGxlY3Rpb259XG4gICAgICAgKi9cbiAgICAgIHRoaXMuX24gPSBDb21wb25lbnRzLkh0bWwucm9vdC5xdWVyeVNlbGVjdG9yQWxsKE5BVl9TRUxFQ1RPUilcblxuICAgICAgLyoqXG4gICAgICAgKiBDb2xsZWN0aW9uIG9mIGNvbnRyb2xzIEhUTUwgZWxlbWVudHMuXG4gICAgICAgKlxuICAgICAgICogQHByaXZhdGVcbiAgICAgICAqIEB0eXBlIHtIVE1MQ29sbGVjdGlvbn1cbiAgICAgICAqL1xuICAgICAgdGhpcy5fYyA9IENvbXBvbmVudHMuSHRtbC5yb290LnF1ZXJ5U2VsZWN0b3JBbGwoQ09OVFJPTFNfU0VMRUNUT1IpXG5cbiAgICAgIHRoaXMuYWRkQmluZGluZ3MoKVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTZXRzIGFjdGl2ZSBjbGFzcyB0byBjdXJyZW50IHNsaWRlLlxuICAgICAqXG4gICAgICogQHJldHVybiB7Vm9pZH1cbiAgICAgKi9cbiAgICBzZXRBY3RpdmUgKCkge1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9uLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHRoaXMuYWRkQ2xhc3ModGhpcy5fbltpXS5jaGlsZHJlbilcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhY3RpdmUgY2xhc3MgdG8gY3VycmVudCBzbGlkZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1ZvaWR9XG4gICAgICovXG4gICAgcmVtb3ZlQWN0aXZlICgpIHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5fbi5sZW5ndGg7IGkrKykge1xuICAgICAgICB0aGlzLnJlbW92ZUNsYXNzKHRoaXMuX25baV0uY2hpbGRyZW4pXG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFRvZ2dsZXMgYWN0aXZlIGNsYXNzIG9uIGl0ZW1zIGluc2lkZSBuYXZpZ2F0aW9uLlxuICAgICAqXG4gICAgICogQHBhcmFtICB7SFRNTEVsZW1lbnR9IGNvbnRyb2xzXG4gICAgICogQHJldHVybiB7Vm9pZH1cbiAgICAgKi9cbiAgICBhZGRDbGFzcyAoY29udHJvbHMpIHtcbiAgICAgIGxldCBzZXR0aW5ncyA9IEdsaWRlLnNldHRpbmdzXG4gICAgICBsZXQgaXRlbSA9IGNvbnRyb2xzW0dsaWRlLmluZGV4XVxuXG4gICAgICBpZiAoaXRlbSkge1xuICAgICAgICBpdGVtLmNsYXNzTGlzdC5hZGQoc2V0dGluZ3MuY2xhc3Nlcy5hY3RpdmVOYXYpXG5cbiAgICAgICAgc2libGluZ3MoaXRlbSkuZm9yRWFjaChzaWJsaW5nID0+IHtcbiAgICAgICAgICBzaWJsaW5nLmNsYXNzTGlzdC5yZW1vdmUoc2V0dGluZ3MuY2xhc3Nlcy5hY3RpdmVOYXYpXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYWN0aXZlIGNsYXNzIGZyb20gYWN0aXZlIGNvbnRyb2wuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gIHtIVE1MRWxlbWVudH0gY29udHJvbHNcbiAgICAgKiBAcmV0dXJuIHtWb2lkfVxuICAgICAqL1xuICAgIHJlbW92ZUNsYXNzIChjb250cm9scykge1xuICAgICAgbGV0IGl0ZW0gPSBjb250cm9sc1tHbGlkZS5pbmRleF1cblxuICAgICAgaWYgKGl0ZW0pIHtcbiAgICAgICAgaXRlbS5jbGFzc0xpc3QucmVtb3ZlKEdsaWRlLnNldHRpbmdzLmNsYXNzZXMuYWN0aXZlTmF2KVxuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGhhbmRsZXMgdG8gdGhlIGVhY2ggZ3JvdXAgb2YgY29udHJvbHMuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtWb2lkfVxuICAgICAqL1xuICAgIGFkZEJpbmRpbmdzICgpIHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5fYy5sZW5ndGg7IGkrKykge1xuICAgICAgICB0aGlzLmJpbmQodGhpcy5fY1tpXS5jaGlsZHJlbilcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBoYW5kbGVzIGZyb20gdGhlIGVhY2ggZ3JvdXAgb2YgY29udHJvbHMuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtWb2lkfVxuICAgICAqL1xuICAgIHJlbW92ZUJpbmRpbmdzICgpIHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5fYy5sZW5ndGg7IGkrKykge1xuICAgICAgICB0aGlzLnVuYmluZCh0aGlzLl9jW2ldLmNoaWxkcmVuKVxuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBCaW5kcyBldmVudHMgdG8gYXJyb3dzIEhUTUwgZWxlbWVudHMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0hUTUxDb2xsZWN0aW9ufSBlbGVtZW50c1xuICAgICAqIEByZXR1cm4ge1ZvaWR9XG4gICAgICovXG4gICAgYmluZCAoZWxlbWVudHMpIHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZWxlbWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgQmluZGVyLm9uKCdjbGljaycsIGVsZW1lbnRzW2ldLCB0aGlzLmNsaWNrKVxuICAgICAgICBCaW5kZXIub24oJ3RvdWNoc3RhcnQnLCBlbGVtZW50c1tpXSwgdGhpcy5jbGljaywgY2FwdHVyZSlcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogVW5iaW5kcyBldmVudHMgYmluZGVkIHRvIHRoZSBhcnJvd3MgSFRNTCBlbGVtZW50cy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7SFRNTENvbGxlY3Rpb259IGVsZW1lbnRzXG4gICAgICogQHJldHVybiB7Vm9pZH1cbiAgICAgKi9cbiAgICB1bmJpbmQgKGVsZW1lbnRzKSB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGVsZW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIEJpbmRlci5vZmYoWydjbGljaycsICd0b3VjaHN0YXJ0J10sIGVsZW1lbnRzW2ldKVxuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBIYW5kbGVzIGBjbGlja2AgZXZlbnQgb24gdGhlIGFycm93cyBIVE1MIGVsZW1lbnRzLlxuICAgICAqIE1vdmVzIHNsaWRlciBpbiBkcmllY3Rpb24gcHJlY2lzZWQgaW5cbiAgICAgKiBgZGF0YS1nbGlkZS1kaXJgIGF0dHJpYnV0ZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBldmVudFxuICAgICAqIEByZXR1cm4ge1ZvaWR9XG4gICAgICovXG4gICAgY2xpY2sgKGV2ZW50KSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG5cbiAgICAgIENvbXBvbmVudHMuUnVuLm1ha2UoQ29tcG9uZW50cy5EaXJlY3Rpb24ucmVzb2x2ZShldmVudC5jdXJyZW50VGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1nbGlkZS1kaXInKSkpXG4gICAgfVxuICB9XG5cbiAgZGVmaW5lKENvbnRyb2xzLCAnaXRlbXMnLCB7XG4gICAgLyoqXG4gICAgICogR2V0cyBjb2xsZWN0aW9uIG9mIHRoZSBjb250cm9scyBIVE1MIGVsZW1lbnRzLlxuICAgICAqXG4gICAgICogQHJldHVybiB7SFRNTEVsZW1lbnRbXX1cbiAgICAgKi9cbiAgICBnZXQgKCkge1xuICAgICAgcmV0dXJuIENvbnRyb2xzLl9jXG4gICAgfVxuICB9KVxuXG4gIC8qKlxuICAgKiBTd2FwIGFjdGl2ZSBjbGFzcyBvZiBjdXJyZW50IG5hdmlnYXRpb24gaXRlbTpcbiAgICogLSBhZnRlciBtb3VudGluZyB0byBzZXQgaXQgdG8gaW5pdGlhbCBpbmRleFxuICAgKiAtIGFmdGVyIGVhY2ggbW92ZSB0byB0aGUgbmV3IGluZGV4XG4gICAqL1xuICBFdmVudHMub24oWydtb3VudC5hZnRlcicsICdtb3ZlLmFmdGVyJ10sICgpID0+IHtcbiAgICBDb250cm9scy5zZXRBY3RpdmUoKVxuICB9KVxuXG4gIC8qKlxuICAgKiBSZW1vdmUgYmluZGluZ3MgYW5kIEhUTUwgQ2xhc3NlczpcbiAgICogLSBvbiBkZXN0cm95aW5nLCB0byBicmluZyBtYXJrdXAgdG8gaXRzIGluaXRpYWwgc3RhdGVcbiAgICovXG4gIEV2ZW50cy5vbignZGVzdHJveScsICgpID0+IHtcbiAgICBDb250cm9scy5yZW1vdmVCaW5kaW5ncygpXG4gICAgQ29udHJvbHMucmVtb3ZlQWN0aXZlKClcbiAgICBCaW5kZXIuZGVzdHJveSgpXG4gIH0pXG5cbiAgcmV0dXJuIENvbnRyb2xzXG59XG4iLCJpbXBvcnQgRXZlbnRzQmluZGVyIGZyb20gJy4uL2NvcmUvZXZlbnQvZXZlbnRzLWJpbmRlcidcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKEdsaWRlLCBDb21wb25lbnRzLCBFdmVudHMpIHtcbiAgLyoqXG4gICAqIEluc3RhbmNlIG9mIHRoZSBiaW5kZXIgZm9yIERPTSBFdmVudHMuXG4gICAqXG4gICAqIEB0eXBlIHtFdmVudHNCaW5kZXJ9XG4gICAqL1xuICBjb25zdCBCaW5kZXIgPSBuZXcgRXZlbnRzQmluZGVyKClcblxuICBjb25zdCBLZXlib2FyZCA9IHtcbiAgICAvKipcbiAgICAgKiBCaW5kcyBrZXlib2FyZCBldmVudHMgb24gY29tcG9uZW50IG1vdW50LlxuICAgICAqXG4gICAgICogQHJldHVybiB7Vm9pZH1cbiAgICAgKi9cbiAgICBtb3VudCAoKSB7XG4gICAgICBpZiAoR2xpZGUuc2V0dGluZ3Mua2V5Ym9hcmQpIHtcbiAgICAgICAgdGhpcy5iaW5kKClcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQWRkcyBrZXlib2FyZCBwcmVzcyBldmVudHMuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtWb2lkfVxuICAgICAqL1xuICAgIGJpbmQgKCkge1xuICAgICAgQmluZGVyLm9uKCdrZXl1cCcsIGRvY3VtZW50LCB0aGlzLnByZXNzKVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGtleWJvYXJkIHByZXNzIGV2ZW50cy5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1ZvaWR9XG4gICAgICovXG4gICAgdW5iaW5kICgpIHtcbiAgICAgIEJpbmRlci5vZmYoJ2tleXVwJywgZG9jdW1lbnQpXG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEhhbmRsZXMga2V5Ym9hcmQncyBhcnJvd3MgcHJlc3MgYW5kIG1vdmluZyBnbGlkZSBmb3dhcmQgYW5kIGJhY2t3YXJkLlxuICAgICAqXG4gICAgICogQHBhcmFtICB7T2JqZWN0fSBldmVudFxuICAgICAqIEByZXR1cm4ge1ZvaWR9XG4gICAgICovXG4gICAgcHJlc3MgKGV2ZW50KSB7XG4gICAgICBpZiAoZXZlbnQua2V5Q29kZSA9PT0gMzkpIHtcbiAgICAgICAgQ29tcG9uZW50cy5SdW4ubWFrZShDb21wb25lbnRzLkRpcmVjdGlvbi5yZXNvbHZlKCc+JykpXG4gICAgICB9XG5cbiAgICAgIGlmIChldmVudC5rZXlDb2RlID09PSAzNykge1xuICAgICAgICBDb21wb25lbnRzLlJ1bi5tYWtlKENvbXBvbmVudHMuRGlyZWN0aW9uLnJlc29sdmUoJzwnKSlcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlIGJpbmRpbmdzIGZyb20ga2V5Ym9hcmQ6XG4gICAqIC0gb24gZGVzdHJveWluZyB0byByZW1vdmUgYWRkZWQgZXZlbnRzXG4gICAqIC0gb24gdXBkYXRpbmcgdG8gcmVtb3ZlIGV2ZW50cyBiZWZvcmUgcmVtb3VudGluZ1xuICAgKi9cbiAgRXZlbnRzLm9uKFsnZGVzdHJveScsICd1cGRhdGUnXSwgKCkgPT4ge1xuICAgIEtleWJvYXJkLnVuYmluZCgpXG4gIH0pXG5cbiAgLyoqXG4gICAqIFJlbW91bnQgY29tcG9uZW50XG4gICAqIC0gb24gdXBkYXRpbmcgdG8gcmVmbGVjdCBwb3RlbnRpYWwgY2hhbmdlcyBpbiBzZXR0aW5nc1xuICAgKi9cbiAgRXZlbnRzLm9uKCd1cGRhdGUnLCAoKSA9PiB7XG4gICAgS2V5Ym9hcmQubW91bnQoKVxuICB9KVxuXG4gIC8qKlxuICAgKiBEZXN0cm95IGJpbmRlcjpcbiAgICogLSBvbiBkZXN0cm95aW5nIHRvIHJlbW92ZSBsaXN0ZW5lcnNcbiAgICovXG4gIEV2ZW50cy5vbignZGVzdHJveScsICgpID0+IHtcbiAgICBCaW5kZXIuZGVzdHJveSgpXG4gIH0pXG5cbiAgcmV0dXJuIEtleWJvYXJkXG59XG4iLCJpbXBvcnQgeyBkZWZpbmUgfSBmcm9tICcuLi91dGlscy9vYmplY3QnXG5pbXBvcnQgeyB0b0ludCwgaXNVbmRlZmluZWQgfSBmcm9tICcuLi91dGlscy91bml0J1xuXG5pbXBvcnQgRXZlbnRzQmluZGVyIGZyb20gJy4uL2NvcmUvZXZlbnQvZXZlbnRzLWJpbmRlcidcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKEdsaWRlLCBDb21wb25lbnRzLCBFdmVudHMpIHtcbiAgLyoqXG4gICAqIEluc3RhbmNlIG9mIHRoZSBiaW5kZXIgZm9yIERPTSBFdmVudHMuXG4gICAqXG4gICAqIEB0eXBlIHtFdmVudHNCaW5kZXJ9XG4gICAqL1xuICBjb25zdCBCaW5kZXIgPSBuZXcgRXZlbnRzQmluZGVyKClcblxuICBjb25zdCBBdXRvcGxheSA9IHtcbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplcyBhdXRvcGxheWluZyBhbmQgZXZlbnRzLlxuICAgICAqXG4gICAgICogQHJldHVybiB7Vm9pZH1cbiAgICAgKi9cbiAgICBtb3VudCAoKSB7XG4gICAgICB0aGlzLnN0YXJ0KClcblxuICAgICAgaWYgKEdsaWRlLnNldHRpbmdzLmhvdmVycGF1c2UpIHtcbiAgICAgICAgdGhpcy5iaW5kKClcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU3RhcnRzIGF1dG9wbGF5aW5nIGluIGNvbmZpZ3VyZWQgaW50ZXJ2YWwuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW58TnVtYmVyfSBmb3JjZSBSdW4gYXV0b3BsYXlpbmcgd2l0aCBwYXNzZWQgaW50ZXJ2YWwgcmVnYXJkbGVzcyBvZiBgYXV0b3BsYXlgIHNldHRpbmdzXG4gICAgICogQHJldHVybiB7Vm9pZH1cbiAgICAgKi9cbiAgICBzdGFydCAoKSB7XG4gICAgICBpZiAoR2xpZGUuc2V0dGluZ3MuYXV0b3BsYXkpIHtcbiAgICAgICAgaWYgKGlzVW5kZWZpbmVkKHRoaXMuX2kpKSB7XG4gICAgICAgICAgdGhpcy5faSA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuc3RvcCgpXG5cbiAgICAgICAgICAgIENvbXBvbmVudHMuUnVuLm1ha2UoJz4nKVxuXG4gICAgICAgICAgICB0aGlzLnN0YXJ0KClcbiAgICAgICAgICB9LCB0aGlzLnRpbWUpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU3RvcHMgYXV0b3J1bm5pbmcgb2YgdGhlIGdsaWRlLlxuICAgICAqXG4gICAgICogQHJldHVybiB7Vm9pZH1cbiAgICAgKi9cbiAgICBzdG9wICgpIHtcbiAgICAgIHRoaXMuX2kgPSBjbGVhckludGVydmFsKHRoaXMuX2kpXG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFN0b3BzIGF1dG9wbGF5aW5nIHdoaWxlIG1vdXNlIGlzIG92ZXIgZ2xpZGUncyBhcmVhLlxuICAgICAqXG4gICAgICogQHJldHVybiB7Vm9pZH1cbiAgICAgKi9cbiAgICBiaW5kICgpIHtcbiAgICAgIEJpbmRlci5vbignbW91c2VvdmVyJywgQ29tcG9uZW50cy5IdG1sLnJvb3QsICgpID0+IHtcbiAgICAgICAgdGhpcy5zdG9wKClcbiAgICAgIH0pXG5cbiAgICAgIEJpbmRlci5vbignbW91c2VvdXQnLCBDb21wb25lbnRzLkh0bWwucm9vdCwgKCkgPT4ge1xuICAgICAgICB0aGlzLnN0YXJ0KClcbiAgICAgIH0pXG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFVuYmluZCBtb3VzZW92ZXIgZXZlbnRzLlxuICAgICAqXG4gICAgICogQHJldHVybnMge1ZvaWR9XG4gICAgICovXG4gICAgdW5iaW5kICgpIHtcbiAgICAgIEJpbmRlci5vZmYoWydtb3VzZW92ZXInLCAnbW91c2VvdXQnXSwgQ29tcG9uZW50cy5IdG1sLnJvb3QpXG4gICAgfVxuICB9XG5cbiAgZGVmaW5lKEF1dG9wbGF5LCAndGltZScsIHtcbiAgICAvKipcbiAgICAgKiBHZXRzIHRpbWUgcGVyaW9kIHZhbHVlIGZvciB0aGUgYXV0b3BsYXkgaW50ZXJ2YWwuIFByaW9yaXRpemVzXG4gICAgICogdGltZXMgaW4gYGRhdGEtZ2xpZGUtYXV0b3BsYXlgIGF0dHJ1YnV0ZXMgb3ZlciBvcHRpb25zLlxuICAgICAqXG4gICAgICogQHJldHVybiB7TnVtYmVyfVxuICAgICAqL1xuICAgIGdldCAoKSB7XG4gICAgICBsZXQgYXV0b3BsYXkgPSBDb21wb25lbnRzLkh0bWwuc2xpZGVzW0dsaWRlLmluZGV4XS5nZXRBdHRyaWJ1dGUoJ2RhdGEtZ2xpZGUtYXV0b3BsYXknKVxuXG4gICAgICBpZiAoYXV0b3BsYXkpIHtcbiAgICAgICAgcmV0dXJuIHRvSW50KGF1dG9wbGF5KVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gdG9JbnQoR2xpZGUuc2V0dGluZ3MuYXV0b3BsYXkpXG4gICAgfVxuICB9KVxuXG4gIC8qKlxuICAgKiBTdG9wIGF1dG9wbGF5aW5nIGFuZCB1bmJpbmQgZXZlbnRzOlxuICAgKiAtIG9uIGRlc3Ryb3lpbmcsIHRvIGNsZWFyIGRlZmluZWQgaW50ZXJ2YWxcbiAgICogLSBvbiB1cGRhdGluZyB2aWEgQVBJIHRvIHJlc2V0IGludGVydmFsIHRoYXQgbWF5IGNoYW5nZWRcbiAgICovXG4gIEV2ZW50cy5vbihbJ2Rlc3Ryb3knLCAndXBkYXRlJ10sICgpID0+IHtcbiAgICBBdXRvcGxheS51bmJpbmQoKVxuICB9KVxuXG4gIC8qKlxuICAgKiBTdG9wIGF1dG9wbGF5aW5nOlxuICAgKiAtIGJlZm9yZSBlYWNoIHJ1biwgdG8gcmVzdGFydCBhdXRvcGxheWluZ1xuICAgKiAtIG9uIHBhdXNpbmcgdmlhIEFQSVxuICAgKiAtIG9uIGRlc3Ryb3lpbmcsIHRvIGNsZWFyIGRlZmluZWQgaW50ZXJ2YWxcbiAgICogLSB3aGlsZSBzdGFydGluZyBhIHN3aXBlXG4gICAqIC0gb24gdXBkYXRpbmcgdmlhIEFQSSB0byByZXNldCBpbnRlcnZhbCB0aGF0IG1heSBjaGFuZ2VkXG4gICAqL1xuICBFdmVudHMub24oWydydW4uYmVmb3JlJywgJ3BhdXNlJywgJ2Rlc3Ryb3knLCAnc3dpcGUuc3RhcnQnLCAndXBkYXRlJ10sICgpID0+IHtcbiAgICBBdXRvcGxheS5zdG9wKClcbiAgfSlcblxuICAvKipcbiAgICogU3RhcnQgYXV0b3BsYXlpbmc6XG4gICAqIC0gYWZ0ZXIgZWFjaCBydW4sIHRvIHJlc3RhcnQgYXV0b3BsYXlpbmdcbiAgICogLSBvbiBwbGF5aW5nIHZpYSBBUElcbiAgICogLSB3aGlsZSBlbmRpbmcgYSBzd2lwZVxuICAgKi9cbiAgRXZlbnRzLm9uKFsncnVuLmFmdGVyJywgJ3BsYXknLCAnc3dpcGUuZW5kJ10sICgpID0+IHtcbiAgICBBdXRvcGxheS5zdGFydCgpXG4gIH0pXG5cbiAgLyoqXG4gICAqIFJlbW91bnQgYXV0b3BsYXlpbmc6XG4gICAqIC0gb24gdXBkYXRpbmcgdmlhIEFQSSB0byByZXNldCBpbnRlcnZhbCB0aGF0IG1heSBjaGFuZ2VkXG4gICAqL1xuICBFdmVudHMub24oJ3VwZGF0ZScsICgpID0+IHtcbiAgICBBdXRvcGxheS5tb3VudCgpXG4gIH0pXG5cbiAgLyoqXG4gICAqIERlc3Ryb3kgYSBiaW5kZXI6XG4gICAqIC0gb24gZGVzdHJveWluZyBnbGlkZSBpbnN0YW5jZSB0byBjbGVhcnVwIGxpc3RlbmVyc1xuICAgKi9cbiAgRXZlbnRzLm9uKCdkZXN0cm95JywgKCkgPT4ge1xuICAgIEJpbmRlci5kZXN0cm95KClcbiAgfSlcblxuICByZXR1cm4gQXV0b3BsYXlcbn1cbiJdLCJuYW1lcyI6WyJ0b0ludCIsInZhbHVlIiwicGFyc2VJbnQiLCJpc1N0cmluZyIsImlzT2JqZWN0IiwidHlwZSIsImlzRnVuY3Rpb24iLCJpc1VuZGVmaW5lZCIsImlzQXJyYXkiLCJjb25zdHJ1Y3RvciIsIkFycmF5IiwiZGVmaW5lIiwib2JqIiwicHJvcCIsImRlZmluaXRpb24iLCJkZWZpbmVQcm9wZXJ0eSIsIm1lcmdlT3B0aW9ucyIsImRlZmF1bHRzIiwic2V0dGluZ3MiLCJvcHRpb25zIiwiYmFiZWxIZWxwZXJzLmV4dGVuZHMiLCJoYXNPd25Qcm9wZXJ0eSIsImNsYXNzZXMiLCJkaXJlY3Rpb24iLCJicmVha3BvaW50cyIsIkV2ZW50c0J1cyIsImV2ZW50IiwiaGFuZGxlciIsImkiLCJsZW5ndGgiLCJvbiIsInRoaXMiLCJob3AiLCJjYWxsIiwiZXZlbnRzIiwiaW5kZXgiLCJwdXNoIiwiY29udGV4dCIsImVtaXQiLCJmb3JFYWNoIiwiaXRlbSIsIkdsaWRlIiwiZXh0ZW5zaW9ucyIsIl9lIiwiX2MiLCJnbGlkZSIsImNvbXBvbmVudHMiLCJuYW1lIiwibW91bnQiLCJ0cmFuc2Zvcm1lcnMiLCJfdCIsInN0YXJ0QXQiLCJwYXR0ZXJuIiwiUnVuIiwibWFrZSIsImRpc3RhbmNlIiwiVHJhbnNpdGlvbiIsImRpc2FibGUiLCJNb3ZlIiwiaW50ZXJ2YWwiLCJhdXRvcGxheSIsImRpc2FibGVkIiwiX28iLCJvIiwiX2kiLCJfZCIsInN0YXR1cyIsInNlbGVjdG9yIiwibm93IiwiRGF0ZSIsImdldFRpbWUiLCJ0aHJvdHRsZSIsImZ1bmMiLCJ3YWl0IiwidGltZW91dCIsImFyZ3MiLCJyZXN1bHQiLCJwcmV2aW91cyIsImxhdGVyIiwibGVhZGluZyIsImFwcGx5IiwidGhyb3R0bGVkIiwiYXQiLCJyZW1haW5pbmciLCJhcmd1bWVudHMiLCJ0cmFpbGluZyIsInNldFRpbWVvdXQiLCJjYW5jZWwiLCJNQVJHSU5fVFlQRSIsInNpYmxpbmdzIiwibm9kZSIsInBhcmVudE5vZGUiLCJuIiwiZmlyc3RDaGlsZCIsIm1hdGNoZWQiLCJuZXh0U2libGluZyIsIm5vZGVUeXBlIiwiZXhpc3QiLCJ3aW5kb3ciLCJIVE1MRWxlbWVudCIsIlRSQUNLX1NFTEVDVE9SIiwiRXZlbnRzQmluZGVyIiwiZWwiLCJjbG9zdXJlIiwiY2FwdHVyZSIsImxpc3RlbmVycyIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiVkFMSURfRElSRUNUSU9OUyIsIkZMSVBFRF9NT1ZFTUVOVFMiLCJDb21wb25lbnRzIiwidHJhbnNsYXRlIiwiRGlyZWN0aW9uIiwiaXMiLCJFdmVudHMiLCJUUkFOU0ZPUk1FUlMiLCJtdWx0aXBsaWVyIiwiTWF0aCIsImZsb29yIiwiU2l6ZXMiLCJzbGlkZVdpZHRoIiwiR2FwcyIsIkNsb25lcyIsImdyb3ciLCJmb2N1c0F0IiwicGVlayIsIlBlZWsiLCJiZWZvcmUiLCJnYXAiLCJ3aWR0aCIsImNvbmNhdCIsIlJ0bCIsInRyYW5zZm9ybWVyIiwibW9kaWZ5Iiwic3VwcG9ydHNQYXNzaXZlIiwib3B0cyIsIk9iamVjdCIsImUiLCJTVEFSVF9FVkVOVFMiLCJNT1ZFX0VWRU5UUyIsIkVORF9FVkVOVFMiLCJNT1VTRV9FVkVOVFMiLCJzb3J0QnJlYWtwb2ludHMiLCJwb2ludHMiLCJrZXlzIiwic29ydCIsInJlZHVjZSIsInIiLCJrIiwic29ydEtleXMiLCJDT01QT05FTlRTIiwiSHRtbCIsInJvb3QiLCJ0cmFjayIsInF1ZXJ5U2VsZWN0b3IiLCJzbGlkZXMiLCJwcm90b3R5cGUiLCJzbGljZSIsIndyYXBwZXIiLCJjaGlsZHJlbiIsImZpbHRlciIsInNsaWRlIiwiY2xhc3NMaXN0IiwiY29udGFpbnMiLCJjbG9uZVNsaWRlIiwiX3IiLCJkb2N1bWVudCIsInQiLCJUcmFuc2xhdGUiLCJ0cmFuc2Zvcm0iLCJtdXRhdG9yIiwibXV0YXRlIiwic3R5bGUiLCJwZXJWaWV3IiwiaXNPZmZzZXQiLCJ0cmF2ZWxEaXN0YW5jZSIsImlzVHlwZSIsInNldCIsIm1vdmVtZW50IiwiYWZ0ZXIiLCJzdGFydFdpZHRoIiwiZ2V0U3RhcnRJbmRleCIsImdldFRyYXZlbERpc3RhbmNlIiwicmVtb3ZlIiwicHJvcGVydHkiLCJhbmltYXRpb25UaW1pbmdGdW5jIiwiZHVyYXRpb24iLCJ0cmFuc2l0aW9uIiwiY29tcG9zZSIsImNhbGxiYWNrIiwib2Zmc2V0IiwicmV3aW5kRHVyYXRpb24iLCJhbmltYXRpb25EdXJhdGlvbiIsImVuYWJsZSIsInRva2VuIiwic3BsaXQiLCJqb2luIiwiYWRkIiwiX3YiLCJpbmRleE9mIiwicmVtb3ZlQ2xhc3MiLCJhZGRDbGFzcyIsIndyYXBwZXJTaXplIiwib2Zmc2V0V2lkdGgiLCJyZWR1Y3RvciIsInNldHVwU2xpZGVzIiwic2V0dXBXcmFwcGVyIiwibGVuIiwibWFyZ2luTGVmdCIsIm1hcmdpblJpZ2h0IiwiX3RoaXMiLCJpdGVtcyIsImNvbGxlY3QiLCJjbG9uZUNvdW50Iiwicm91bmQiLCJhcHBlbmQiLCJyZXZlcnNlIiwicHJlcGVuZCIsIm1heCIsImNsb25lIiwiY2xvbmVOb2RlIiwidW5zaGlmdCIsImhhbGYiLCJhcHBlbmRDaGlsZCIsImluc2VydEJlZm9yZSIsInJlbW92ZUNoaWxkIiwiQmluZGVyIiwiUmVzaXplIiwiYmluZCIsIm9mZiIsInVuYmluZCIsImRlc3Ryb3kiLCJCdWlsZCIsInR5cGVDbGFzcyIsImFjdGl2ZUNsYXNzIiwiYWN0aXZlU2xpZGUiLCJzaWJsaW5nIiwicmVtb3ZlQ2xhc3NlcyIsIm1vdmUiLCJ3YWl0Rm9yVHJhbnNpdGlvbiIsImNhbGN1bGF0ZSIsImlzU3RhcnQiLCJpc0VuZCIsInN0ZXBzIiwidmlld1NpemUiLCJjb3VudGFibGVTdGVwcyIsImlzTnVtYmVyIiwiY2FsY3VsYXRlRm9yd2FyZEluZGV4IiwicmV3aW5kIiwiaXNCb3VuZCIsIm5vcm1hbGl6ZUZvcndhcmRJbmRleCIsImNlaWwiLCJjYWxjdWxhdGVCYWNrd2FyZEluZGV4Iiwibm9ybWFsaXplQmFja3dhcmRJbmRleCIsInVuZGVmaW5lZCIsImJvdW5kIiwiX20iLCJzdGVwIiwic3Vic3RyIiwic3dpcGVTaW4iLCJzd2lwZVN0YXJ0WCIsInN3aXBlU3RhcnRZIiwicGFzc2l2ZSIsIlN3aXBlIiwiYmluZFN3aXBlU3RhcnQiLCJzd2lwZSIsInRvdWNoZXMiLCJwYWdlWCIsInBhZ2VZIiwiYmluZFN3aXBlTW92ZSIsImJpbmRTd2lwZUVuZCIsInRvdWNoQW5nbGUiLCJ0b3VjaFJhdGlvIiwic3ViRXhTeCIsInN1YkV5U3kiLCJwb3dFWCIsImFicyIsInBvd0VZIiwic3dpcGVIeXBvdGVudXNlIiwic3FydCIsInN3aXBlQ2F0aGV0dXMiLCJhc2luIiwiUEkiLCJzdG9wUHJvcGFnYXRpb24iLCJwYXJzZUZsb2F0IiwidG9GbG9hdCIsImRyYWdnaW5nIiwidGhyZXNob2xkIiwic3dpcGVEaXN0YW5jZSIsInN3aXBlRGVnIiwicGVyVG91Y2giLCJtaW4iLCJyZXNvbHZlIiwidW5iaW5kU3dpcGVNb3ZlIiwidW5iaW5kU3dpcGVFbmQiLCJzd2lwZVRocmVzaG9sZCIsInN0YXJ0IiwiZHJhZ1RocmVzaG9sZCIsImVuZCIsImNoYW5nZWRUb3VjaGVzIiwic3dpcGVhYmxlIiwidW5iaW5kU3dpcGVTdGFydCIsIkltYWdlcyIsImRyYWdzdGFydCIsInByZXZlbnREZWZhdWx0IiwiZGV0YWNoZWQiLCJwcmV2ZW50ZWQiLCJBbmNob3JzIiwiX2EiLCJxdWVyeVNlbGVjdG9yQWxsIiwiY2xpY2siLCJkcmFnZ2FibGUiLCJzZXRBdHRyaWJ1dGUiLCJnZXRBdHRyaWJ1dGUiLCJyZW1vdmVBdHRyaWJ1dGUiLCJkZXRhY2giLCJhdHRhY2giLCJDb250cm9scyIsIl9uIiwiYWRkQmluZGluZ3MiLCJjb250cm9scyIsImFjdGl2ZU5hdiIsImVsZW1lbnRzIiwiY3VycmVudFRhcmdldCIsInNldEFjdGl2ZSIsInJlbW92ZUJpbmRpbmdzIiwicmVtb3ZlQWN0aXZlIiwiS2V5Ym9hcmQiLCJrZXlib2FyZCIsInByZXNzIiwia2V5Q29kZSIsIkF1dG9wbGF5IiwiaG92ZXJwYXVzZSIsInNldEludGVydmFsIiwic3RvcCIsInRpbWUiLCJjbGVhckludGVydmFsIiwiQnJlYWtwb2ludHMiLCJtYXRjaE1lZGlhIiwicG9pbnQiLCJtYXRjaGVzIiwibWF0Y2giLCJDb3JlIl0sIm1hcHBpbmdzIjoiOzs7Ozt1TEFBZSxNQVVQLGlCQU9HLFVBT0EsVUFXQSxNQU9KLGFBT0ssY0FPRSxZQU9GLFNBVUgsaUJBT1MsaUJBT0QsY0FPTCxhQU9FLGNBT0EscUJBT08sWUFPWCxpQkFPUSx3QkFPSyx1REFPRixXQU9ULGFBV0MsV0FjTCxj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
