/*!
 * Glide.js v3.3.0
 * (c) 2013-2019 Jędrzej Chałubek <jedrzej.chalubek@gmail.com> (http://jedrzejchalubek.com/)
 * Released under the MIT License.
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.Glide=e()}(this,function(){"use strict";var n={type:"slider",startAt:0,perView:1,focusAt:0,gap:10,autoplay:!1,hoverpause:!0,keyboard:!0,bound:!1,swipeThreshold:80,dragThreshold:120,perTouch:!1,touchRatio:.5,touchAngle:45,animationDuration:400,rewind:!0,rewindDuration:800,animationTimingFunc:"cubic-bezier(.165, .840, .440, 1)",waitForTransition:!0,throttle:10,direction:"ltr",peek:0,breakpoints:{},classes:{direction:{ltr:"glide--ltr",rtl:"glide--rtl"},slider:"glide--slider",carousel:"glide--carousel",swipeable:"glide--swipeable",dragging:"glide--dragging",cloneSlide:"glide__slide--clone",activeNav:"glide__bullet--active",activeSlide:"glide__slide--active",disabledArrow:"glide__arrow--disabled"}};function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t=function(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t};function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};function y(t){return parseInt(t)}function s(t){return"string"==typeof t}function u(t){var e=void 0===t?"undefined":r(t);return"function"===e||"object"===e&&!!t}function c(t){return"function"==typeof t}function l(t){return void 0===t}function f(t){return t.constructor===Array}function d(t,e,n){Object.defineProperty(t,e,n)}function h(t,e){var n=a({},t,e);return e.hasOwnProperty("classes")&&(n.classes=a({},t.classes,e.classes),e.classes.hasOwnProperty("direction")&&(n.classes.direction=a({},t.classes.direction,e.classes.direction))),e.hasOwnProperty("breakpoints")&&(n.breakpoints=a({},t.breakpoints,e.breakpoints)),n}var v=(t(e,[{key:"on",value:function(t,e){if(f(t))for(var n=0;n<t.length;n++)this.on(t[n],e);this.hop.call(this.events,t)||(this.events[t]=[]);var i=this.events[t].push(e)-1;return{remove:function(){delete this.events[t][i]}}}},{key:"emit",value:function(t,e){if(f(t))for(var n=0;n<t.length;n++)this.emit(t[n],e);this.hop.call(this.events,t)&&this.events[t].forEach(function(t){t(e||{})})}}]),e);function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};i(this,e),this.events=t,this.hop=t.hasOwnProperty}var p=(t(m,[{key:"mount",value:function(t){var e=0<arguments.length&&void 0!==t?t:{};return this._e.emit("mount.before"),u(e)&&(this._c=function(t,e,n){var i={};for(var r in e)c(e[r])&&(i[r]=e[r](t,i,n));for(var o in i)c(i[o].mount)&&i[o].mount();return i}(this,e,this._e)),this._e.emit("mount.after"),this}},{key:"mutate",value:function(t){var e=0<arguments.length&&void 0!==t?t:[];return f(e)&&(this._t=e),this}},{key:"update",value:function(t){var e=0<arguments.length&&void 0!==t?t:{};return this.settings=h(this.settings,e),e.hasOwnProperty("startAt")&&(this.index=e.startAt),this._e.emit("update"),this}},{key:"go",value:function(t){return this._c.Run.make(t),this}},{key:"move",value:function(t){return this._c.Transition.disable(),this._c.Move.make(t),this}},{key:"destroy",value:function(){return this._e.emit("destroy"),this}},{key:"play",value:function(t){var e=0<arguments.length&&void 0!==t&&t;return e&&(this.settings.autoplay=e),this._e.emit("play"),this}},{key:"pause",value:function(){return this._e.emit("pause"),this}},{key:"disable",value:function(){return this.disabled=!0,this}},{key:"enable",value:function(){return this.disabled=!1,this}},{key:"on",value:function(t,e){return this._e.on(t,e),this}},{key:"isType",value:function(t){return this.settings.type===t}},{key:"settings",get:function(){return this._o},set:function(t){u(t)&&(this._o=t)}},{key:"index",get:function(){return this._i},set:function(t){this._i=y(t)}},{key:"type",get:function(){return this.settings.type}},{key:"disabled",get:function(){return this._d},set:function(t){this._d=!!t}}]),m);function m(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};i(this,m),this._c={},this._t=[],this._e=new v,this.disabled=!1,this.selector=t,this.settings=h(n,e),this.index=this.settings.startAt}function g(){return(new Date).getTime()}function b(n,i,r){var o=void 0,s=void 0,u=void 0,a=void 0,c=0;r=r||{};function l(){c=!1===r.leading?0:g(),o=null,a=n.apply(s,u),o||(s=u=null)}function t(){var t=g();c||!1!==r.leading||(c=t);var e=i-(t-c);return s=this,u=arguments,e<=0||i<e?(o&&(clearTimeout(o),o=null),c=t,a=n.apply(s,u),o||(s=u=null)):o||!1===r.trailing||(o=setTimeout(l,e)),a}return t.cancel=function(){clearTimeout(o),c=0,o=s=u=null},t}var w={ltr:["marginLeft","marginRight"],rtl:["marginRight","marginLeft"]};function _(t){if(t&&t.parentNode){for(var e=t.parentNode.firstChild,n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}return[]}function k(t){return!!(t&&t instanceof window.HTMLElement)}var S='[data-glide-el="track"]';var T=(t(H,[{key:"on",value:function(t,e,n,i){var r=3<arguments.length&&void 0!==i&&i;s(t)&&(t=[t]);for(var o=0;o<t.length;o++)this.listeners[t[o]]=n,e.addEventListener(t[o],this.listeners[t[o]],r)}},{key:"off",value:function(t,e,n){var i=2<arguments.length&&void 0!==n&&n;s(t)&&(t=[t]);for(var r=0;r<t.length;r++)e.removeEventListener(t[r],this.listeners[t[r]],i)}},{key:"destroy",value:function(){delete this.listeners}}]),H);function H(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};i(this,H),this.listeners=t}var x=["ltr","rtl"],O={">":"<","<":">","=":"="};function A(t,e){return{modify:function(t){return e.Direction.is("rtl")?-t:t}}}function M(i,r,o){var s=[function(t,n){return{modify:function(t){var e=Math.floor(t/n.Sizes.slideWidth);return t+n.Gaps.value*e}}},function(t,e){return{modify:function(t){return t+e.Clones.grow/2}}},function(n,i){return{modify:function(t){if(0<=n.settings.focusAt){var e=i.Peek.value;return u(e)?t-e.before:t-e}return t}}},function(o,s){return{modify:function(t){var e=s.Gaps.value,n=s.Sizes.width,i=o.settings.focusAt,r=s.Sizes.slideWidth;return"center"===i?t-(n/2-r/2):t-r*i-e*i}}}].concat(i._t,[A]);return{mutate:function(t){for(var e=0;e<s.length;e++){var n=s[e];c(n)&&c(n().modify)&&(t=n(i,r,o).modify(t))}return t}}}var z=!1;try{var C=Object.defineProperty({},"passive",{get:function(){z=!0}});window.addEventListener("testPassive",null,C),window.removeEventListener("testPassive",null,C)}catch(t){}var P=z,L=["touchstart","mousedown"],D=["touchmove","mousemove"],R=["touchend","touchcancel","mouseup","mouseleave"],E=["mousedown","mousemove","mouseup","mouseleave"];function j(t){return u(t)?function(n){return Object.keys(n).sort().reduce(function(t,e){return t[e]=n[e],t[e],t},{})}(t):{}}var W={Html:function(e,t){var n={mount:function(){this.root=e.selector,this.track=this.root.querySelector(S),this.slides=Array.prototype.slice.call(this.wrapper.children).filter(function(t){return!t.classList.contains(e.settings.classes.cloneSlide)})}};return d(n,"root",{get:function(){return n._r},set:function(t){s(t)&&(t=document.querySelector(t)),k(t)&&(n._r=t)}}),d(n,"track",{get:function(){return n._t},set:function(t){k(t)&&(n._t=t)}}),d(n,"wrapper",{get:function(){return n.track.children[0]}}),n},Translate:function(i,r,n){var o={set:function(t){var e=M(i,r).mutate(t);r.Html.wrapper.style.transform="translate3d("+-1*e+"px, 0px, 0px)"},remove:function(){r.Html.wrapper.style.transform=""},getStartIndex:function(){var t=r.Sizes.length,e=i.index,n=i.settings.perView;return r.Run.isOffset(">")||r.Run.isOffset("|>")?t+(e-n):(e+n)%t},getTravelDistance:function(){var t=r.Sizes.slideWidth*i.settings.perView;return r.Run.isOffset(">")||r.Run.isOffset("|>")?-1*t:t}};return n.on("move",function(t){if(!i.isType("carousel")||!r.Run.isOffset())return o.set(t.movement);r.Transition.after(function(){n.emit("translate.jump"),o.set(r.Sizes.slideWidth*i.index)});var e=r.Sizes.slideWidth*r.Translate.getStartIndex();return o.set(e-r.Translate.getTravelDistance())}),n.on("destroy",function(){o.remove()}),o},Transition:function(n,i,t){var r=!1,e={compose:function(t){var e=n.settings;return r?t+" 0ms "+e.animationTimingFunc:t+" "+this.duration+"ms "+e.animationTimingFunc},set:function(t){var e=0<arguments.length&&void 0!==t?t:"transform";i.Html.wrapper.style.transition=this.compose(e)},remove:function(){i.Html.wrapper.style.transition=""},after:function(t){setTimeout(function(){t()},this.duration)},enable:function(){r=!1,this.set()},disable:function(){r=!0,this.set()}};return d(e,"duration",{get:function(){var t=n.settings;return n.isType("slider")&&i.Run.offset?t.rewindDuration:t.animationDuration}}),t.on("move",function(){e.set()}),t.on(["build.before","resize","translate.jump"],function(){e.disable()}),t.on("run",function(){e.enable()}),t.on("destroy",function(){e.remove()}),e},Direction:function(t,e,n){var i={mount:function(){this.value=t.settings.direction},resolve:function(t){var e=t.slice(0,1);return this.is("rtl")?t.split(e).join(O[e]):t},is:function(t){return this.value===t},addClass:function(){e.Html.root.classList.add(t.settings.classes.direction[this.value])},removeClass:function(){e.Html.root.classList.remove(t.settings.classes.direction[this.value])}};return d(i,"value",{get:function(){return i._v},set:function(t){-1<x.indexOf(t)&&(i._v=t)}}),n.on(["destroy","update"],function(){i.removeClass()}),n.on("update",function(){i.mount()}),n.on(["build.before","update"],function(){i.addClass()}),i},Peek:function(n,t,e){var i={mount:function(){this.value=n.settings.peek}};return d(i,"value",{get:function(){return i._v},set:function(t){u(t)?(t.before=y(t.before),t.after=y(t.after)):t=y(t),i._v=t}}),d(i,"reductor",{get:function(){var t=i.value,e=n.settings.perView;return u(t)?t.before/e+t.after/e:2*t/e}}),e.on(["resize","update"],function(){i.mount()}),i},Sizes:function(t,i,e){var n={setupSlides:function(){for(var t=this.slideWidth+"px",e=i.Html.slides,n=0;n<e.length;n++)e[n].style.width=t},setupWrapper:function(){i.Html.wrapper.style.width=this.wrapperSize+"px"},remove:function(){for(var t=i.Html.slides,e=0;e<t.length;e++)t[e].style.width="";i.Html.wrapper.style.width=""}};return d(n,"length",{get:function(){return i.Html.slides.length}}),d(n,"width",{get:function(){return i.Html.root.offsetWidth}}),d(n,"wrapperSize",{get:function(){return n.slideWidth*n.length+i.Gaps.grow+i.Clones.grow}}),d(n,"slideWidth",{get:function(){return n.width/t.settings.perView-i.Peek.reductor-i.Gaps.reductor}}),e.on(["build.before","resize","update"],function(){n.setupSlides(),n.setupWrapper()}),e.on("destroy",function(){n.remove()}),n},Gaps:function(e,o,t){var n={apply:function(t){for(var e=0,n=t.length;e<n;e++){var i=t[e].style,r=o.Direction.value;i[w[r][0]]=0!==e?this.value/2+"px":"",e!==t.length-1?i[w[r][1]]=this.value/2+"px":i[w[r][1]]=""}},remove:function(t){for(var e=0,n=t.length;e<n;e++){var i=t[e].style;i.marginLeft="",i.marginRight=""}}};return d(n,"value",{get:function(){return y(e.settings.gap)}}),d(n,"grow",{get:function(){return n.value*o.Sizes.length}}),d(n,"reductor",{get:function(){var t=e.settings.perView;return n.value*(t-1)/t}}),t.on(["build.after","update"],b(function(){n.apply(o.Html.wrapper.children)},30)),t.on("destroy",function(){n.remove(o.Html.wrapper.children)}),n},Move:function(t,i,r){var e={mount:function(){this._o=0},make:function(t){var e=this,n=0<arguments.length&&void 0!==t?t:0;this.offset=n,r.emit("move",{movement:this.value}),i.Transition.after(function(){r.emit("move.after",{movement:e.value})})}};return d(e,"offset",{get:function(){return e._o},set:function(t){e._o=l(t)?0:y(t)}}),d(e,"translate",{get:function(){return i.Sizes.slideWidth*t.index}}),d(e,"value",{get:function(){var t=this.offset,e=this.translate;return i.Direction.is("rtl")?e+t:e-t}}),r.on(["build.before","run"],function(){e.make()}),e},Clones:function(v,p,t){var e={mount:function(){this.items=[],v.isType("carousel")&&(this.items=this.collect())},collect:function(t){for(var e=0<arguments.length&&void 0!==t?t:[],n=p.Html.slides,i=v.settings,r=i.perView,o=i.classes,s=r+ +!!v.settings.peek+Math.round(r/2),u=n.slice(0,s).reverse(),a=n.slice(-1*s),c=0;c<Math.max(1,Math.floor(r/n.length));c++){for(var l=0;l<u.length;l++){var f=u[l].cloneNode(!0);f.classList.add(o.cloneSlide),e.push(f)}for(var d=0;d<a.length;d++){var h=a[d].cloneNode(!0);h.classList.add(o.cloneSlide),e.unshift(h)}}return e},append:function(){for(var t=this.items,e=p.Html,n=e.wrapper,i=e.slides,r=Math.floor(t.length/2),o=t.slice(0,r).reverse(),s=t.slice(-1*r).reverse(),u=p.Sizes.slideWidth+"px",a=0;a<s.length;a++)n.appendChild(s[a]);for(var c=0;c<o.length;c++)n.insertBefore(o[c],i[0]);for(var l=0;l<t.length;l++)t[l].style.width=u},remove:function(){for(var t=this.items,e=0;e<t.length;e++)p.Html.wrapper.removeChild(t[e])}};return d(e,"grow",{get:function(){return(p.Sizes.slideWidth+p.Gaps.value)*e.items.length}}),t.on("update",function(){e.remove(),e.mount(),e.append()}),t.on("build.before",function(){v.isType("carousel")&&e.append()}),t.on("destroy",function(){e.remove()}),e},Resize:function(t,e,n){var i=new T,r={mount:function(){this.bind()},bind:function(){i.on("resize",window,b(function(){n.emit("resize")},t.settings.throttle))},unbind:function(){i.off("resize",window)}};return n.on("destroy",function(){r.unbind(),i.destroy()}),r},Build:function(n,i,t){var e={mount:function(){t.emit("build.before"),this.typeClass(),this.activeClass(),t.emit("build.after")},typeClass:function(){i.Html.root.classList.add(n.settings.classes[n.settings.type])},activeClass:function(){var e=n.settings.classes,t=i.Html.slides[n.index];t&&(t.classList.add(e.activeSlide),_(t).forEach(function(t){t.classList.remove(e.activeSlide)}))},removeClasses:function(){var e=n.settings.classes;i.Html.root.classList.remove(e[n.settings.type]),i.Html.slides.forEach(function(t){t.classList.remove(e.activeSlide)})}};return t.on(["destroy","update"],function(){e.removeClasses()}),t.on(["resize","update"],function(){e.mount()}),t.on("move.after",function(){e.activeClass()}),e},Run:function(a,n,i){var c={mount:function(){this._o=!1},make:function(t){var e=this;a.disabled||(a.settings.waitForTransition&&a.disable(),this.move=t,i.emit("run.before",this.move),this.calculate(),i.emit("run",this.move),n.Transition.after(function(){e.isStart()&&i.emit("run.start",e.move),e.isEnd()&&i.emit("run.end",e.move),e.isOffset()&&(e._o=!1,i.emit("run.offset",e.move)),i.emit("run.after",e.move),a.enable()}))},calculate:function(){var t=this.move,e=this.length,n=t.steps,i=t.direction,r=1,o=function(t){return"number"==typeof t}(y(n))&&0!==y(n);if("="!==i)if(">"!==i||">"!==n)if("<"!==i||"<"!==n){if(">"===i&&o&&(r=-1*y(n)),"<"===i&&o&&(r=y(n)),"|"===i&&(r=a.settings.perView||1),">"===i||"|"===i&&">"===n){var s=function(t){var e=a.index;if(a.isType("carousel"))return e+t;return e+(t-e%t)}(r);return e<s&&(this._o=!0),void(a.index=function(t,e){var n=c.length;if(t<=n)return t;if(a.isType("carousel"))return t-(n+1);if(a.settings.rewind)return c.isBound()&&!c.isEnd()?n:0;if(c.isBound())return n;return Math.floor(n/e)*e}(s,r))}if("<"===i||"|"===i&&"<"===n){var u=function(t){var e=a.index;if(a.isType("carousel"))return e-t;return(Math.ceil(e/t)-1)*t}(r);return u<0&&(this._o=!0),void(a.index=function(t,e){var n=c.length;if(0<=t)return t;if(a.isType("carousel"))return t+(n+1);if(a.settings.rewind)return c.isBound()&&c.isStart()?n:Math.floor(n/e)*e;return 0}(u,r))}}else a.index=0;else a.index=e;else a.index=n},isStart:function(){return a.index<=0},isEnd:function(){return a.index>=this.length},isOffset:function(t){var e=0<arguments.length&&void 0!==t?t:void 0;return e?!!this._o&&("|>"===e?"|"===this.move.direction&&">"===this.move.steps:"|<"===e?"|"===this.move.direction&&"<"===this.move.steps:this.move.direction===e):this._o},isBound:function(){return a.isType("slider")&&"center"!==a.settings.focusAt&&a.settings.bound}};return d(c,"move",{get:function(){return this._m},set:function(t){var e=t.substr(1);this._m={direction:t.substr(0,1),steps:e?y(e)?y(e):e:0}}}),d(c,"length",{get:function(){var t=a.settings,e=n.Html.slides.length;return this.isBound()?e-1-(y(t.perView)-1)+y(t.focusAt):e-1}}),d(c,"offset",{get:function(){return this._o}}),c},Swipe:function(d,h,v){var n=new T,p=0,m=0,g=0,i=!1,r=!!P&&{passive:!0},t={mount:function(){this.bindSwipeStart()},start:function(t){if(!i&&!d.disabled){this.disable();var e=this.touches(t);p=null,m=y(e.pageX),g=y(e.pageY),this.bindSwipeMove(),this.bindSwipeEnd(),v.emit("swipe.start")}},move:function(t){if(!d.disabled){var e=d.settings,n=e.touchAngle,i=e.touchRatio,r=e.classes,o=this.touches(t),s=y(o.pageX)-m,u=y(o.pageY)-g,a=Math.abs(s<<2),c=Math.abs(u<<2),l=Math.sqrt(a+c),f=Math.sqrt(c);if(!(180*(p=Math.asin(f/l))/Math.PI<n))return!1;t.stopPropagation(),h.Move.make(s*function(t){return parseFloat(t)}(i)),h.Html.root.classList.add(r.dragging),v.emit("swipe.move")}},end:function(t){if(!d.disabled){var e=d.settings,n=this.touches(t),i=this.threshold(t),r=n.pageX-m,o=180*p/Math.PI,s=Math.round(r/h.Sizes.slideWidth);this.enable(),i<r&&o<e.touchAngle?(e.perTouch&&(s=Math.min(s,y(e.perTouch))),h.Direction.is("rtl")&&(s=-s),h.Run.make(h.Direction.resolve("<"+s))):r<-i&&o<e.touchAngle?(e.perTouch&&(s=Math.max(s,-y(e.perTouch))),h.Direction.is("rtl")&&(s=-s),h.Run.make(h.Direction.resolve(">"+s))):h.Move.make(),h.Html.root.classList.remove(e.classes.dragging),this.unbindSwipeMove(),this.unbindSwipeEnd(),v.emit("swipe.end")}},bindSwipeStart:function(){var e=this,t=d.settings;t.swipeThreshold&&n.on(L[0],h.Html.wrapper,function(t){e.start(t)},r),t.dragThreshold&&n.on(L[1],h.Html.wrapper,function(t){e.start(t)},r)},unbindSwipeStart:function(){n.off(L[0],h.Html.wrapper,r),n.off(L[1],h.Html.wrapper,r)},bindSwipeMove:function(){var e=this;n.on(D,h.Html.wrapper,b(function(t){e.move(t)},d.settings.throttle),r)},unbindSwipeMove:function(){n.off(D,h.Html.wrapper,r)},bindSwipeEnd:function(){var e=this;n.on(R,h.Html.wrapper,function(t){e.end(t)})},unbindSwipeEnd:function(){n.off(R,h.Html.wrapper)},touches:function(t){return-1<E.indexOf(t.type)?t:t.touches[0]||t.changedTouches[0]},threshold:function(t){var e=d.settings;return-1<E.indexOf(t.type)?e.dragThreshold:e.swipeThreshold},enable:function(){return i=!1,h.Transition.enable(),this},disable:function(){return i=!0,h.Transition.disable(),this}};return v.on("build.after",function(){h.Html.root.classList.add(d.settings.classes.swipeable)}),v.on("destroy",function(){t.unbindSwipeStart(),t.unbindSwipeMove(),t.unbindSwipeEnd(),n.destroy()}),t},Images:function(t,e,n){var i=new T,r={mount:function(){this.bind()},bind:function(){i.on("dragstart",e.Html.wrapper,this.dragstart)},unbind:function(){i.off("dragstart",e.Html.wrapper)},dragstart:function(t){t.preventDefault()}};return n.on("destroy",function(){r.unbind(),i.destroy()}),r},Anchors:function(t,e,n){var i=new T,r=!1,o=!1,s={mount:function(){this._a=e.Html.wrapper.querySelectorAll("a"),this.bind()},bind:function(){i.on("click",e.Html.wrapper,this.click)},unbind:function(){i.off("click",e.Html.wrapper)},click:function(t){o&&(t.stopPropagation(),t.preventDefault())},detach:function(){if(o=!0,!r){for(var t=0;t<this.items.length;t++)this.items[t].draggable=!1,this.items[t].setAttribute("data-href",this.items[t].getAttribute("href")),this.items[t].removeAttribute("href");r=!0}return this},attach:function(){if(o=!1,r){for(var t=0;t<this.items.length;t++)this.items[t].draggable=!0,this.items[t].setAttribute("href",this.items[t].getAttribute("data-href"));r=!1}return this}};return d(s,"items",{get:function(){return s._a}}),n.on("swipe.move",function(){s.detach()}),n.on("swipe.end",function(){e.Transition.after(function(){s.attach()})}),n.on("destroy",function(){s.attach(),s.unbind(),i.destroy()}),s},Controls:function(i,e,t){var n=new T,r=!!P&&{passive:!0},o={mount:function(){this._n=e.Html.root.querySelectorAll('[data-glide-el="controls[nav]"]'),this._c=e.Html.root.querySelectorAll('[data-glide-el^="controls"]'),this.addBindings()},setActive:function(){for(var t=0;t<this._n.length;t++)this.addClass(this._n[t].children)},removeActive:function(){for(var t=0;t<this._n.length;t++)this.removeClass(this._n[t].children)},addClass:function(t){var e=i.settings,n=t[i.index];n&&(n.classList.add(e.classes.activeNav),_(n).forEach(function(t){t.classList.remove(e.classes.activeNav)}))},removeClass:function(t){var e=t[i.index];e&&e.classList.remove(i.settings.classes.activeNav)},addBindings:function(){for(var t=0;t<this._c.length;t++)this.bind(this._c[t].children)},removeBindings:function(){for(var t=0;t<this._c.length;t++)this.unbind(this._c[t].children)},bind:function(t){for(var e=0;e<t.length;e++)n.on("click",t[e],this.click),n.on("touchstart",t[e],this.click,r)},unbind:function(t){for(var e=0;e<t.length;e++)n.off(["click","touchstart"],t[e])},click:function(t){t.preventDefault(),e.Run.make(e.Direction.resolve(t.currentTarget.getAttribute("data-glide-dir")))}};return d(o,"items",{get:function(){return o._c}}),t.on(["mount.after","move.after"],function(){o.setActive()}),t.on("destroy",function(){o.removeBindings(),o.removeActive(),n.destroy()}),o},Keyboard:function(t,e,n){var i=new T,r={mount:function(){t.settings.keyboard&&this.bind()},bind:function(){i.on("keyup",document,this.press)},unbind:function(){i.off("keyup",document)},press:function(t){39===t.keyCode&&e.Run.make(e.Direction.resolve(">")),37===t.keyCode&&e.Run.make(e.Direction.resolve("<"))}};return n.on(["destroy","update"],function(){r.unbind()}),n.on("update",function(){r.mount()}),n.on("destroy",function(){i.destroy()}),r},Autoplay:function(e,n,t){var i=new T,r={mount:function(){this.start(),e.settings.hoverpause&&this.bind()},start:function(){var t=this;e.settings.autoplay&&l(this._i)&&(this._i=setInterval(function(){t.stop(),n.Run.make(">"),t.start()},this.time))},stop:function(){this._i=clearInterval(this._i)},bind:function(){var t=this;i.on("mouseover",n.Html.root,function(){t.stop()}),i.on("mouseout",n.Html.root,function(){t.start()})},unbind:function(){i.off(["mouseover","mouseout"],n.Html.root)}};return d(r,"time",{get:function(){var t=n.Html.slides[e.index].getAttribute("data-glide-autoplay");return y(t||e.settings.autoplay)}}),t.on(["destroy","update"],function(){r.unbind()}),t.on(["run.before","pause","destroy","swipe.start","update"],function(){r.stop()}),t.on(["run.after","play","swipe.end"],function(){r.start()}),t.on("update",function(){r.mount()}),t.on("destroy",function(){i.destroy()}),r},Breakpoints:function(t,e,n){var i=new T,r=t.settings,o=j(r.breakpoints),s=a({},r),u={match:function(t){if(void 0!==window.matchMedia)for(var e in t)if(t.hasOwnProperty(e)&&window.matchMedia("(max-width: "+e+"px)").matches)return t[e];return s}};return a(r,u.match(o)),i.on("resize",window,b(function(){t.settings=h(r,u.match(o))},t.settings.throttle)),n.on("update",function(){o=j(o),s=a({},r)}),n.on("destroy",function(){i.off("resize",window)}),u}};function B(){return i(this,B),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(B.__proto__||Object.getPrototypeOf(B)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(B,p),t(B,[{key:"mount",value:function(t){var e=0<arguments.length&&void 0!==t?t:{};return function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(i):void 0}(B.prototype.__proto__||Object.getPrototypeOf(B.prototype),"mount",this).call(this,a({},W,e))}}]),B});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ2xpZGUubWluLmpzIiwic291cmNlcyI6WyIuLi9zcmMvZGVmYXVsdHMuanMiLCIuLi9zcmMvdXRpbHMvdW5pdC5qcyIsIi4uL3NyYy91dGlscy9vYmplY3QuanMiLCIuLi9zcmMvY29yZS9ldmVudC9ldmVudHMtYnVzLmpzIiwiLi4vc3JjL2luZGV4LmpzIiwiLi4vc3JjL2NvcmUvaW5kZXguanMiLCIuLi9zcmMvdXRpbHMvdGltZS5qcyIsIi4uL3NyYy91dGlscy93YWl0LmpzIiwiLi4vc3JjL2NvbXBvbmVudHMvZ2Fwcy5qcyIsIi4uL3NyYy91dGlscy9kb20uanMiLCIuLi9zcmMvY29tcG9uZW50cy9odG1sLmpzIiwiLi4vc3JjL2NvcmUvZXZlbnQvZXZlbnRzLWJpbmRlci5qcyIsIi4uL3NyYy9jb21wb25lbnRzL2RpcmVjdGlvbi5qcyIsIi4uL3NyYy9tdXRhdG9yL3RyYW5zZm9ybWVycy9ydGwuanMiLCIuLi9zcmMvbXV0YXRvci9pbmRleC5qcyIsIi4uL3NyYy9tdXRhdG9yL3RyYW5zZm9ybWVycy9nYXAuanMiLCIuLi9zcmMvbXV0YXRvci90cmFuc2Zvcm1lcnMvZ3Jvdy5qcyIsIi4uL3NyYy9tdXRhdG9yL3RyYW5zZm9ybWVycy9wZWVraW5nLmpzIiwiLi4vc3JjL211dGF0b3IvdHJhbnNmb3JtZXJzL2ZvY3VzaW5nLmpzIiwiLi4vc3JjL3V0aWxzL2RldGVjdC1wYXNzaXZlLWV2ZW50LmpzIiwiLi4vc3JjL2NvbXBvbmVudHMvc3dpcGUuanMiLCIuLi9zcmMvY29tcG9uZW50cy9icmVha3BvaW50cy5qcyIsIi4uL2VudHJ5L2VudHJ5LWNvbXBsZXRlLmpzIiwiLi4vc3JjL2NvbXBvbmVudHMvdHJhbnNsYXRlLmpzIiwiLi4vc3JjL2NvbXBvbmVudHMvdHJhbnNpdGlvbi5qcyIsIi4uL3NyYy9jb21wb25lbnRzL3BlZWsuanMiLCIuLi9zcmMvY29tcG9uZW50cy9zaXplcy5qcyIsIi4uL3NyYy9jb21wb25lbnRzL21vdmUuanMiLCIuLi9zcmMvY29tcG9uZW50cy9jbG9uZXMuanMiLCIuLi9zcmMvY29tcG9uZW50cy9yZXNpemUuanMiLCIuLi9zcmMvY29tcG9uZW50cy9idWlsZC5qcyIsIi4uL3NyYy9jb21wb25lbnRzL3J1bi5qcyIsIi4uL3NyYy9jb21wb25lbnRzL2ltYWdlcy5qcyIsIi4uL3NyYy9jb21wb25lbnRzL2FuY2hvcnMuanMiLCIuLi9zcmMvY29tcG9uZW50cy9jb250cm9scy5qcyIsIi4uL3NyYy9jb21wb25lbnRzL2tleWJvYXJkLmpzIiwiLi4vc3JjL2NvbXBvbmVudHMvYXV0b3BsYXkuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQge1xuICAvKipcbiAgICogVHlwZSBvZiB0aGUgbW92ZW1lbnQuXG4gICAqXG4gICAqIEF2YWlsYWJsZSB0eXBlczpcbiAgICogYHNsaWRlcmAgLSBSZXdpbmRzIHNsaWRlciB0byB0aGUgc3RhcnQvZW5kIHdoZW4gaXQgcmVhY2hlcyB0aGUgZmlyc3Qgb3IgbGFzdCBzbGlkZS5cbiAgICogYGNhcm91c2VsYCAtIENoYW5nZXMgc2xpZGVzIHdpdGhvdXQgc3RhcnRpbmcgb3ZlciB3aGVuIGl0IHJlYWNoZXMgdGhlIGZpcnN0IG9yIGxhc3Qgc2xpZGUuXG4gICAqXG4gICAqIEB0eXBlIHtTdHJpbmd9XG4gICAqL1xuICB0eXBlOiAnc2xpZGVyJyxcblxuICAvKipcbiAgICogU3RhcnQgYXQgc3BlY2lmaWMgc2xpZGUgbnVtYmVyIGRlZmluZWQgd2l0aCB6ZXJvLWJhc2VkIGluZGV4LlxuICAgKlxuICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgKi9cbiAgc3RhcnRBdDogMCxcblxuICAvKipcbiAgICogQSBudW1iZXIgb2Ygc2xpZGVzIHZpc2libGUgb24gdGhlIHNpbmdsZSB2aWV3cG9ydC5cbiAgICpcbiAgICogQHR5cGUge051bWJlcn1cbiAgICovXG4gIHBlclZpZXc6IDEsXG5cbiAgLyoqXG4gICAqIEZvY3VzIGN1cnJlbnRseSBhY3RpdmUgc2xpZGUgYXQgYSBzcGVjaWZpZWQgcG9zaXRpb24gaW4gdGhlIHRyYWNrLlxuICAgKlxuICAgKiBBdmFpbGFibGUgaW5wdXRzOlxuICAgKiBgY2VudGVyYCAtIEN1cnJlbnQgc2xpZGUgd2lsbCBiZSBhbHdheXMgZm9jdXNlZCBhdCB0aGUgY2VudGVyIG9mIGEgdHJhY2suXG4gICAqIGAwLDEsMiwzLi4uYCAtIEN1cnJlbnQgc2xpZGUgd2lsbCBiZSBmb2N1c2VkIG9uIHRoZSBzcGVjaWZpZWQgemVyby1iYXNlZCBpbmRleC5cbiAgICpcbiAgICogQHR5cGUge1N0cmluZ3xOdW1iZXJ9XG4gICAqL1xuICBmb2N1c0F0OiAwLFxuXG4gIC8qKlxuICAgKiBBIHNpemUgb2YgdGhlIGdhcCBhZGRlZCBiZXR3ZWVuIHNsaWRlcy5cbiAgICpcbiAgICogQHR5cGUge051bWJlcn1cbiAgICovXG4gIGdhcDogMTAsXG5cbiAgLyoqXG4gICAqIENoYW5nZSBzbGlkZXMgYWZ0ZXIgYSBzcGVjaWZpZWQgaW50ZXJ2YWwuIFVzZSBgZmFsc2VgIGZvciB0dXJuaW5nIG9mZiBhdXRvcGxheS5cbiAgICpcbiAgICogQHR5cGUge051bWJlcnxCb29sZWFufVxuICAgKi9cbiAgYXV0b3BsYXk6IGZhbHNlLFxuXG4gIC8qKlxuICAgKiBTdG9wIGF1dG9wbGF5IG9uIG1vdXNlb3ZlciBldmVudC5cbiAgICpcbiAgICogQHR5cGUge0Jvb2xlYW59XG4gICAqL1xuICBob3ZlcnBhdXNlOiB0cnVlLFxuXG4gIC8qKlxuICAgKiBBbGxvdyBmb3IgY2hhbmdpbmcgc2xpZGVzIHdpdGggbGVmdCBhbmQgcmlnaHQga2V5Ym9hcmQgYXJyb3dzLlxuICAgKlxuICAgKiBAdHlwZSB7Qm9vbGVhbn1cbiAgICovXG4gIGtleWJvYXJkOiB0cnVlLFxuXG4gIC8qKlxuICAgKiBTdG9wIHJ1bm5pbmcgYHBlclZpZXdgIG51bWJlciBvZiBzbGlkZXMgZnJvbSB0aGUgZW5kLiBVc2UgdGhpc1xuICAgKiBvcHRpb24gaWYgeW91IGRvbid0IHdhbnQgdG8gaGF2ZSBhbiBlbXB0eSBzcGFjZSBhZnRlclxuICAgKiBhIHNsaWRlci4gV29ya3Mgb25seSB3aXRoIGBzbGlkZXJgIHR5cGUgYW5kIGFcbiAgICogbm9uLWNlbnRlcmVkIGBmb2N1c0F0YCBzZXR0aW5nLlxuICAgKlxuICAgKiBAdHlwZSB7Qm9vbGVhbn1cbiAgICovXG4gIGJvdW5kOiBmYWxzZSxcblxuICAvKipcbiAgICogTWluaW1hbCBzd2lwZSBkaXN0YW5jZSBuZWVkZWQgdG8gY2hhbmdlIHRoZSBzbGlkZS4gVXNlIGBmYWxzZWAgZm9yIHR1cm5pbmcgb2ZmIGEgc3dpcGluZy5cbiAgICpcbiAgICogQHR5cGUge051bWJlcnxCb29sZWFufVxuICAgKi9cbiAgc3dpcGVUaHJlc2hvbGQ6IDgwLFxuXG4gIC8qKlxuICAgKiBNaW5pbWFsIG1vdXNlIGRyYWcgZGlzdGFuY2UgbmVlZGVkIHRvIGNoYW5nZSB0aGUgc2xpZGUuIFVzZSBgZmFsc2VgIGZvciB0dXJuaW5nIG9mZiBhIGRyYWdnaW5nLlxuICAgKlxuICAgKiBAdHlwZSB7TnVtYmVyfEJvb2xlYW59XG4gICAqL1xuICBkcmFnVGhyZXNob2xkOiAxMjAsXG5cbiAgLyoqXG4gICAqIEEgbWF4aW11bSBudW1iZXIgb2Ygc2xpZGVzIHRvIHdoaWNoIG1vdmVtZW50IHdpbGwgYmUgbWFkZSBvbiBzd2lwaW5nIG9yIGRyYWdnaW5nLiBVc2UgYGZhbHNlYCBmb3IgdW5saW1pdGVkLlxuICAgKlxuICAgKiBAdHlwZSB7TnVtYmVyfEJvb2xlYW59XG4gICAqL1xuICBwZXJUb3VjaDogZmFsc2UsXG5cbiAgLyoqXG4gICAqIE1vdmluZyBkaXN0YW5jZSByYXRpbyBvZiB0aGUgc2xpZGVzIG9uIGEgc3dpcGluZyBhbmQgZHJhZ2dpbmcuXG4gICAqXG4gICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAqL1xuICB0b3VjaFJhdGlvOiAwLjUsXG5cbiAgLyoqXG4gICAqIEFuZ2xlIHJlcXVpcmVkIHRvIGFjdGl2YXRlIHNsaWRlcyBtb3Zpbmcgb24gc3dpcGluZyBvciBkcmFnZ2luZy5cbiAgICpcbiAgICogQHR5cGUge051bWJlcn1cbiAgICovXG4gIHRvdWNoQW5nbGU6IDQ1LFxuXG4gIC8qKlxuICAgKiBEdXJhdGlvbiBvZiB0aGUgYW5pbWF0aW9uIGluIG1pbGxpc2Vjb25kcy5cbiAgICpcbiAgICogQHR5cGUge051bWJlcn1cbiAgICovXG4gIGFuaW1hdGlvbkR1cmF0aW9uOiA0MDAsXG5cbiAgLyoqXG4gICAqIEFsbG93cyBsb29waW5nIHRoZSBgc2xpZGVyYCB0eXBlLiBTbGlkZXIgd2lsbCByZXdpbmQgdG8gdGhlIGZpcnN0L2xhc3Qgc2xpZGUgd2hlbiBpdCdzIGF0IHRoZSBzdGFydC9lbmQuXG4gICAqXG4gICAqIEB0eXBlIHtCb29sZWFufVxuICAgKi9cbiAgcmV3aW5kOiB0cnVlLFxuXG4gIC8qKlxuICAgKiBEdXJhdGlvbiBvZiB0aGUgcmV3aW5kaW5nIGFuaW1hdGlvbiBvZiB0aGUgYHNsaWRlcmAgdHlwZSBpbiBtaWxsaXNlY29uZHMuXG4gICAqXG4gICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAqL1xuICByZXdpbmREdXJhdGlvbjogODAwLFxuXG4gIC8qKlxuICAgKiBFYXNpbmcgZnVuY3Rpb24gZm9yIHRoZSBhbmltYXRpb24uXG4gICAqXG4gICAqIEB0eXBlIHtTdHJpbmd9XG4gICAqL1xuICBhbmltYXRpb25UaW1pbmdGdW5jOiAnY3ViaWMtYmV6aWVyKC4xNjUsIC44NDAsIC40NDAsIDEpJyxcblxuICAvKipcbiAgICogV2FpdCBmb3IgdGhlIGFuaW1hdGlvbiB0byBmaW5pc2ggdW50aWwgdGhlIG5leHQgdXNlciBpbnB1dCBjYW4gYmUgcHJvY2Vzc2VkXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKi9cbiAgd2FpdEZvclRyYW5zaXRpb246IHRydWUsXG5cbiAgLyoqXG4gICAqIFRocm90dGxlIGNvc3RseSBldmVudHMgYXQgbW9zdCBvbmNlIHBlciBldmVyeSB3YWl0IG1pbGxpc2Vjb25kcy5cbiAgICpcbiAgICogQHR5cGUge051bWJlcn1cbiAgICovXG4gIHRocm90dGxlOiAxMCxcblxuICAvKipcbiAgICogTW92aW5nIGRpcmVjdGlvbiBtb2RlLlxuICAgKlxuICAgKiBBdmFpbGFibGUgaW5wdXRzOlxuICAgKiAtICdsdHInIC0gbGVmdCB0byByaWdodCBtb3ZlbWVudCxcbiAgICogLSAncnRsJyAtIHJpZ2h0IHRvIGxlZnQgbW92ZW1lbnQuXG4gICAqXG4gICAqIEB0eXBlIHtTdHJpbmd9XG4gICAqL1xuICBkaXJlY3Rpb246ICdsdHInLFxuXG4gIC8qKlxuICAgKiBUaGUgZGlzdGFuY2UgdmFsdWUgb2YgdGhlIG5leHQgYW5kIHByZXZpb3VzIHZpZXdwb3J0cyB3aGljaFxuICAgKiBoYXZlIHRvIHBlZWsgaW4gdGhlIGN1cnJlbnQgdmlldy4gQWNjZXB0cyBudW1iZXIgYW5kXG4gICAqIHBpeGVscyBhcyBhIHN0cmluZy4gTGVmdCBhbmQgcmlnaHQgcGVla2luZyBjYW4gYmVcbiAgICogc2V0IHVwIHNlcGFyYXRlbHkgd2l0aCBhIGRpcmVjdGlvbnMgb2JqZWN0LlxuICAgKlxuICAgKiBGb3IgZXhhbXBsZTpcbiAgICogYDEwMGAgLSBQZWVrIDEwMHB4IG9uIHRoZSBib3RoIHNpZGVzLlxuICAgKiB7IGJlZm9yZTogMTAwLCBhZnRlcjogNTAgfWAgLSBQZWVrIDEwMHB4IG9uIHRoZSBsZWZ0IHNpZGUgYW5kIDUwcHggb24gdGhlIHJpZ2h0IHNpZGUuXG4gICAqXG4gICAqIEB0eXBlIHtOdW1iZXJ8U3RyaW5nfE9iamVjdH1cbiAgICovXG4gIHBlZWs6IDAsXG5cbiAgLyoqXG4gICAqIENvbGxlY3Rpb24gb2Ygb3B0aW9ucyBhcHBsaWVkIGF0IHNwZWNpZmllZCBtZWRpYSBicmVha3BvaW50cy5cbiAgICogRm9yIGV4YW1wbGU6IGRpc3BsYXkgdHdvIHNsaWRlcyBwZXIgdmlldyB1bmRlciA4MDBweC5cbiAgICogYHtcbiAgICogICAnODAwcHgnOiB7XG4gICAqICAgICBwZXJWaWV3OiAyXG4gICAqICAgfVxuICAgKiB9YFxuICAgKi9cbiAgYnJlYWtwb2ludHM6IHt9LFxuXG4gIC8qKlxuICAgKiBDb2xsZWN0aW9uIG9mIGludGVybmFsbHkgdXNlZCBIVE1MIGNsYXNzZXMuXG4gICAqXG4gICAqIEB0b2RvIFJlZmFjdG9yIGBzbGlkZXJgIGFuZCBgY2Fyb3VzZWxgIHByb3BlcnRpZXMgdG8gc2luZ2xlIGB0eXBlOiB7IHNsaWRlcjogJycsIGNhcm91c2VsOiAnJyB9YCBvYmplY3RcbiAgICogQHR5cGUge09iamVjdH1cbiAgICovXG4gIGNsYXNzZXM6IHtcbiAgICBkaXJlY3Rpb246IHtcbiAgICAgIGx0cjogJ2dsaWRlLS1sdHInLFxuICAgICAgcnRsOiAnZ2xpZGUtLXJ0bCdcbiAgICB9LFxuICAgIHNsaWRlcjogJ2dsaWRlLS1zbGlkZXInLFxuICAgIGNhcm91c2VsOiAnZ2xpZGUtLWNhcm91c2VsJyxcbiAgICBzd2lwZWFibGU6ICdnbGlkZS0tc3dpcGVhYmxlJyxcbiAgICBkcmFnZ2luZzogJ2dsaWRlLS1kcmFnZ2luZycsXG4gICAgY2xvbmVTbGlkZTogJ2dsaWRlX19zbGlkZS0tY2xvbmUnLFxuICAgIGFjdGl2ZU5hdjogJ2dsaWRlX19idWxsZXQtLWFjdGl2ZScsXG4gICAgYWN0aXZlU2xpZGU6ICdnbGlkZV9fc2xpZGUtLWFjdGl2ZScsXG4gICAgZGlzYWJsZWRBcnJvdzogJ2dsaWRlX19hcnJvdy0tZGlzYWJsZWQnXG4gIH1cbn1cbiIsIi8qKlxuICogQ29udmVydHMgdmFsdWUgZW50ZXJlZCBhcyBudW1iZXJcbiAqIG9yIHN0cmluZyB0byBpbnRlZ2VyIHZhbHVlLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSB2YWx1ZVxuICogQHJldHVybnMge051bWJlcn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRvSW50ICh2YWx1ZSkge1xuICByZXR1cm4gcGFyc2VJbnQodmFsdWUpXG59XG5cbi8qKlxuICogQ29udmVydHMgdmFsdWUgZW50ZXJlZCBhcyBudW1iZXJcbiAqIG9yIHN0cmluZyB0byBmbGF0IHZhbHVlLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSB2YWx1ZVxuICogQHJldHVybnMge051bWJlcn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRvRmxvYXQgKHZhbHVlKSB7XG4gIHJldHVybiBwYXJzZUZsb2F0KHZhbHVlKVxufVxuXG4vKipcbiAqIEluZGljYXRlcyB3aGV0aGVyIHRoZSBzcGVjaWZpZWQgdmFsdWUgaXMgYSBzdHJpbmcuXG4gKlxuICogQHBhcmFtICB7Kn0gICB2YWx1ZVxuICogQHJldHVybiB7Qm9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzU3RyaW5nICh2YWx1ZSkge1xuICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJ1xufVxuXG4vKipcbiAqIEluZGljYXRlcyB3aGV0aGVyIHRoZSBzcGVjaWZpZWQgdmFsdWUgaXMgYW4gb2JqZWN0LlxuICpcbiAqIEBwYXJhbSAgeyp9IHZhbHVlXG4gKiBAcmV0dXJuIHtCb29sZWFufVxuICpcbiAqIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2phc2hrZW5hcy91bmRlcnNjb3JlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc09iamVjdCAodmFsdWUpIHtcbiAgbGV0IHR5cGUgPSB0eXBlb2YgdmFsdWVcblxuICByZXR1cm4gdHlwZSA9PT0gJ2Z1bmN0aW9uJyB8fCB0eXBlID09PSAnb2JqZWN0JyAmJiAhIXZhbHVlIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tbWl4ZWQtb3BlcmF0b3JzXG59XG5cbi8qKlxuICogSW5kaWNhdGVzIHdoZXRoZXIgdGhlIHNwZWNpZmllZCB2YWx1ZSBpcyBhIG51bWJlci5cbiAqXG4gKiBAcGFyYW0gIHsqfSB2YWx1ZVxuICogQHJldHVybiB7Qm9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzTnVtYmVyICh2YWx1ZSkge1xuICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJ1xufVxuXG4vKipcbiAqIEluZGljYXRlcyB3aGV0aGVyIHRoZSBzcGVjaWZpZWQgdmFsdWUgaXMgYSBmdW5jdGlvbi5cbiAqXG4gKiBAcGFyYW0gIHsqfSB2YWx1ZVxuICogQHJldHVybiB7Qm9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzRnVuY3Rpb24gKHZhbHVlKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbidcbn1cblxuLyoqXG4gKiBJbmRpY2F0ZXMgd2hldGhlciB0aGUgc3BlY2lmaWVkIHZhbHVlIGlzIHVuZGVmaW5lZC5cbiAqXG4gKiBAcGFyYW0gIHsqfSB2YWx1ZVxuICogQHJldHVybiB7Qm9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzVW5kZWZpbmVkICh2YWx1ZSkge1xuICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAndW5kZWZpbmVkJ1xufVxuXG4vKipcbiAqIEluZGljYXRlcyB3aGV0aGVyIHRoZSBzcGVjaWZpZWQgdmFsdWUgaXMgYW4gYXJyYXkuXG4gKlxuICogQHBhcmFtICB7Kn0gdmFsdWVcbiAqIEByZXR1cm4ge0Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0FycmF5ICh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUuY29uc3RydWN0b3IgPT09IEFycmF5XG59XG4iLCIvKipcbiAqIERlZmluZXMgZ2V0dGVyIGFuZCBzZXR0ZXIgcHJvcGVydHkgb24gdGhlIHNwZWNpZmllZCBvYmplY3QuXG4gKlxuICogQHBhcmFtICB7T2JqZWN0fSBvYmogICAgICAgICBPYmplY3Qgd2hlcmUgcHJvcGVydHkgaGFzIHRvIGJlIGRlZmluZWQuXG4gKiBAcGFyYW0gIHtTdHJpbmd9IHByb3AgICAgICAgIE5hbWUgb2YgdGhlIGRlZmluZWQgcHJvcGVydHkuXG4gKiBAcGFyYW0gIHtPYmplY3R9IGRlZmluaXRpb24gIEdldCBhbmQgc2V0IGRlZmluaXRpb25zIGZvciB0aGUgcHJvcGVydHkuXG4gKiBAcmV0dXJuIHtWb2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZGVmaW5lIChvYmosIHByb3AsIGRlZmluaXRpb24pIHtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwgcHJvcCwgZGVmaW5pdGlvbilcbn1cblxuLyoqXG4gKiBTb3J0cyBhcGhhYmV0aWNhbGx5IG9iamVjdCBrZXlzLlxuICpcbiAqIEBwYXJhbSAge09iamVjdH0gb2JqXG4gKiBAcmV0dXJuIHtPYmplY3R9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzb3J0S2V5cyAob2JqKSB7XG4gIHJldHVybiBPYmplY3Qua2V5cyhvYmopLnNvcnQoKS5yZWR1Y2UoKHIsIGspID0+IHtcbiAgICByW2tdID0gb2JqW2tdXG5cbiAgICByZXR1cm4gKHJba10sIHIpXG4gIH0sIHt9KVxufVxuXG4vKipcbiAqIE1lcmdlcyBwYXNzZWQgc2V0dGluZ3Mgb2JqZWN0IHdpdGggZGVmYXVsdCBvcHRpb25zLlxuICpcbiAqIEBwYXJhbSAge09iamVjdH0gZGVmYXVsdHNcbiAqIEBwYXJhbSAge09iamVjdH0gc2V0dGluZ3NcbiAqIEByZXR1cm4ge09iamVjdH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1lcmdlT3B0aW9ucyAoZGVmYXVsdHMsIHNldHRpbmdzKSB7XG4gIGxldCBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgZGVmYXVsdHMsIHNldHRpbmdzKVxuXG4gIC8vIGBPYmplY3QuYXNzaWduYCBkbyBub3QgZGVlcGx5IG1lcmdlIG9iamVjdHMsIHNvIHdlXG4gIC8vIGhhdmUgdG8gZG8gaXQgbWFudWFsbHkgZm9yIGV2ZXJ5IG5lc3RlZCBvYmplY3RcbiAgLy8gaW4gb3B0aW9ucy4gQWx0aG91Z2ggaXQgZG9lcyBub3QgbG9vayBzbWFydCxcbiAgLy8gaXQncyBzbWFsbGVyIGFuZCBmYXN0ZXIgdGhhbiBzb21lIGZhbmN5XG4gIC8vIG1lcmdpbmcgZGVlcC1tZXJnZSBhbGdvcml0aG0gc2NyaXB0LlxuICBpZiAoc2V0dGluZ3MuaGFzT3duUHJvcGVydHkoJ2NsYXNzZXMnKSkge1xuICAgIG9wdGlvbnMuY2xhc3NlcyA9IE9iamVjdC5hc3NpZ24oe30sIGRlZmF1bHRzLmNsYXNzZXMsIHNldHRpbmdzLmNsYXNzZXMpXG5cbiAgICBpZiAoc2V0dGluZ3MuY2xhc3Nlcy5oYXNPd25Qcm9wZXJ0eSgnZGlyZWN0aW9uJykpIHtcbiAgICAgIG9wdGlvbnMuY2xhc3Nlcy5kaXJlY3Rpb24gPSBPYmplY3QuYXNzaWduKHt9LCBkZWZhdWx0cy5jbGFzc2VzLmRpcmVjdGlvbiwgc2V0dGluZ3MuY2xhc3Nlcy5kaXJlY3Rpb24pXG4gICAgfVxuICB9XG5cbiAgaWYgKHNldHRpbmdzLmhhc093blByb3BlcnR5KCdicmVha3BvaW50cycpKSB7XG4gICAgb3B0aW9ucy5icmVha3BvaW50cyA9IE9iamVjdC5hc3NpZ24oe30sIGRlZmF1bHRzLmJyZWFrcG9pbnRzLCBzZXR0aW5ncy5icmVha3BvaW50cylcbiAgfVxuXG4gIHJldHVybiBvcHRpb25zXG59XG4iLCJpbXBvcnQgeyBpc0FycmF5IH0gZnJvbSAnLi4vLi4vdXRpbHMvdW5pdCdcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRXZlbnRzQnVzIHtcbiAgLyoqXG4gICAqIENvbnN0cnVjdCBhIEV2ZW50QnVzIGluc3RhbmNlLlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gZXZlbnRzXG4gICAqL1xuICBjb25zdHJ1Y3RvciAoZXZlbnRzID0ge30pIHtcbiAgICB0aGlzLmV2ZW50cyA9IGV2ZW50c1xuICAgIHRoaXMuaG9wID0gZXZlbnRzLmhhc093blByb3BlcnR5XG4gIH1cblxuICAvKipcbiAgICogQWRkcyBsaXN0ZW5lciB0byB0aGUgc3BlY2lmZWQgZXZlbnQuXG4gICAqXG4gICAqIEBwYXJhbSB7U3RyaW5nfEFycmF5fSBldmVudFxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBoYW5kbGVyXG4gICAqL1xuICBvbiAoZXZlbnQsIGhhbmRsZXIpIHtcbiAgICBpZiAoaXNBcnJheShldmVudCkpIHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZXZlbnQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdGhpcy5vbihldmVudFtpXSwgaGFuZGxlcilcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBDcmVhdGUgdGhlIGV2ZW50J3Mgb2JqZWN0IGlmIG5vdCB5ZXQgY3JlYXRlZFxuICAgIGlmICghdGhpcy5ob3AuY2FsbCh0aGlzLmV2ZW50cywgZXZlbnQpKSB7XG4gICAgICB0aGlzLmV2ZW50c1tldmVudF0gPSBbXVxuICAgIH1cblxuICAgIC8vIEFkZCB0aGUgaGFuZGxlciB0byBxdWV1ZVxuICAgIHZhciBpbmRleCA9IHRoaXMuZXZlbnRzW2V2ZW50XS5wdXNoKGhhbmRsZXIpIC0gMVxuXG4gICAgLy8gUHJvdmlkZSBoYW5kbGUgYmFjayBmb3IgcmVtb3ZhbCBvZiBldmVudFxuICAgIHJldHVybiB7XG4gICAgICByZW1vdmUgKCkge1xuICAgICAgICBkZWxldGUgdGhpcy5ldmVudHNbZXZlbnRdW2luZGV4XVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSdW5zIHJlZ2lzdGVyZWQgaGFuZGxlcnMgZm9yIHNwZWNpZmllZCBldmVudC5cbiAgICpcbiAgICogQHBhcmFtIHtTdHJpbmd8QXJyYXl9IGV2ZW50XG4gICAqIEBwYXJhbSB7T2JqZWN0PX0gY29udGV4dFxuICAgKi9cbiAgZW1pdCAoZXZlbnQsIGNvbnRleHQpIHtcbiAgICBpZiAoaXNBcnJheShldmVudCkpIHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZXZlbnQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdGhpcy5lbWl0KGV2ZW50W2ldLCBjb250ZXh0KVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIElmIHRoZSBldmVudCBkb2Vzbid0IGV4aXN0LCBvciB0aGVyZSdzIG5vIGhhbmRsZXJzIGluIHF1ZXVlLCBqdXN0IGxlYXZlXG4gICAgaWYgKCF0aGlzLmhvcC5jYWxsKHRoaXMuZXZlbnRzLCBldmVudCkpIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIC8vIEN5Y2xlIHRocm91Z2ggZXZlbnRzIHF1ZXVlLCBmaXJlIVxuICAgIHRoaXMuZXZlbnRzW2V2ZW50XS5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICBpdGVtKGNvbnRleHQgfHwge30pXG4gICAgfSlcbiAgfVxufVxuIiwiaW1wb3J0IGRlZmF1bHRzIGZyb20gJy4vZGVmYXVsdHMnXHJcbmltcG9ydCB7IHdhcm4gfSBmcm9tICcuL3V0aWxzL2xvZydcclxuaW1wb3J0IHsgbW91bnQgfSBmcm9tICcuL2NvcmUvaW5kZXgnXHJcbmltcG9ydCB7IG1lcmdlT3B0aW9ucyB9IGZyb20gJy4vdXRpbHMvb2JqZWN0J1xyXG5pbXBvcnQgeyB0b0ludCwgaXNPYmplY3QsIGlzQXJyYXkgfSBmcm9tICcuL3V0aWxzL3VuaXQnXHJcblxyXG5pbXBvcnQgRXZlbnRzQnVzIGZyb20gJy4vY29yZS9ldmVudC9ldmVudHMtYnVzJ1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR2xpZGUge1xyXG4gIC8qKlxyXG4gICAqIENvbnN0cnVjdCBnbGlkZS5cclxuICAgKlxyXG4gICAqIEBwYXJhbSAge1N0cmluZ30gc2VsZWN0b3JcclxuICAgKiBAcGFyYW0gIHtPYmplY3R9IG9wdGlvbnNcclxuICAgKi9cclxuICBjb25zdHJ1Y3RvciAoc2VsZWN0b3IsIG9wdGlvbnMgPSB7fSkge1xyXG4gICAgdGhpcy5fYyA9IHt9XHJcbiAgICB0aGlzLl90ID0gW11cclxuICAgIHRoaXMuX2UgPSBuZXcgRXZlbnRzQnVzKClcclxuXHJcbiAgICB0aGlzLmRpc2FibGVkID0gZmFsc2VcclxuICAgIHRoaXMuc2VsZWN0b3IgPSBzZWxlY3RvclxyXG4gICAgdGhpcy5zZXR0aW5ncyA9IG1lcmdlT3B0aW9ucyhkZWZhdWx0cywgb3B0aW9ucylcclxuICAgIHRoaXMuaW5kZXggPSB0aGlzLnNldHRpbmdzLnN0YXJ0QXRcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEluaXRpYWxpemVzIGdsaWRlLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtPYmplY3R9IGV4dGVuc2lvbnMgQ29sbGVjdGlvbiBvZiBleHRlbnNpb25zIHRvIGluaXRpYWxpemUuXHJcbiAgICogQHJldHVybiB7R2xpZGV9XHJcbiAgICovXHJcbiAgbW91bnQgKGV4dGVuc2lvbnMgPSB7fSkge1xyXG4gICAgdGhpcy5fZS5lbWl0KCdtb3VudC5iZWZvcmUnKVxyXG5cclxuICAgIGlmIChpc09iamVjdChleHRlbnNpb25zKSkge1xyXG4gICAgICB0aGlzLl9jID0gbW91bnQodGhpcywgZXh0ZW5zaW9ucywgdGhpcy5fZSlcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHdhcm4oJ1lvdSBuZWVkIHRvIHByb3ZpZGUgYSBvYmplY3Qgb24gYG1vdW50KClgJylcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLl9lLmVtaXQoJ21vdW50LmFmdGVyJylcclxuXHJcbiAgICByZXR1cm4gdGhpc1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ29sbGVjdHMgYW4gaW5zdGFuY2UgYHRyYW5zbGF0ZWAgdHJhbnNmb3JtZXJzLlxyXG4gICAqXHJcbiAgICogQHBhcmFtICB7QXJyYXl9IHRyYW5zZm9ybWVycyBDb2xsZWN0aW9uIG9mIHRyYW5zZm9ybWVycy5cclxuICAgKiBAcmV0dXJuIHtWb2lkfVxyXG4gICAqL1xyXG4gIG11dGF0ZSAodHJhbnNmb3JtZXJzID0gW10pIHtcclxuICAgIGlmIChpc0FycmF5KHRyYW5zZm9ybWVycykpIHtcclxuICAgICAgdGhpcy5fdCA9IHRyYW5zZm9ybWVyc1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgd2FybignWW91IG5lZWQgdG8gcHJvdmlkZSBhIGFycmF5IG9uIGBtdXRhdGUoKWAnKVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBVcGRhdGVzIGdsaWRlIHdpdGggc3BlY2lmaWVkIHNldHRpbmdzLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtPYmplY3R9IHNldHRpbmdzXHJcbiAgICogQHJldHVybiB7R2xpZGV9XHJcbiAgICovXHJcbiAgdXBkYXRlIChzZXR0aW5ncyA9IHt9KSB7XHJcbiAgICB0aGlzLnNldHRpbmdzID0gbWVyZ2VPcHRpb25zKHRoaXMuc2V0dGluZ3MsIHNldHRpbmdzKVxyXG5cclxuICAgIGlmIChzZXR0aW5ncy5oYXNPd25Qcm9wZXJ0eSgnc3RhcnRBdCcpKSB7XHJcbiAgICAgIHRoaXMuaW5kZXggPSBzZXR0aW5ncy5zdGFydEF0XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5fZS5lbWl0KCd1cGRhdGUnKVxyXG5cclxuICAgIHJldHVybiB0aGlzXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDaGFuZ2Ugc2xpZGUgd2l0aCBzcGVjaWZpZWQgcGF0dGVybi4gQSBwYXR0ZXJuIG11c3QgYmUgaW4gdGhlIHNwZWNpYWwgZm9ybWF0OlxyXG4gICAqIGA+YCAtIE1vdmUgb25lIGZvcndhcmRcclxuICAgKiBgPGAgLSBNb3ZlIG9uZSBiYWNrd2FyZFxyXG4gICAqIGA9e2l9YCAtIEdvIHRvIHtpfSB6ZXJvLWJhc2VkIHNsaWRlIChlcS4gJz0xJywgd2lsbCBnbyB0byBzZWNvbmQgc2xpZGUpXHJcbiAgICogYD4+YCAtIFJld2luZHMgdG8gZW5kIChsYXN0IHNsaWRlKVxyXG4gICAqIGA8PGAgLSBSZXdpbmRzIHRvIHN0YXJ0IChmaXJzdCBzbGlkZSlcclxuICAgKlxyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBwYXR0ZXJuXHJcbiAgICogQHJldHVybiB7R2xpZGV9XHJcbiAgICovXHJcbiAgZ28gKHBhdHRlcm4pIHtcclxuICAgIHRoaXMuX2MuUnVuLm1ha2UocGF0dGVybilcclxuXHJcbiAgICByZXR1cm4gdGhpc1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogTW92ZSB0cmFjayBieSBzcGVjaWZpZWQgZGlzdGFuY2UuXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gZGlzdGFuY2VcclxuICAgKiBAcmV0dXJuIHtHbGlkZX1cclxuICAgKi9cclxuICBtb3ZlIChkaXN0YW5jZSkge1xyXG4gICAgdGhpcy5fYy5UcmFuc2l0aW9uLmRpc2FibGUoKVxyXG4gICAgdGhpcy5fYy5Nb3ZlLm1ha2UoZGlzdGFuY2UpXHJcblxyXG4gICAgcmV0dXJuIHRoaXNcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIERlc3Ryb3kgaW5zdGFuY2UgYW5kIHJldmVydCBhbGwgY2hhbmdlcyBkb25lIGJ5IHRoaXMuX2MuXHJcbiAgICpcclxuICAgKiBAcmV0dXJuIHtHbGlkZX1cclxuICAgKi9cclxuICBkZXN0cm95ICgpIHtcclxuICAgIHRoaXMuX2UuZW1pdCgnZGVzdHJveScpXHJcblxyXG4gICAgcmV0dXJuIHRoaXNcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFN0YXJ0IGluc3RhbmNlIGF1dG9wbGF5aW5nLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtCb29sZWFufE51bWJlcn0gaW50ZXJ2YWwgUnVuIGF1dG9wbGF5aW5nIHdpdGggcGFzc2VkIGludGVydmFsIHJlZ2FyZGxlc3Mgb2YgYGF1dG9wbGF5YCBzZXR0aW5nc1xyXG4gICAqIEByZXR1cm4ge0dsaWRlfVxyXG4gICAqL1xyXG4gIHBsYXkgKGludGVydmFsID0gZmFsc2UpIHtcclxuICAgIGlmIChpbnRlcnZhbCkge1xyXG4gICAgICB0aGlzLnNldHRpbmdzLmF1dG9wbGF5ID0gaW50ZXJ2YWxcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLl9lLmVtaXQoJ3BsYXknKVxyXG5cclxuICAgIHJldHVybiB0aGlzXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTdG9wIGluc3RhbmNlIGF1dG9wbGF5aW5nLlxyXG4gICAqXHJcbiAgICogQHJldHVybiB7R2xpZGV9XHJcbiAgICovXHJcbiAgcGF1c2UgKCkge1xyXG4gICAgdGhpcy5fZS5lbWl0KCdwYXVzZScpXHJcblxyXG4gICAgcmV0dXJuIHRoaXNcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFNldHMgZ2xpZGUgaW50byBhIGlkbGUgc3RhdHVzLlxyXG4gICAqXHJcbiAgICogQHJldHVybiB7R2xpZGV9XHJcbiAgICovXHJcbiAgZGlzYWJsZSAoKSB7XHJcbiAgICB0aGlzLmRpc2FibGVkID0gdHJ1ZVxyXG5cclxuICAgIHJldHVybiB0aGlzXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTZXRzIGdsaWRlIGludG8gYSBhY3RpdmUgc3RhdHVzLlxyXG4gICAqXHJcbiAgICogQHJldHVybiB7R2xpZGV9XHJcbiAgICovXHJcbiAgZW5hYmxlICgpIHtcclxuICAgIHRoaXMuZGlzYWJsZWQgPSBmYWxzZVxyXG5cclxuICAgIHJldHVybiB0aGlzXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBBZGRzIGN1dXRvbSBldmVudCBsaXN0ZW5lciB3aXRoIGhhbmRsZXIuXHJcbiAgICpcclxuICAgKiBAcGFyYW0gIHtTdHJpbmd8QXJyYXl9IGV2ZW50XHJcbiAgICogQHBhcmFtICB7RnVuY3Rpb259IGhhbmRsZXJcclxuICAgKiBAcmV0dXJuIHtHbGlkZX1cclxuICAgKi9cclxuICBvbiAoZXZlbnQsIGhhbmRsZXIpIHtcclxuICAgIHRoaXMuX2Uub24oZXZlbnQsIGhhbmRsZXIpXHJcblxyXG4gICAgcmV0dXJuIHRoaXNcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIENoZWNrcyBpZiBnbGlkZSBpcyBhIHByZWNpc2VkIHR5cGUuXHJcbiAgICpcclxuICAgKiBAcGFyYW0gIHtTdHJpbmd9IG5hbWVcclxuICAgKiBAcmV0dXJuIHtCb29sZWFufVxyXG4gICAqL1xyXG4gIGlzVHlwZSAobmFtZSkge1xyXG4gICAgcmV0dXJuIHRoaXMuc2V0dGluZ3MudHlwZSA9PT0gbmFtZVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogR2V0cyB2YWx1ZSBvZiB0aGUgY29yZSBvcHRpb25zLlxyXG4gICAqXHJcbiAgICogQHJldHVybiB7T2JqZWN0fVxyXG4gICAqL1xyXG4gIGdldCBzZXR0aW5ncyAoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fb1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU2V0cyB2YWx1ZSBvZiB0aGUgY29yZSBvcHRpb25zLlxyXG4gICAqXHJcbiAgICogQHBhcmFtICB7T2JqZWN0fSBvXHJcbiAgICogQHJldHVybiB7Vm9pZH1cclxuICAgKi9cclxuICBzZXQgc2V0dGluZ3MgKG8pIHtcclxuICAgIGlmIChpc09iamVjdChvKSkge1xyXG4gICAgICB0aGlzLl9vID0gb1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgd2FybignT3B0aW9ucyBtdXN0IGJlIGFuIGBvYmplY3RgIGluc3RhbmNlLicpXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZXRzIGN1cnJlbnQgaW5kZXggb2YgdGhlIHNsaWRlci5cclxuICAgKlxyXG4gICAqIEByZXR1cm4ge09iamVjdH1cclxuICAgKi9cclxuICBnZXQgaW5kZXggKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX2lcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFNldHMgY3VycmVudCBpbmRleCBhIHNsaWRlci5cclxuICAgKlxyXG4gICAqIEByZXR1cm4ge09iamVjdH1cclxuICAgKi9cclxuICBzZXQgaW5kZXggKGkpIHtcclxuICAgIHRoaXMuX2kgPSB0b0ludChpKVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogR2V0cyB0eXBlIG5hbWUgb2YgdGhlIHNsaWRlci5cclxuICAgKlxyXG4gICAqIEByZXR1cm4ge1N0cmluZ31cclxuICAgKi9cclxuICBnZXQgdHlwZSAoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5zZXR0aW5ncy50eXBlXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZXRzIHZhbHVlIG9mIHRoZSBpZGxlIHN0YXR1cy5cclxuICAgKlxyXG4gICAqIEByZXR1cm4ge0Jvb2xlYW59XHJcbiAgICovXHJcbiAgZ2V0IGRpc2FibGVkICgpIHtcclxuICAgIHJldHVybiB0aGlzLl9kXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTZXRzIHZhbHVlIG9mIHRoZSBpZGxlIHN0YXR1cy5cclxuICAgKlxyXG4gICAqIEByZXR1cm4ge0Jvb2xlYW59XHJcbiAgICovXHJcbiAgc2V0IGRpc2FibGVkIChzdGF0dXMpIHtcclxuICAgIHRoaXMuX2QgPSAhIXN0YXR1c1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyB3YXJuIH0gZnJvbSAnLi4vdXRpbHMvbG9nJ1xuaW1wb3J0IHsgaXNGdW5jdGlvbiB9IGZyb20gJy4uL3V0aWxzL3VuaXQnXG5cbi8qKlxuICogQ3JlYXRlcyBhbmQgaW5pdGlhbGl6ZXMgc3BlY2lmaWVkIGNvbGxlY3Rpb24gb2YgZXh0ZW5zaW9ucy5cbiAqIEVhY2ggZXh0ZW5zaW9uIHJlY2VpdmVzIGFjY2VzcyB0byBpbnN0YW5jZSBvZiBnbGlkZSBhbmQgcmVzdCBvZiBjb21wb25lbnRzLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBnbGlkZVxuICogQHBhcmFtIHtPYmplY3R9IGV4dGVuc2lvbnNcbiAqXG4gKiBAcmV0dXJucyB7T2JqZWN0fVxuICovXG5leHBvcnQgZnVuY3Rpb24gbW91bnQgKGdsaWRlLCBleHRlbnNpb25zLCBldmVudHMpIHtcbiAgbGV0IGNvbXBvbmVudHMgPSB7fVxuXG4gIGZvciAobGV0IG5hbWUgaW4gZXh0ZW5zaW9ucykge1xuICAgIGlmIChpc0Z1bmN0aW9uKGV4dGVuc2lvbnNbbmFtZV0pKSB7XG4gICAgICBjb21wb25lbnRzW25hbWVdID0gZXh0ZW5zaW9uc1tuYW1lXShnbGlkZSwgY29tcG9uZW50cywgZXZlbnRzKVxuICAgIH0gZWxzZSB7XG4gICAgICB3YXJuKCdFeHRlbnNpb24gbXVzdCBiZSBhIGZ1bmN0aW9uJylcbiAgICB9XG4gIH1cblxuICBmb3IgKGxldCBuYW1lIGluIGNvbXBvbmVudHMpIHtcbiAgICBpZiAoaXNGdW5jdGlvbihjb21wb25lbnRzW25hbWVdLm1vdW50KSkge1xuICAgICAgY29tcG9uZW50c1tuYW1lXS5tb3VudCgpXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGNvbXBvbmVudHNcbn1cbiIsIi8qKlxuICogUmV0dXJucyBhIGN1cnJlbnQgdGltZS5cbiAqXG4gKiBAcmV0dXJuIHtOdW1iZXJ9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBub3cgKCkge1xuICByZXR1cm4gbmV3IERhdGUoKS5nZXRUaW1lKClcbn1cbiIsImltcG9ydCB7IG5vdyB9IGZyb20gJy4vdGltZSdcblxuLyoqXG4gKiBSZXR1cm5zIGEgZnVuY3Rpb24sIHRoYXQsIHdoZW4gaW52b2tlZCwgd2lsbCBvbmx5IGJlIHRyaWdnZXJlZFxuICogYXQgbW9zdCBvbmNlIGR1cmluZyBhIGdpdmVuIHdpbmRvdyBvZiB0aW1lLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmNcbiAqIEBwYXJhbSB7TnVtYmVyfSB3YWl0XG4gKiBAcGFyYW0ge09iamVjdD19IG9wdGlvbnNcbiAqIEByZXR1cm4ge0Z1bmN0aW9ufVxuICpcbiAqIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2phc2hrZW5hcy91bmRlcnNjb3JlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0aHJvdHRsZSAoZnVuYywgd2FpdCwgb3B0aW9ucykge1xuICBsZXQgdGltZW91dCwgY29udGV4dCwgYXJncywgcmVzdWx0XG4gIGxldCBwcmV2aW91cyA9IDBcbiAgaWYgKCFvcHRpb25zKSBvcHRpb25zID0ge31cblxuICBsZXQgbGF0ZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgcHJldmlvdXMgPSBvcHRpb25zLmxlYWRpbmcgPT09IGZhbHNlID8gMCA6IG5vdygpXG4gICAgdGltZW91dCA9IG51bGxcbiAgICByZXN1bHQgPSBmdW5jLmFwcGx5KGNvbnRleHQsIGFyZ3MpXG4gICAgaWYgKCF0aW1lb3V0KSBjb250ZXh0ID0gYXJncyA9IG51bGxcbiAgfVxuXG4gIGxldCB0aHJvdHRsZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgbGV0IGF0ID0gbm93KClcbiAgICBpZiAoIXByZXZpb3VzICYmIG9wdGlvbnMubGVhZGluZyA9PT0gZmFsc2UpIHByZXZpb3VzID0gYXRcbiAgICBsZXQgcmVtYWluaW5nID0gd2FpdCAtIChhdCAtIHByZXZpb3VzKVxuICAgIGNvbnRleHQgPSB0aGlzXG4gICAgYXJncyA9IGFyZ3VtZW50c1xuICAgIGlmIChyZW1haW5pbmcgPD0gMCB8fCByZW1haW5pbmcgPiB3YWl0KSB7XG4gICAgICBpZiAodGltZW91dCkge1xuICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dClcbiAgICAgICAgdGltZW91dCA9IG51bGxcbiAgICAgIH1cbiAgICAgIHByZXZpb3VzID0gYXRcbiAgICAgIHJlc3VsdCA9IGZ1bmMuYXBwbHkoY29udGV4dCwgYXJncylcbiAgICAgIGlmICghdGltZW91dCkgY29udGV4dCA9IGFyZ3MgPSBudWxsXG4gICAgfSBlbHNlIGlmICghdGltZW91dCAmJiBvcHRpb25zLnRyYWlsaW5nICE9PSBmYWxzZSkge1xuICAgICAgdGltZW91dCA9IHNldFRpbWVvdXQobGF0ZXIsIHJlbWFpbmluZylcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdFxuICB9XG5cbiAgdGhyb3R0bGVkLmNhbmNlbCA9IGZ1bmN0aW9uICgpIHtcbiAgICBjbGVhclRpbWVvdXQodGltZW91dClcbiAgICBwcmV2aW91cyA9IDBcbiAgICB0aW1lb3V0ID0gY29udGV4dCA9IGFyZ3MgPSBudWxsXG4gIH1cblxuICByZXR1cm4gdGhyb3R0bGVkXG59XG4iLCJpbXBvcnQgeyB0b0ludCB9IGZyb20gJy4uL3V0aWxzL3VuaXQnXG5pbXBvcnQgeyBkZWZpbmUgfSBmcm9tICcuLi91dGlscy9vYmplY3QnXG5pbXBvcnQgeyB0aHJvdHRsZSB9IGZyb20gJy4uL3V0aWxzL3dhaXQnXG5cbmNvbnN0IE1BUkdJTl9UWVBFID0ge1xuICBsdHI6IFsnbWFyZ2luTGVmdCcsICdtYXJnaW5SaWdodCddLFxuICBydGw6IFsnbWFyZ2luUmlnaHQnLCAnbWFyZ2luTGVmdCddXG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIChHbGlkZSwgQ29tcG9uZW50cywgRXZlbnRzKSB7XG4gIGNvbnN0IEdhcHMgPSB7XG4gICAgLyoqXG4gICAgICogQXBwbGllcyBnYXBzIGJldHdlZW4gc2xpZGVzLiBGaXJzdCBhbmQgbGFzdFxuICAgICAqIHNsaWRlcyBkbyBub3QgcmVjZWl2ZSBpdCdzIGVkZ2UgbWFyZ2lucy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7SFRNTENvbGxlY3Rpb259IHNsaWRlc1xuICAgICAqIEByZXR1cm4ge1ZvaWR9XG4gICAgICovXG4gICAgYXBwbHkgKHNsaWRlcykge1xuICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IHNsaWRlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICBsZXQgc3R5bGUgPSBzbGlkZXNbaV0uc3R5bGVcbiAgICAgICAgbGV0IGRpcmVjdGlvbiA9IENvbXBvbmVudHMuRGlyZWN0aW9uLnZhbHVlXG5cbiAgICAgICAgaWYgKGkgIT09IDApIHtcbiAgICAgICAgICBzdHlsZVtNQVJHSU5fVFlQRVtkaXJlY3Rpb25dWzBdXSA9IGAke3RoaXMudmFsdWUgLyAyfXB4YFxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHN0eWxlW01BUkdJTl9UWVBFW2RpcmVjdGlvbl1bMF1dID0gJydcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpICE9PSBzbGlkZXMubGVuZ3RoIC0gMSkge1xuICAgICAgICAgIHN0eWxlW01BUkdJTl9UWVBFW2RpcmVjdGlvbl1bMV1dID0gYCR7dGhpcy52YWx1ZSAvIDJ9cHhgXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc3R5bGVbTUFSR0lOX1RZUEVbZGlyZWN0aW9uXVsxXV0gPSAnJ1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgZ2FwcyBmcm9tIHRoZSBzbGlkZXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0hUTUxDb2xsZWN0aW9ufSBzbGlkZXNcbiAgICAgKiBAcmV0dXJucyB7Vm9pZH1cbiAgICAqL1xuICAgIHJlbW92ZSAoc2xpZGVzKSB7XG4gICAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gc2xpZGVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIGxldCBzdHlsZSA9IHNsaWRlc1tpXS5zdHlsZVxuXG4gICAgICAgIHN0eWxlLm1hcmdpbkxlZnQgPSAnJ1xuICAgICAgICBzdHlsZS5tYXJnaW5SaWdodCA9ICcnXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZGVmaW5lKEdhcHMsICd2YWx1ZScsIHtcbiAgICAvKipcbiAgICAgKiBHZXRzIHZhbHVlIG9mIHRoZSBnYXAuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7TnVtYmVyfVxuICAgICAqL1xuICAgIGdldCAoKSB7XG4gICAgICByZXR1cm4gdG9JbnQoR2xpZGUuc2V0dGluZ3MuZ2FwKVxuICAgIH1cbiAgfSlcblxuICBkZWZpbmUoR2FwcywgJ2dyb3cnLCB7XG4gICAgLyoqXG4gICAgICogR2V0cyBhZGRpdGlvbmFsIGRpbWVudGlvbnMgdmFsdWUgY2F1c2VkIGJ5IGdhcHMuXG4gICAgICogVXNlZCB0byBpbmNyZWFzZSB3aWR0aCBvZiB0aGUgc2xpZGVzIHdyYXBwZXIuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7TnVtYmVyfVxuICAgICAqL1xuICAgIGdldCAoKSB7XG4gICAgICByZXR1cm4gR2Fwcy52YWx1ZSAqIChDb21wb25lbnRzLlNpemVzLmxlbmd0aClcbiAgICB9XG4gIH0pXG5cbiAgZGVmaW5lKEdhcHMsICdyZWR1Y3RvcicsIHtcbiAgICAvKipcbiAgICAgKiBHZXRzIHJlZHVjdGlvbiB2YWx1ZSBjYXVzZWQgYnkgZ2Fwcy5cbiAgICAgKiBVc2VkIHRvIHN1YnRyYWN0IHdpZHRoIG9mIHRoZSBzbGlkZXMuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7TnVtYmVyfVxuICAgICAqL1xuICAgIGdldCAoKSB7XG4gICAgICBsZXQgcGVyVmlldyA9IEdsaWRlLnNldHRpbmdzLnBlclZpZXdcblxuICAgICAgcmV0dXJuIChHYXBzLnZhbHVlICogKHBlclZpZXcgLSAxKSkgLyBwZXJWaWV3XG4gICAgfVxuICB9KVxuXG4gIC8qKlxuICAgKiBBcHBseSBjYWxjdWxhdGVkIGdhcHM6XG4gICAqIC0gYWZ0ZXIgYnVpbGRpbmcsIHNvIHNsaWRlcyAoaW5jbHVkaW5nIGNsb25lcykgd2lsbCByZWNlaXZlIHByb3BlciBtYXJnaW5zXG4gICAqIC0gb24gdXBkYXRpbmcgdmlhIEFQSSwgdG8gcmVjYWxjdWxhdGUgZ2FwcyB3aXRoIG5ldyBvcHRpb25zXG4gICAqL1xuICBFdmVudHMub24oWydidWlsZC5hZnRlcicsICd1cGRhdGUnXSwgdGhyb3R0bGUoKCkgPT4ge1xuICAgIEdhcHMuYXBwbHkoQ29tcG9uZW50cy5IdG1sLndyYXBwZXIuY2hpbGRyZW4pXG4gIH0sIDMwKSlcblxuICAvKipcbiAgICogUmVtb3ZlIGdhcHM6XG4gICAqIC0gb24gZGVzdHJveWluZyB0byBicmluZyBtYXJrdXAgdG8gaXRzIGluaXRhbCBzdGF0ZVxuICAgKi9cbiAgRXZlbnRzLm9uKCdkZXN0cm95JywgKCkgPT4ge1xuICAgIEdhcHMucmVtb3ZlKENvbXBvbmVudHMuSHRtbC53cmFwcGVyLmNoaWxkcmVuKVxuICB9KVxuXG4gIHJldHVybiBHYXBzXG59XG4iLCIvKipcbiAqIEZpbmRzIHNpYmxpbmdzIG5vZGVzIG9mIHRoZSBwYXNzZWQgbm9kZS5cbiAqXG4gKiBAcGFyYW0gIHtFbGVtZW50fSBub2RlXG4gKiBAcmV0dXJuIHtBcnJheX1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNpYmxpbmdzIChub2RlKSB7XG4gIGlmIChub2RlICYmIG5vZGUucGFyZW50Tm9kZSkge1xuICAgIGxldCBuID0gbm9kZS5wYXJlbnROb2RlLmZpcnN0Q2hpbGRcbiAgICBsZXQgbWF0Y2hlZCA9IFtdXG5cbiAgICBmb3IgKDsgbjsgbiA9IG4ubmV4dFNpYmxpbmcpIHtcbiAgICAgIGlmIChuLm5vZGVUeXBlID09PSAxICYmIG4gIT09IG5vZGUpIHtcbiAgICAgICAgbWF0Y2hlZC5wdXNoKG4pXG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG1hdGNoZWRcbiAgfVxuXG4gIHJldHVybiBbXVxufVxuXG4vKipcbiAqIENoZWNrcyBpZiBwYXNzZWQgbm9kZSBleGlzdCBhbmQgaXMgYSB2YWxpZCBlbGVtZW50LlxuICpcbiAqIEBwYXJhbSAge0VsZW1lbnR9IG5vZGVcbiAqIEByZXR1cm4ge0Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBleGlzdCAobm9kZSkge1xuICBpZiAobm9kZSAmJiBub2RlIGluc3RhbmNlb2Ygd2luZG93LkhUTUxFbGVtZW50KSB7XG4gICAgcmV0dXJuIHRydWVcbiAgfVxuXG4gIHJldHVybiBmYWxzZVxufVxuIiwiaW1wb3J0IHsgd2FybiB9IGZyb20gJy4uL3V0aWxzL2xvZydcbmltcG9ydCB7IGV4aXN0IH0gZnJvbSAnLi4vdXRpbHMvZG9tJ1xuaW1wb3J0IHsgZGVmaW5lIH0gZnJvbSAnLi4vdXRpbHMvb2JqZWN0J1xuaW1wb3J0IHsgaXNTdHJpbmcgfSBmcm9tICcuLi91dGlscy91bml0J1xuXG5jb25zdCBUUkFDS19TRUxFQ1RPUiA9ICdbZGF0YS1nbGlkZS1lbD1cInRyYWNrXCJdJ1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoR2xpZGUsIENvbXBvbmVudHMpIHtcbiAgY29uc3QgSHRtbCA9IHtcbiAgICAvKipcbiAgICAgKiBTZXR1cCBzbGlkZXIgSFRNTCBub2Rlcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7R2xpZGV9IGdsaWRlXG4gICAgICovXG4gICAgbW91bnQgKCkge1xuICAgICAgdGhpcy5yb290ID0gR2xpZGUuc2VsZWN0b3JcbiAgICAgIHRoaXMudHJhY2sgPSB0aGlzLnJvb3QucXVlcnlTZWxlY3RvcihUUkFDS19TRUxFQ1RPUilcbiAgICAgIHRoaXMuc2xpZGVzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodGhpcy53cmFwcGVyLmNoaWxkcmVuKS5maWx0ZXIoKHNsaWRlKSA9PiB7XG4gICAgICAgIHJldHVybiAhc2xpZGUuY2xhc3NMaXN0LmNvbnRhaW5zKEdsaWRlLnNldHRpbmdzLmNsYXNzZXMuY2xvbmVTbGlkZSlcbiAgICAgIH0pXG4gICAgfVxuICB9XG5cbiAgZGVmaW5lKEh0bWwsICdyb290Jywge1xuICAgIC8qKlxuICAgICAqIEdldHMgbm9kZSBvZiB0aGUgZ2xpZGUgbWFpbiBlbGVtZW50LlxuICAgICAqXG4gICAgICogQHJldHVybiB7T2JqZWN0fVxuICAgICAqL1xuICAgIGdldCAoKSB7XG4gICAgICByZXR1cm4gSHRtbC5fclxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTZXRzIG5vZGUgb2YgdGhlIGdsaWRlIG1haW4gZWxlbWVudC5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge09iamVjdH1cbiAgICAgKi9cbiAgICBzZXQgKHIpIHtcbiAgICAgIGlmIChpc1N0cmluZyhyKSkge1xuICAgICAgICByID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihyKVxuICAgICAgfVxuXG4gICAgICBpZiAoZXhpc3QocikpIHtcbiAgICAgICAgSHRtbC5fciA9IHJcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHdhcm4oJ1Jvb3QgZWxlbWVudCBtdXN0IGJlIGEgZXhpc3RpbmcgSHRtbCBub2RlJylcbiAgICAgIH1cbiAgICB9XG4gIH0pXG5cbiAgZGVmaW5lKEh0bWwsICd0cmFjaycsIHtcbiAgICAvKipcbiAgICAgKiBHZXRzIG5vZGUgb2YgdGhlIGdsaWRlIHRyYWNrIHdpdGggc2xpZGVzLlxuICAgICAqXG4gICAgICogQHJldHVybiB7T2JqZWN0fVxuICAgICAqL1xuICAgIGdldCAoKSB7XG4gICAgICByZXR1cm4gSHRtbC5fdFxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTZXRzIG5vZGUgb2YgdGhlIGdsaWRlIHRyYWNrIHdpdGggc2xpZGVzLlxuICAgICAqXG4gICAgICogQHJldHVybiB7T2JqZWN0fVxuICAgICAqL1xuICAgIHNldCAodCkge1xuICAgICAgaWYgKGV4aXN0KHQpKSB7XG4gICAgICAgIEh0bWwuX3QgPSB0XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB3YXJuKGBDb3VsZCBub3QgZmluZCB0cmFjayBlbGVtZW50LiBQbGVhc2UgdXNlICR7VFJBQ0tfU0VMRUNUT1J9IGF0dHJpYnV0ZS5gKVxuICAgICAgfVxuICAgIH1cbiAgfSlcblxuICBkZWZpbmUoSHRtbCwgJ3dyYXBwZXInLCB7XG4gICAgLyoqXG4gICAgICogR2V0cyBub2RlIG9mIHRoZSBzbGlkZXMgd3JhcHBlci5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge09iamVjdH1cbiAgICAgKi9cbiAgICBnZXQgKCkge1xuICAgICAgcmV0dXJuIEh0bWwudHJhY2suY2hpbGRyZW5bMF1cbiAgICB9XG4gIH0pXG5cbiAgcmV0dXJuIEh0bWxcbn1cbiIsImltcG9ydCB7IGlzU3RyaW5nIH0gZnJvbSAnLi4vLi4vdXRpbHMvdW5pdCdcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRXZlbnRzQmluZGVyIHtcbiAgLyoqXG4gICAqIENvbnN0cnVjdCBhIEV2ZW50c0JpbmRlciBpbnN0YW5jZS5cbiAgICovXG4gIGNvbnN0cnVjdG9yIChsaXN0ZW5lcnMgPSB7fSkge1xuICAgIHRoaXMubGlzdGVuZXJzID0gbGlzdGVuZXJzXG4gIH1cblxuICAvKipcbiAgICogQWRkcyBldmVudHMgbGlzdGVuZXJzIHRvIGFycm93cyBIVE1MIGVsZW1lbnRzLlxuICAgKlxuICAgKiBAcGFyYW0gIHtTdHJpbmd8QXJyYXl9IGV2ZW50c1xuICAgKiBAcGFyYW0gIHtFbGVtZW50fFdpbmRvd3xEb2N1bWVudH0gZWxcbiAgICogQHBhcmFtICB7RnVuY3Rpb259IGNsb3N1cmVcbiAgICogQHBhcmFtICB7Qm9vbGVhbnxPYmplY3R9IGNhcHR1cmVcbiAgICogQHJldHVybiB7Vm9pZH1cbiAgICovXG4gIG9uIChldmVudHMsIGVsLCBjbG9zdXJlLCBjYXB0dXJlID0gZmFsc2UpIHtcbiAgICBpZiAoaXNTdHJpbmcoZXZlbnRzKSkge1xuICAgICAgZXZlbnRzID0gW2V2ZW50c11cbiAgICB9XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGV2ZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpcy5saXN0ZW5lcnNbZXZlbnRzW2ldXSA9IGNsb3N1cmVcblxuICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcihldmVudHNbaV0sIHRoaXMubGlzdGVuZXJzW2V2ZW50c1tpXV0sIGNhcHR1cmUpXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZXMgZXZlbnQgbGlzdGVuZXJzIGZyb20gYXJyb3dzIEhUTUwgZWxlbWVudHMuXG4gICAqXG4gICAqIEBwYXJhbSAge1N0cmluZ3xBcnJheX0gZXZlbnRzXG4gICAqIEBwYXJhbSAge0VsZW1lbnR8V2luZG93fERvY3VtZW50fSBlbFxuICAgKiBAcGFyYW0gIHtCb29sZWFufE9iamVjdH0gY2FwdHVyZVxuICAgKiBAcmV0dXJuIHtWb2lkfVxuICAgKi9cbiAgb2ZmIChldmVudHMsIGVsLCBjYXB0dXJlID0gZmFsc2UpIHtcbiAgICBpZiAoaXNTdHJpbmcoZXZlbnRzKSkge1xuICAgICAgZXZlbnRzID0gW2V2ZW50c11cbiAgICB9XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGV2ZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudHNbaV0sIHRoaXMubGlzdGVuZXJzW2V2ZW50c1tpXV0sIGNhcHR1cmUpXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIERlc3Ryb3kgY29sbGVjdGVkIGxpc3RlbmVycy5cbiAgICpcbiAgICogQHJldHVybnMge1ZvaWR9XG4gICAqL1xuICBkZXN0cm95ICgpIHtcbiAgICBkZWxldGUgdGhpcy5saXN0ZW5lcnNcbiAgfVxufVxuIiwiaW1wb3J0IHsgd2FybiB9IGZyb20gJy4uL3V0aWxzL2xvZydcbmltcG9ydCB7IGRlZmluZSB9IGZyb20gJy4uL3V0aWxzL29iamVjdCdcblxuY29uc3QgVkFMSURfRElSRUNUSU9OUyA9IFsnbHRyJywgJ3J0bCddXG5jb25zdCBGTElQRURfTU9WRU1FTlRTID0ge1xuICAnPic6ICc8JyxcbiAgJzwnOiAnPicsXG4gICc9JzogJz0nXG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIChHbGlkZSwgQ29tcG9uZW50cywgRXZlbnRzKSB7XG4gIGNvbnN0IERpcmVjdGlvbiA9IHtcbiAgICAvKipcbiAgICAgKiBTZXR1cHMgZ2FwIHZhbHVlIGJhc2VkIG9uIHNldHRpbmdzLlxuICAgICAqXG4gICAgICogQHJldHVybiB7Vm9pZH1cbiAgICAgKi9cbiAgICBtb3VudCAoKSB7XG4gICAgICB0aGlzLnZhbHVlID0gR2xpZGUuc2V0dGluZ3MuZGlyZWN0aW9uXG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJlc29sdmVzIHBhdHRlcm4gYmFzZWQgb24gZGlyZWN0aW9uIHZhbHVlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gcGF0dGVyblxuICAgICAqIEByZXR1cm5zIHtTdHJpbmd9XG4gICAgICovXG4gICAgcmVzb2x2ZSAocGF0dGVybikge1xuICAgICAgbGV0IHRva2VuID0gcGF0dGVybi5zbGljZSgwLCAxKVxuXG4gICAgICBpZiAodGhpcy5pcygncnRsJykpIHtcbiAgICAgICAgcmV0dXJuIHBhdHRlcm4uc3BsaXQodG9rZW4pLmpvaW4oRkxJUEVEX01PVkVNRU5UU1t0b2tlbl0pXG4gICAgICB9XG5cbiAgICAgIHJldHVybiBwYXR0ZXJuXG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyB2YWx1ZSBvZiBkaXJlY3Rpb24gbW9kZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBkaXJlY3Rpb25cbiAgICAgKiBAcmV0dXJucyB7Qm9vbGVhbn1cbiAgICAgKi9cbiAgICBpcyAoZGlyZWN0aW9uKSB7XG4gICAgICByZXR1cm4gdGhpcy52YWx1ZSA9PT0gZGlyZWN0aW9uXG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgZGlyZWN0aW9uIGNsYXNzIHRvIHRoZSByb290IEhUTUwgZWxlbWVudC5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1ZvaWR9XG4gICAgICovXG4gICAgYWRkQ2xhc3MgKCkge1xuICAgICAgQ29tcG9uZW50cy5IdG1sLnJvb3QuY2xhc3NMaXN0LmFkZChHbGlkZS5zZXR0aW5ncy5jbGFzc2VzLmRpcmVjdGlvblt0aGlzLnZhbHVlXSlcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBkaXJlY3Rpb24gY2xhc3MgZnJvbSB0aGUgcm9vdCBIVE1MIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtWb2lkfVxuICAgICAqL1xuICAgIHJlbW92ZUNsYXNzICgpIHtcbiAgICAgIENvbXBvbmVudHMuSHRtbC5yb290LmNsYXNzTGlzdC5yZW1vdmUoR2xpZGUuc2V0dGluZ3MuY2xhc3Nlcy5kaXJlY3Rpb25bdGhpcy52YWx1ZV0pXG4gICAgfVxuICB9XG5cbiAgZGVmaW5lKERpcmVjdGlvbiwgJ3ZhbHVlJywge1xuICAgIC8qKlxuICAgICAqIEdldHMgdmFsdWUgb2YgdGhlIGRpcmVjdGlvbi5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtOdW1iZXJ9XG4gICAgICovXG4gICAgZ2V0ICgpIHtcbiAgICAgIHJldHVybiBEaXJlY3Rpb24uX3ZcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2V0cyB2YWx1ZSBvZiB0aGUgZGlyZWN0aW9uLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHZhbHVlXG4gICAgICogQHJldHVybiB7Vm9pZH1cbiAgICAgKi9cbiAgICBzZXQgKHZhbHVlKSB7XG4gICAgICBpZiAoVkFMSURfRElSRUNUSU9OUy5pbmRleE9mKHZhbHVlKSA+IC0xKSB7XG4gICAgICAgIERpcmVjdGlvbi5fdiA9IHZhbHVlXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB3YXJuKCdEaXJlY3Rpb24gdmFsdWUgbXVzdCBiZSBgbHRyYCBvciBgcnRsYCcpXG4gICAgICB9XG4gICAgfVxuICB9KVxuXG4gIC8qKlxuICAgKiBDbGVhciBkaXJlY3Rpb24gY2xhc3M6XG4gICAqIC0gb24gZGVzdHJveSB0byBicmluZyBIVE1MIHRvIGl0cyBpbml0aWFsIHN0YXRlXG4gICAqIC0gb24gdXBkYXRlIHRvIHJlbW92ZSBjbGFzcyBiZWZvcmUgcmVhcHBsaW5nIGJlbGxvd1xuICAgKi9cbiAgRXZlbnRzLm9uKFsnZGVzdHJveScsICd1cGRhdGUnXSwgKCkgPT4ge1xuICAgIERpcmVjdGlvbi5yZW1vdmVDbGFzcygpXG4gIH0pXG5cbiAgLyoqXG4gICAqIFJlbW91bnQgY29tcG9uZW50OlxuICAgKiAtIG9uIHVwZGF0ZSB0byByZWZsZWN0IGNoYW5nZXMgaW4gZGlyZWN0aW9uIHZhbHVlXG4gICAqL1xuICBFdmVudHMub24oJ3VwZGF0ZScsICgpID0+IHtcbiAgICBEaXJlY3Rpb24ubW91bnQoKVxuICB9KVxuXG4gIC8qKlxuICAgKiBBcHBseSBkaXJlY3Rpb24gY2xhc3M6XG4gICAqIC0gYmVmb3JlIGJ1aWxkaW5nIHRvIGFwcGx5IGNsYXNzIGZvciB0aGUgZmlyc3QgdGltZVxuICAgKiAtIG9uIHVwZGF0aW5nIHRvIHJlYXBwbHkgZGlyZWN0aW9uIGNsYXNzIHRoYXQgbWF5IGNoYW5nZWRcbiAgICovXG4gIEV2ZW50cy5vbihbJ2J1aWxkLmJlZm9yZScsICd1cGRhdGUnXSwgKCkgPT4ge1xuICAgIERpcmVjdGlvbi5hZGRDbGFzcygpXG4gIH0pXG5cbiAgcmV0dXJuIERpcmVjdGlvblxufVxuIiwiLyoqXG4gKiBSZWZsZWN0cyB2YWx1ZSBvZiBnbGlkZSBtb3ZlbWVudC5cbiAqXG4gKiBAcGFyYW0gIHtPYmplY3R9IEdsaWRlXG4gKiBAcGFyYW0gIHtPYmplY3R9IENvbXBvbmVudHNcbiAqIEByZXR1cm4ge09iamVjdH1cbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKEdsaWRlLCBDb21wb25lbnRzKSB7XG4gIHJldHVybiB7XG4gICAgLyoqXG4gICAgICogTmVnYXRlcyB0aGUgcGFzc2VkIHRyYW5zbGF0ZSBpZiBnbGlkZSBpcyBpbiBSVEwgb3B0aW9uLlxuICAgICAqXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSB0cmFuc2xhdGVcbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9XG4gICAgICovXG4gICAgbW9kaWZ5ICh0cmFuc2xhdGUpIHtcbiAgICAgIGlmIChDb21wb25lbnRzLkRpcmVjdGlvbi5pcygncnRsJykpIHtcbiAgICAgICAgcmV0dXJuIC10cmFuc2xhdGVcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRyYW5zbGF0ZVxuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IHsgd2FybiB9IGZyb20gJy4uL3V0aWxzL2xvZydcbmltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tICcuLi91dGlscy91bml0J1xuXG5pbXBvcnQgUnRsIGZyb20gJy4vdHJhbnNmb3JtZXJzL3J0bCdcbmltcG9ydCBHYXAgZnJvbSAnLi90cmFuc2Zvcm1lcnMvZ2FwJ1xuaW1wb3J0IEdyb3cgZnJvbSAnLi90cmFuc2Zvcm1lcnMvZ3JvdydcbmltcG9ydCBQZWVraW5nIGZyb20gJy4vdHJhbnNmb3JtZXJzL3BlZWtpbmcnXG5pbXBvcnQgRm9jdXNpbmcgZnJvbSAnLi90cmFuc2Zvcm1lcnMvZm9jdXNpbmcnXG5cbi8qKlxuICogQXBwbGllcyBkaWZmcmVudCB0cmFuc2Zvcm1lcnMgb24gdHJhbnNsYXRlIHZhbHVlLlxuICpcbiAqIEBwYXJhbSAge09iamVjdH0gR2xpZGVcbiAqIEBwYXJhbSAge09iamVjdH0gQ29tcG9uZW50c1xuICogQHJldHVybiB7T2JqZWN0fVxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoR2xpZGUsIENvbXBvbmVudHMsIEV2ZW50cykge1xuICAvKipcbiAgICogTWVyZ2UgaW5zdGFuY2UgdHJhbnNmb3JtZXJzIHdpdGggY29sbGVjdGlvbiBvZiBkZWZhdWx0IHRyYW5zZm9ybWVycy5cbiAgICogSXQncyBpbXBvcnRhbnQgdGhhdCB0aGUgUnRsIGNvbXBvbmVudCBiZSBsYXN0IG9uIHRoZSBsaXN0LFxuICAgKiBzbyBpdCByZWZsZWN0cyBhbGwgcHJldmlvdXMgdHJhbnNmb3JtYXRpb25zLlxuICAgKlxuICAgKiBAdHlwZSB7QXJyYXl9XG4gICAqL1xuICBsZXQgVFJBTlNGT1JNRVJTID0gW1xuICAgIEdhcCxcbiAgICBHcm93LFxuICAgIFBlZWtpbmcsXG4gICAgRm9jdXNpbmdcbiAgXS5jb25jYXQoR2xpZGUuX3QsIFtSdGxdKVxuXG4gIHJldHVybiB7XG4gICAgLyoqXG4gICAgICogUGlwbGluZXMgdHJhbnNsYXRlIHZhbHVlIHdpdGggcmVnaXN0ZXJlZCB0cmFuc2Zvcm1lcnMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IHRyYW5zbGF0ZVxuICAgICAqIEByZXR1cm4ge051bWJlcn1cbiAgICAgKi9cbiAgICBtdXRhdGUgKHRyYW5zbGF0ZSkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBUUkFOU0ZPUk1FUlMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGV0IHRyYW5zZm9ybWVyID0gVFJBTlNGT1JNRVJTW2ldXG5cbiAgICAgICAgaWYgKGlzRnVuY3Rpb24odHJhbnNmb3JtZXIpICYmIGlzRnVuY3Rpb24odHJhbnNmb3JtZXIoKS5tb2RpZnkpKSB7XG4gICAgICAgICAgdHJhbnNsYXRlID0gdHJhbnNmb3JtZXIoR2xpZGUsIENvbXBvbmVudHMsIEV2ZW50cykubW9kaWZ5KHRyYW5zbGF0ZSlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB3YXJuKCdUcmFuc2Zvcm1lciBzaG91bGQgYmUgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYW4gb2JqZWN0IHdpdGggYG1vZGlmeSgpYCBtZXRob2QnKVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0cmFuc2xhdGVcbiAgICB9XG4gIH1cbn1cbiIsIi8qKlxuICogVXBkYXRlcyBnbGlkZSBtb3ZlbWVudCB3aXRoIGEgYGdhcGAgc2V0dGluZ3MuXG4gKlxuICogQHBhcmFtICB7T2JqZWN0fSBHbGlkZVxuICogQHBhcmFtICB7T2JqZWN0fSBDb21wb25lbnRzXG4gKiBAcmV0dXJuIHtPYmplY3R9XG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIChHbGlkZSwgQ29tcG9uZW50cykge1xuICByZXR1cm4ge1xuICAgIC8qKlxuICAgICAqIE1vZGlmaWVzIHBhc3NlZCB0cmFuc2xhdGUgdmFsdWUgd2l0aCBudW1iZXIgaW4gdGhlIGBnYXBgIHNldHRpbmdzLlxuICAgICAqXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSB0cmFuc2xhdGVcbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9XG4gICAgICovXG4gICAgbW9kaWZ5ICh0cmFuc2xhdGUpIHtcbiAgICAgIGNvbnN0IG11bHRpcGxpZXIgPSBNYXRoLmZsb29yKHRyYW5zbGF0ZSAvIENvbXBvbmVudHMuU2l6ZXMuc2xpZGVXaWR0aClcbiAgICAgIHJldHVybiB0cmFuc2xhdGUgKyAoQ29tcG9uZW50cy5HYXBzLnZhbHVlICogbXVsdGlwbGllcilcbiAgICB9XG4gIH1cbn1cbiIsIi8qKlxuICogVXBkYXRlcyBnbGlkZSBtb3ZlbWVudCB3aXRoIHdpZHRoIG9mIGFkZGl0aW9uYWwgY2xvbmVzIHdpZHRoLlxuICpcbiAqIEBwYXJhbSAge09iamVjdH0gR2xpZGVcbiAqIEBwYXJhbSAge09iamVjdH0gQ29tcG9uZW50c1xuICogQHJldHVybiB7T2JqZWN0fVxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoR2xpZGUsIENvbXBvbmVudHMpIHtcbiAgcmV0dXJuIHtcbiAgICAvKipcbiAgICAgKiBBZGRzIHRvIHRoZSBwYXNzZWQgdHJhbnNsYXRlIHdpZHRoIG9mIHRoZSBoYWxmIG9mIGNsb25lcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSAge051bWJlcn0gdHJhbnNsYXRlXG4gICAgICogQHJldHVybiB7TnVtYmVyfVxuICAgICAqL1xuICAgIG1vZGlmeSAodHJhbnNsYXRlKSB7XG4gICAgICByZXR1cm4gdHJhbnNsYXRlICsgKENvbXBvbmVudHMuQ2xvbmVzLmdyb3cgLyAyKVxuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IHsgaXNPYmplY3QgfSBmcm9tICcuLi8uLi91dGlscy91bml0J1xuXG4vKipcbiAqIFVwZGF0ZXMgZ2xpZGUgbW92ZW1lbnQgd2l0aCBhIGBwZWVrYCBzZXR0aW5ncy5cbiAqXG4gKiBAcGFyYW0gIHtPYmplY3R9IEdsaWRlXG4gKiBAcGFyYW0gIHtPYmplY3R9IENvbXBvbmVudHNcbiAqIEByZXR1cm4ge09iamVjdH1cbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKEdsaWRlLCBDb21wb25lbnRzKSB7XG4gIHJldHVybiB7XG4gICAgLyoqXG4gICAgICogTW9kaWZpZXMgcGFzc2VkIHRyYW5zbGF0ZSB2YWx1ZSB3aXRoIGEgYHBlZWtgIHNldHRpbmcuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IHRyYW5zbGF0ZVxuICAgICAqIEByZXR1cm4ge051bWJlcn1cbiAgICAgKi9cbiAgICBtb2RpZnkgKHRyYW5zbGF0ZSkge1xuICAgICAgaWYgKEdsaWRlLnNldHRpbmdzLmZvY3VzQXQgPj0gMCkge1xuICAgICAgICBsZXQgcGVlayA9IENvbXBvbmVudHMuUGVlay52YWx1ZVxuXG4gICAgICAgIGlmIChpc09iamVjdChwZWVrKSkge1xuICAgICAgICAgIHJldHVybiB0cmFuc2xhdGUgLSBwZWVrLmJlZm9yZVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRyYW5zbGF0ZSAtIHBlZWtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRyYW5zbGF0ZVxuICAgIH1cbiAgfVxufVxuIiwiLyoqXG4gKiBVcGRhdGVzIGdsaWRlIG1vdmVtZW50IHdpdGggYSBgZm9jdXNBdGAgc2V0dGluZ3MuXG4gKlxuICogQHBhcmFtICB7T2JqZWN0fSBHbGlkZVxuICogQHBhcmFtICB7T2JqZWN0fSBDb21wb25lbnRzXG4gKiBAcmV0dXJuIHtPYmplY3R9XG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIChHbGlkZSwgQ29tcG9uZW50cykge1xuICByZXR1cm4ge1xuICAgIC8qKlxuICAgICAqIE1vZGlmaWVzIHBhc3NlZCB0cmFuc2xhdGUgdmFsdWUgd2l0aCBpbmRleCBpbiB0aGUgYGZvY3VzQXRgIHNldHRpbmcuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IHRyYW5zbGF0ZVxuICAgICAqIEByZXR1cm4ge051bWJlcn1cbiAgICAgKi9cbiAgICBtb2RpZnkgKHRyYW5zbGF0ZSkge1xuICAgICAgbGV0IGdhcCA9IENvbXBvbmVudHMuR2Fwcy52YWx1ZVxuICAgICAgbGV0IHdpZHRoID0gQ29tcG9uZW50cy5TaXplcy53aWR0aFxuICAgICAgbGV0IGZvY3VzQXQgPSBHbGlkZS5zZXR0aW5ncy5mb2N1c0F0XG4gICAgICBsZXQgc2xpZGVXaWR0aCA9IENvbXBvbmVudHMuU2l6ZXMuc2xpZGVXaWR0aFxuXG4gICAgICBpZiAoZm9jdXNBdCA9PT0gJ2NlbnRlcicpIHtcbiAgICAgICAgcmV0dXJuIHRyYW5zbGF0ZSAtICh3aWR0aCAvIDIgLSBzbGlkZVdpZHRoIC8gMilcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRyYW5zbGF0ZSAtIChzbGlkZVdpZHRoICogZm9jdXNBdCkgLSAoZ2FwICogZm9jdXNBdClcbiAgICB9XG4gIH1cbn1cbiIsIi8qKlxuICogVGVzdCB2aWEgYSBnZXR0ZXIgaW4gdGhlIG9wdGlvbnMgb2JqZWN0IHRvIHNlZVxuICogaWYgdGhlIHBhc3NpdmUgcHJvcGVydHkgaXMgYWNjZXNzZWQuXG4gKlxuICogQHNlZSBodHRwczovL2dpdGh1Yi5jb20vV0lDRy9FdmVudExpc3RlbmVyT3B0aW9ucy9ibG9iL2doLXBhZ2VzL2V4cGxhaW5lci5tZCNmZWF0dXJlLWRldGVjdGlvblxuICovXG5cbmxldCBzdXBwb3J0c1Bhc3NpdmUgPSBmYWxzZVxuXG50cnkge1xuICBsZXQgb3B0cyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwgJ3Bhc3NpdmUnLCB7XG4gICAgZ2V0ICgpIHtcbiAgICAgIHN1cHBvcnRzUGFzc2l2ZSA9IHRydWVcbiAgICB9XG4gIH0pXG5cbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Rlc3RQYXNzaXZlJywgbnVsbCwgb3B0cylcbiAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Rlc3RQYXNzaXZlJywgbnVsbCwgb3B0cylcbn0gY2F0Y2ggKGUpIHt9XG5cbmV4cG9ydCBkZWZhdWx0IHN1cHBvcnRzUGFzc2l2ZVxuIiwiaW1wb3J0IHsgdGhyb3R0bGUgfSBmcm9tICcuLi91dGlscy93YWl0J1xuaW1wb3J0IHsgdG9JbnQsIHRvRmxvYXQgfSBmcm9tICcuLi91dGlscy91bml0J1xuaW1wb3J0IHN1cHBvcnRzUGFzc2l2ZSBmcm9tICcuLi91dGlscy9kZXRlY3QtcGFzc2l2ZS1ldmVudCdcblxuaW1wb3J0IEV2ZW50c0JpbmRlciBmcm9tICcuLi9jb3JlL2V2ZW50L2V2ZW50cy1iaW5kZXInXG5cbmNvbnN0IFNUQVJUX0VWRU5UUyA9IFsndG91Y2hzdGFydCcsICdtb3VzZWRvd24nXVxuY29uc3QgTU9WRV9FVkVOVFMgPSBbJ3RvdWNobW92ZScsICdtb3VzZW1vdmUnXVxuY29uc3QgRU5EX0VWRU5UUyA9IFsndG91Y2hlbmQnLCAndG91Y2hjYW5jZWwnLCAnbW91c2V1cCcsICdtb3VzZWxlYXZlJ11cbmNvbnN0IE1PVVNFX0VWRU5UUyA9IFsnbW91c2Vkb3duJywgJ21vdXNlbW92ZScsICdtb3VzZXVwJywgJ21vdXNlbGVhdmUnXVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoR2xpZGUsIENvbXBvbmVudHMsIEV2ZW50cykge1xuICAvKipcbiAgICogSW5zdGFuY2Ugb2YgdGhlIGJpbmRlciBmb3IgRE9NIEV2ZW50cy5cbiAgICpcbiAgICogQHR5cGUge0V2ZW50c0JpbmRlcn1cbiAgICovXG4gIGNvbnN0IEJpbmRlciA9IG5ldyBFdmVudHNCaW5kZXIoKVxuXG4gIGxldCBzd2lwZVNpbiA9IDBcbiAgbGV0IHN3aXBlU3RhcnRYID0gMFxuICBsZXQgc3dpcGVTdGFydFkgPSAwXG4gIGxldCBkaXNhYmxlZCA9IGZhbHNlXG4gIGxldCBjYXB0dXJlID0gKHN1cHBvcnRzUGFzc2l2ZSkgPyB7IHBhc3NpdmU6IHRydWUgfSA6IGZhbHNlXG5cbiAgY29uc3QgU3dpcGUgPSB7XG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZXMgc3dpcGUgYmluZGluZ3MuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtWb2lkfVxuICAgICAqL1xuICAgIG1vdW50ICgpIHtcbiAgICAgIHRoaXMuYmluZFN3aXBlU3RhcnQoKVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBIYW5kbGVyIGZvciBgc3dpcGVzdGFydGAgZXZlbnQuIENhbGN1bGF0ZXMgZW50cnkgcG9pbnRzIG9mIHRoZSB1c2VyJ3MgdGFwLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGV2ZW50XG4gICAgICogQHJldHVybiB7Vm9pZH1cbiAgICAgKi9cbiAgICBzdGFydCAoZXZlbnQpIHtcbiAgICAgIGlmICghZGlzYWJsZWQgJiYgIUdsaWRlLmRpc2FibGVkKSB7XG4gICAgICAgIHRoaXMuZGlzYWJsZSgpXG5cbiAgICAgICAgbGV0IHN3aXBlID0gdGhpcy50b3VjaGVzKGV2ZW50KVxuXG4gICAgICAgIHN3aXBlU2luID0gbnVsbFxuICAgICAgICBzd2lwZVN0YXJ0WCA9IHRvSW50KHN3aXBlLnBhZ2VYKVxuICAgICAgICBzd2lwZVN0YXJ0WSA9IHRvSW50KHN3aXBlLnBhZ2VZKVxuXG4gICAgICAgIHRoaXMuYmluZFN3aXBlTW92ZSgpXG4gICAgICAgIHRoaXMuYmluZFN3aXBlRW5kKClcblxuICAgICAgICBFdmVudHMuZW1pdCgnc3dpcGUuc3RhcnQnKVxuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBIYW5kbGVyIGZvciBgc3dpcGVtb3ZlYCBldmVudC4gQ2FsY3VsYXRlcyB1c2VyJ3MgdGFwIGFuZ2xlIGFuZCBkaXN0YW5jZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBldmVudFxuICAgICAqL1xuICAgIG1vdmUgKGV2ZW50KSB7XG4gICAgICBpZiAoIUdsaWRlLmRpc2FibGVkKSB7XG4gICAgICAgIGxldCB7IHRvdWNoQW5nbGUsIHRvdWNoUmF0aW8sIGNsYXNzZXMgfSA9IEdsaWRlLnNldHRpbmdzXG5cbiAgICAgICAgbGV0IHN3aXBlID0gdGhpcy50b3VjaGVzKGV2ZW50KVxuXG4gICAgICAgIGxldCBzdWJFeFN4ID0gdG9JbnQoc3dpcGUucGFnZVgpIC0gc3dpcGVTdGFydFhcbiAgICAgICAgbGV0IHN1YkV5U3kgPSB0b0ludChzd2lwZS5wYWdlWSkgLSBzd2lwZVN0YXJ0WVxuICAgICAgICBsZXQgcG93RVggPSBNYXRoLmFicyhzdWJFeFN4IDw8IDIpXG4gICAgICAgIGxldCBwb3dFWSA9IE1hdGguYWJzKHN1YkV5U3kgPDwgMilcbiAgICAgICAgbGV0IHN3aXBlSHlwb3RlbnVzZSA9IE1hdGguc3FydChwb3dFWCArIHBvd0VZKVxuICAgICAgICBsZXQgc3dpcGVDYXRoZXR1cyA9IE1hdGguc3FydChwb3dFWSlcblxuICAgICAgICBzd2lwZVNpbiA9IE1hdGguYXNpbihzd2lwZUNhdGhldHVzIC8gc3dpcGVIeXBvdGVudXNlKVxuXG4gICAgICAgIGlmIChzd2lwZVNpbiAqIDE4MCAvIE1hdGguUEkgPCB0b3VjaEFuZ2xlKSB7XG4gICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKClcblxuICAgICAgICAgIENvbXBvbmVudHMuTW92ZS5tYWtlKHN1YkV4U3ggKiB0b0Zsb2F0KHRvdWNoUmF0aW8pKVxuXG4gICAgICAgICAgQ29tcG9uZW50cy5IdG1sLnJvb3QuY2xhc3NMaXN0LmFkZChjbGFzc2VzLmRyYWdnaW5nKVxuXG4gICAgICAgICAgRXZlbnRzLmVtaXQoJ3N3aXBlLm1vdmUnKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEhhbmRsZXIgZm9yIGBzd2lwZWVuZGAgZXZlbnQuIEZpbml0aWFsaXplcyB1c2VyJ3MgdGFwIGFuZCBkZWNpZGVzIGFib3V0IGdsaWRlIG1vdmUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZXZlbnRcbiAgICAgKiBAcmV0dXJuIHtWb2lkfVxuICAgICAqL1xuICAgIGVuZCAoZXZlbnQpIHtcbiAgICAgIGlmICghR2xpZGUuZGlzYWJsZWQpIHtcbiAgICAgICAgbGV0IHNldHRpbmdzID0gR2xpZGUuc2V0dGluZ3NcblxuICAgICAgICBsZXQgc3dpcGUgPSB0aGlzLnRvdWNoZXMoZXZlbnQpXG4gICAgICAgIGxldCB0aHJlc2hvbGQgPSB0aGlzLnRocmVzaG9sZChldmVudClcblxuICAgICAgICBsZXQgc3dpcGVEaXN0YW5jZSA9IHN3aXBlLnBhZ2VYIC0gc3dpcGVTdGFydFhcbiAgICAgICAgbGV0IHN3aXBlRGVnID0gc3dpcGVTaW4gKiAxODAgLyBNYXRoLlBJXG4gICAgICAgIGxldCBzdGVwcyA9IE1hdGgucm91bmQoc3dpcGVEaXN0YW5jZSAvIENvbXBvbmVudHMuU2l6ZXMuc2xpZGVXaWR0aClcblxuICAgICAgICB0aGlzLmVuYWJsZSgpXG5cbiAgICAgICAgaWYgKHN3aXBlRGlzdGFuY2UgPiB0aHJlc2hvbGQgJiYgc3dpcGVEZWcgPCBzZXR0aW5ncy50b3VjaEFuZ2xlKSB7XG4gICAgICAgICAgLy8gV2hpbGUgc3dpcGUgaXMgcG9zaXRpdmUgYW5kIGdyZWF0ZXIgdGhhbiB0aHJlc2hvbGQgbW92ZSBiYWNrd2FyZC5cbiAgICAgICAgICBpZiAoc2V0dGluZ3MucGVyVG91Y2gpIHtcbiAgICAgICAgICAgIHN0ZXBzID0gTWF0aC5taW4oc3RlcHMsIHRvSW50KHNldHRpbmdzLnBlclRvdWNoKSlcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoQ29tcG9uZW50cy5EaXJlY3Rpb24uaXMoJ3J0bCcpKSB7XG4gICAgICAgICAgICBzdGVwcyA9IC1zdGVwc1xuICAgICAgICAgIH1cblxuICAgICAgICAgIENvbXBvbmVudHMuUnVuLm1ha2UoQ29tcG9uZW50cy5EaXJlY3Rpb24ucmVzb2x2ZShgPCR7c3RlcHN9YCkpXG4gICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgc3dpcGVEaXN0YW5jZSA8IC10aHJlc2hvbGQgJiZcbiAgICAgICAgICBzd2lwZURlZyA8IHNldHRpbmdzLnRvdWNoQW5nbGVcbiAgICAgICAgKSB7XG4gICAgICAgICAgLy8gV2hpbGUgc3dpcGUgaXMgbmVnYXRpdmUgYW5kIGxvd2VyIHRoYW4gbmVnYXRpdmUgdGhyZXNob2xkIG1vdmUgZm9yd2FyZC5cbiAgICAgICAgICBpZiAoc2V0dGluZ3MucGVyVG91Y2gpIHtcbiAgICAgICAgICAgIHN0ZXBzID0gTWF0aC5tYXgoc3RlcHMsIC10b0ludChzZXR0aW5ncy5wZXJUb3VjaCkpXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKENvbXBvbmVudHMuRGlyZWN0aW9uLmlzKCdydGwnKSkge1xuICAgICAgICAgICAgc3RlcHMgPSAtc3RlcHNcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBDb21wb25lbnRzLlJ1bi5tYWtlKENvbXBvbmVudHMuRGlyZWN0aW9uLnJlc29sdmUoYD4ke3N0ZXBzfWApKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIFdoaWxlIHN3aXBlIGRvbid0IHJlYWNoIGRpc3RhbmNlIGFwcGx5IHByZXZpb3VzIHRyYW5zZm9ybS5cbiAgICAgICAgICBDb21wb25lbnRzLk1vdmUubWFrZSgpXG4gICAgICAgIH1cblxuICAgICAgICBDb21wb25lbnRzLkh0bWwucm9vdC5jbGFzc0xpc3QucmVtb3ZlKHNldHRpbmdzLmNsYXNzZXMuZHJhZ2dpbmcpXG5cbiAgICAgICAgdGhpcy51bmJpbmRTd2lwZU1vdmUoKVxuICAgICAgICB0aGlzLnVuYmluZFN3aXBlRW5kKClcblxuICAgICAgICBFdmVudHMuZW1pdCgnc3dpcGUuZW5kJylcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQmluZHMgc3dpcGUncyBzdGFydGluZyBldmVudC5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1ZvaWR9XG4gICAgICovXG4gICAgYmluZFN3aXBlU3RhcnQgKCkge1xuICAgICAgbGV0IHNldHRpbmdzID0gR2xpZGUuc2V0dGluZ3NcblxuICAgICAgaWYgKHNldHRpbmdzLnN3aXBlVGhyZXNob2xkKSB7XG4gICAgICAgIEJpbmRlci5vbihTVEFSVF9FVkVOVFNbMF0sIENvbXBvbmVudHMuSHRtbC53cmFwcGVyLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICB0aGlzLnN0YXJ0KGV2ZW50KVxuICAgICAgICB9LCBjYXB0dXJlKVxuICAgICAgfVxuXG4gICAgICBpZiAoc2V0dGluZ3MuZHJhZ1RocmVzaG9sZCkge1xuICAgICAgICBCaW5kZXIub24oU1RBUlRfRVZFTlRTWzFdLCBDb21wb25lbnRzLkh0bWwud3JhcHBlciwgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgdGhpcy5zdGFydChldmVudClcbiAgICAgICAgfSwgY2FwdHVyZSlcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogVW5iaW5kcyBzd2lwZSdzIHN0YXJ0aW5nIGV2ZW50LlxuICAgICAqXG4gICAgICogQHJldHVybiB7Vm9pZH1cbiAgICAgKi9cbiAgICB1bmJpbmRTd2lwZVN0YXJ0ICgpIHtcbiAgICAgIEJpbmRlci5vZmYoU1RBUlRfRVZFTlRTWzBdLCBDb21wb25lbnRzLkh0bWwud3JhcHBlciwgY2FwdHVyZSlcbiAgICAgIEJpbmRlci5vZmYoU1RBUlRfRVZFTlRTWzFdLCBDb21wb25lbnRzLkh0bWwud3JhcHBlciwgY2FwdHVyZSlcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQmluZHMgc3dpcGUncyBtb3ZpbmcgZXZlbnQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtWb2lkfVxuICAgICAqL1xuICAgIGJpbmRTd2lwZU1vdmUgKCkge1xuICAgICAgQmluZGVyLm9uKE1PVkVfRVZFTlRTLCBDb21wb25lbnRzLkh0bWwud3JhcHBlciwgdGhyb3R0bGUoKGV2ZW50KSA9PiB7XG4gICAgICAgIHRoaXMubW92ZShldmVudClcbiAgICAgIH0sIEdsaWRlLnNldHRpbmdzLnRocm90dGxlKSwgY2FwdHVyZSlcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogVW5iaW5kcyBzd2lwZSdzIG1vdmluZyBldmVudC5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1ZvaWR9XG4gICAgICovXG4gICAgdW5iaW5kU3dpcGVNb3ZlICgpIHtcbiAgICAgIEJpbmRlci5vZmYoTU9WRV9FVkVOVFMsIENvbXBvbmVudHMuSHRtbC53cmFwcGVyLCBjYXB0dXJlKVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBCaW5kcyBzd2lwZSdzIGVuZGluZyBldmVudC5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1ZvaWR9XG4gICAgICovXG4gICAgYmluZFN3aXBlRW5kICgpIHtcbiAgICAgIEJpbmRlci5vbihFTkRfRVZFTlRTLCBDb21wb25lbnRzLkh0bWwud3JhcHBlciwgKGV2ZW50KSA9PiB7XG4gICAgICAgIHRoaXMuZW5kKGV2ZW50KVxuICAgICAgfSlcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogVW5iaW5kcyBzd2lwZSdzIGVuZGluZyBldmVudC5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1ZvaWR9XG4gICAgICovXG4gICAgdW5iaW5kU3dpcGVFbmQgKCkge1xuICAgICAgQmluZGVyLm9mZihFTkRfRVZFTlRTLCBDb21wb25lbnRzLkh0bWwud3JhcHBlcilcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogTm9ybWFsaXplcyBldmVudCB0b3VjaGVzIHBvaW50cyBhY2NvcnRpbmcgdG8gZGlmZmVyZW50IHR5cGVzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGV2ZW50XG4gICAgICovXG4gICAgdG91Y2hlcyAoZXZlbnQpIHtcbiAgICAgIGlmIChNT1VTRV9FVkVOVFMuaW5kZXhPZihldmVudC50eXBlKSA+IC0xKSB7XG4gICAgICAgIHJldHVybiBldmVudFxuICAgICAgfVxuXG4gICAgICByZXR1cm4gZXZlbnQudG91Y2hlc1swXSB8fCBldmVudC5jaGFuZ2VkVG91Y2hlc1swXVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHZhbHVlIG9mIG1pbmltdW0gc3dpcGUgZGlzdGFuY2Ugc2V0dGluZ3MgYmFzZWQgb24gZXZlbnQgdHlwZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge051bWJlcn1cbiAgICAgKi9cbiAgICB0aHJlc2hvbGQgKGV2ZW50KSB7XG4gICAgICBsZXQgc2V0dGluZ3MgPSBHbGlkZS5zZXR0aW5nc1xuXG4gICAgICBpZiAoTU9VU0VfRVZFTlRTLmluZGV4T2YoZXZlbnQudHlwZSkgPiAtMSkge1xuICAgICAgICByZXR1cm4gc2V0dGluZ3MuZHJhZ1RocmVzaG9sZFxuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2V0dGluZ3Muc3dpcGVUaHJlc2hvbGRcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogRW5hYmxlcyBzd2lwZSBldmVudC5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge3NlbGZ9XG4gICAgICovXG4gICAgZW5hYmxlICgpIHtcbiAgICAgIGRpc2FibGVkID0gZmFsc2VcblxuICAgICAgQ29tcG9uZW50cy5UcmFuc2l0aW9uLmVuYWJsZSgpXG5cbiAgICAgIHJldHVybiB0aGlzXG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIERpc2FibGVzIHN3aXBlIGV2ZW50LlxuICAgICAqXG4gICAgICogQHJldHVybiB7c2VsZn1cbiAgICAgKi9cbiAgICBkaXNhYmxlICgpIHtcbiAgICAgIGRpc2FibGVkID0gdHJ1ZVxuXG4gICAgICBDb21wb25lbnRzLlRyYW5zaXRpb24uZGlzYWJsZSgpXG5cbiAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEFkZCBjb21wb25lbnQgY2xhc3M6XG4gICAqIC0gYWZ0ZXIgaW5pdGlhbCBidWlsZGluZ1xuICAgKi9cbiAgRXZlbnRzLm9uKCdidWlsZC5hZnRlcicsICgpID0+IHtcbiAgICBDb21wb25lbnRzLkh0bWwucm9vdC5jbGFzc0xpc3QuYWRkKEdsaWRlLnNldHRpbmdzLmNsYXNzZXMuc3dpcGVhYmxlKVxuICB9KVxuXG4gIC8qKlxuICAgKiBSZW1vdmUgc3dpcGluZyBiaW5kaW5nczpcbiAgICogLSBvbiBkZXN0cm95aW5nLCB0byByZW1vdmUgYWRkZWQgRXZlbnRMaXN0ZW5lcnNcbiAgICovXG4gIEV2ZW50cy5vbignZGVzdHJveScsICgpID0+IHtcbiAgICBTd2lwZS51bmJpbmRTd2lwZVN0YXJ0KClcbiAgICBTd2lwZS51bmJpbmRTd2lwZU1vdmUoKVxuICAgIFN3aXBlLnVuYmluZFN3aXBlRW5kKClcbiAgICBCaW5kZXIuZGVzdHJveSgpXG4gIH0pXG5cbiAgcmV0dXJuIFN3aXBlXG59XG4iLCJpbXBvcnQgeyB3YXJuIH0gZnJvbSAnLi4vdXRpbHMvbG9nJ1xuaW1wb3J0IHsgdGhyb3R0bGUgfSBmcm9tICcuLi91dGlscy93YWl0J1xuaW1wb3J0IHsgaXNPYmplY3QgfSBmcm9tICcuLi91dGlscy91bml0J1xuaW1wb3J0IHsgc29ydEtleXMsIG1lcmdlT3B0aW9ucyB9IGZyb20gJy4uL3V0aWxzL29iamVjdCdcblxuaW1wb3J0IEV2ZW50c0JpbmRlciBmcm9tICcuLi9jb3JlL2V2ZW50L2V2ZW50cy1iaW5kZXInXG5cbi8qKlxuICogU29ydHMga2V5cyBvZiBicmVha3BvaW50IG9iamVjdCBzbyB0aGV5IHdpbGwgYmUgb3JkZXJlZCBmcm9tIGxvd2VyIHRvIGJpZ2dlci5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gcG9pbnRzXG4gKiBAcmV0dXJucyB7T2JqZWN0fVxuICovXG5mdW5jdGlvbiBzb3J0QnJlYWtwb2ludHMgKHBvaW50cykge1xuICBpZiAoaXNPYmplY3QocG9pbnRzKSkge1xuICAgIHJldHVybiBzb3J0S2V5cyhwb2ludHMpXG4gIH0gZWxzZSB7XG4gICAgd2FybihgQnJlYWtwb2ludHMgb3B0aW9uIG11c3QgYmUgYW4gb2JqZWN0YClcbiAgfVxuXG4gIHJldHVybiB7fVxufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoR2xpZGUsIENvbXBvbmVudHMsIEV2ZW50cykge1xuICAvKipcbiAgICogSW5zdGFuY2Ugb2YgdGhlIGJpbmRlciBmb3IgRE9NIEV2ZW50cy5cbiAgICpcbiAgICogQHR5cGUge0V2ZW50c0JpbmRlcn1cbiAgICovXG4gIGNvbnN0IEJpbmRlciA9IG5ldyBFdmVudHNCaW5kZXIoKVxuXG4gIC8qKlxuICAgKiBIb2xkcyByZWZlcmVuY2UgdG8gc2V0dGluZ3MuXG4gICAqXG4gICAqIEB0eXBlIHtPYmplY3R9XG4gICAqL1xuICBsZXQgc2V0dGluZ3MgPSBHbGlkZS5zZXR0aW5nc1xuXG4gIC8qKlxuICAgKiBIb2xkcyByZWZlcmVuY2UgdG8gYnJlYWtwb2ludHMgb2JqZWN0IGluIHNldHRpbmdzLiBTb3J0cyBicmVha3BvaW50c1xuICAgKiBmcm9tIHNtYWxsZXIgdG8gbGFyZ2VyLiBJdCBpcyByZXF1aXJlZCBpbiBvcmRlciB0byBwcm9wZXJcbiAgICogbWF0Y2hpbmcgY3VycmVudGx5IGFjdGl2ZSBicmVha3BvaW50IHNldHRpbmdzLlxuICAgKlxuICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgKi9cbiAgbGV0IHBvaW50cyA9IHNvcnRCcmVha3BvaW50cyhzZXR0aW5ncy5icmVha3BvaW50cylcblxuICAvKipcbiAgICogQ2FjaGUgaW5pdGlhbCBzZXR0aW5ncyBiZWZvcmUgb3ZlcndyaXR0aW5nLlxuICAgKlxuICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgKi9cbiAgbGV0IGRlZmF1bHRzID0gT2JqZWN0LmFzc2lnbih7fSwgc2V0dGluZ3MpXG5cbiAgY29uc3QgQnJlYWtwb2ludHMgPSB7XG4gICAgLyoqXG4gICAgICogTWF0Y2hlcyBzZXR0aW5ncyBmb3IgY3VycmVjdGx5IG1hdGNoaW5nIG1lZGlhIGJyZWFrcG9pbnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcG9pbnRzXG4gICAgICogQHJldHVybnMge09iamVjdH1cbiAgICAgKi9cbiAgICBtYXRjaCAocG9pbnRzKSB7XG4gICAgICBpZiAodHlwZW9mIHdpbmRvdy5tYXRjaE1lZGlhICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBmb3IgKGxldCBwb2ludCBpbiBwb2ludHMpIHtcbiAgICAgICAgICBpZiAocG9pbnRzLmhhc093blByb3BlcnR5KHBvaW50KSkge1xuICAgICAgICAgICAgaWYgKHdpbmRvdy5tYXRjaE1lZGlhKGAobWF4LXdpZHRoOiAke3BvaW50fXB4KWApLm1hdGNoZXMpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHBvaW50c1twb2ludF1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGRlZmF1bHRzXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIE92ZXJ3cml0ZSBpbnN0YW5jZSBzZXR0aW5ncyB3aXRoIGN1cnJlbnRseSBtYXRjaGluZyBicmVha3BvaW50IHNldHRpbmdzLlxuICAgKiBUaGlzIGhhcHBlbnMgcmlnaHQgYWZ0ZXIgY29tcG9uZW50IGluaXRpYWxpemF0aW9uLlxuICAgKi9cbiAgT2JqZWN0LmFzc2lnbihzZXR0aW5ncywgQnJlYWtwb2ludHMubWF0Y2gocG9pbnRzKSlcblxuICAvKipcbiAgICogVXBkYXRlIGdsaWRlIHdpdGggc2V0dGluZ3Mgb2YgbWF0Y2hlZCBicmVrcG9pbnQ6XG4gICAqIC0gd2luZG93IHJlc2l6ZSB0byB1cGRhdGUgc2xpZGVyXG4gICAqL1xuICBCaW5kZXIub24oJ3Jlc2l6ZScsIHdpbmRvdywgdGhyb3R0bGUoKCkgPT4ge1xuICAgIEdsaWRlLnNldHRpbmdzID0gbWVyZ2VPcHRpb25zKHNldHRpbmdzLCBCcmVha3BvaW50cy5tYXRjaChwb2ludHMpKVxuICB9LCBHbGlkZS5zZXR0aW5ncy50aHJvdHRsZSkpXG5cbiAgLyoqXG4gICAqIFJlc29ydCBhbmQgdXBkYXRlIGRlZmF1bHQgc2V0dGluZ3M6XG4gICAqIC0gb24gcmVpbml0IHZpYSBBUEksIHNvIGJyZWFrcG9pbnQgbWF0Y2hpbmcgd2lsbCBiZSBwZXJmb3JtZWQgd2l0aCBvcHRpb25zXG4gICAqL1xuICBFdmVudHMub24oJ3VwZGF0ZScsICgpID0+IHtcbiAgICBwb2ludHMgPSBzb3J0QnJlYWtwb2ludHMocG9pbnRzKVxuXG4gICAgZGVmYXVsdHMgPSBPYmplY3QuYXNzaWduKHt9LCBzZXR0aW5ncylcbiAgfSlcblxuICAvKipcbiAgICogVW5iaW5kIHJlc2l6ZSBsaXN0ZW5lcjpcbiAgICogLSBvbiBkZXN0cm95aW5nLCB0byBicmluZyBtYXJrdXAgdG8gaXRzIGluaXRpYWwgc3RhdGVcbiAgICovXG4gIEV2ZW50cy5vbignZGVzdHJveScsICgpID0+IHtcbiAgICBCaW5kZXIub2ZmKCdyZXNpemUnLCB3aW5kb3cpXG4gIH0pXG5cbiAgcmV0dXJuIEJyZWFrcG9pbnRzXG59XG4iLCJpbXBvcnQgQ29yZSBmcm9tICcuLi9zcmMvaW5kZXgnXG5cbi8vIFJlcXVpcmVkIGNvbXBvbmVudHNcbmltcG9ydCBSdW4gZnJvbSAnLi4vc3JjL2NvbXBvbmVudHMvcnVuJ1xuaW1wb3J0IEdhcHMgZnJvbSAnLi4vc3JjL2NvbXBvbmVudHMvZ2FwcydcbmltcG9ydCBIdG1sIGZyb20gJy4uL3NyYy9jb21wb25lbnRzL2h0bWwnXG5pbXBvcnQgUGVlayBmcm9tICcuLi9zcmMvY29tcG9uZW50cy9wZWVrJ1xuaW1wb3J0IE1vdmUgZnJvbSAnLi4vc3JjL2NvbXBvbmVudHMvbW92ZSdcbmltcG9ydCBTaXplcyBmcm9tICcuLi9zcmMvY29tcG9uZW50cy9zaXplcydcbmltcG9ydCBCdWlsZCBmcm9tICcuLi9zcmMvY29tcG9uZW50cy9idWlsZCdcbmltcG9ydCBDbG9uZXMgZnJvbSAnLi4vc3JjL2NvbXBvbmVudHMvY2xvbmVzJ1xuaW1wb3J0IFJlc2l6ZSBmcm9tICcuLi9zcmMvY29tcG9uZW50cy9yZXNpemUnXG5pbXBvcnQgRGlyZWN0aW9uIGZyb20gJy4uL3NyYy9jb21wb25lbnRzL2RpcmVjdGlvbidcbmltcG9ydCBUcmFuc2xhdGUgZnJvbSAnLi4vc3JjL2NvbXBvbmVudHMvdHJhbnNsYXRlJ1xuaW1wb3J0IFRyYW5zaXRpb24gZnJvbSAnLi4vc3JjL2NvbXBvbmVudHMvdHJhbnNpdGlvbidcblxuLy8gT3B0aW9uYWwgY29tcG9uZW50c1xuaW1wb3J0IFN3aXBlIGZyb20gJy4uL3NyYy9jb21wb25lbnRzL3N3aXBlJ1xuaW1wb3J0IEltYWdlcyBmcm9tICcuLi9zcmMvY29tcG9uZW50cy9pbWFnZXMnXG5pbXBvcnQgQW5jaG9ycyBmcm9tICcuLi9zcmMvY29tcG9uZW50cy9hbmNob3JzJ1xuaW1wb3J0IENvbnRyb2xzIGZyb20gJy4uL3NyYy9jb21wb25lbnRzL2NvbnRyb2xzJ1xuaW1wb3J0IEtleWJvYXJkIGZyb20gJy4uL3NyYy9jb21wb25lbnRzL2tleWJvYXJkJ1xuaW1wb3J0IEF1dG9wbGF5IGZyb20gJy4uL3NyYy9jb21wb25lbnRzL2F1dG9wbGF5J1xuaW1wb3J0IEJyZWFrcG9pbnRzIGZyb20gJy4uL3NyYy9jb21wb25lbnRzL2JyZWFrcG9pbnRzJ1xuXG5jb25zdCBDT01QT05FTlRTID0ge1xuICAvLyBSZXF1aXJlZFxuICBIdG1sLFxuICBUcmFuc2xhdGUsXG4gIFRyYW5zaXRpb24sXG4gIERpcmVjdGlvbixcbiAgUGVlayxcbiAgU2l6ZXMsXG4gIEdhcHMsXG4gIE1vdmUsXG4gIENsb25lcyxcbiAgUmVzaXplLFxuICBCdWlsZCxcbiAgUnVuLFxuXG4gIC8vIE9wdGlvbmFsXG4gIFN3aXBlLFxuICBJbWFnZXMsXG4gIEFuY2hvcnMsXG4gIENvbnRyb2xzLFxuICBLZXlib2FyZCxcbiAgQXV0b3BsYXksXG4gIEJyZWFrcG9pbnRzXG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdsaWRlIGV4dGVuZHMgQ29yZSB7XG4gIG1vdW50IChleHRlbnNpb25zID0ge30pIHtcbiAgICByZXR1cm4gc3VwZXIubW91bnQoT2JqZWN0LmFzc2lnbih7fSwgQ09NUE9ORU5UUywgZXh0ZW5zaW9ucykpXG4gIH1cbn1cbiIsImltcG9ydCBtdXRhdG9yIGZyb20gJy4uL211dGF0b3IvaW5kZXgnXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIChHbGlkZSwgQ29tcG9uZW50cywgRXZlbnRzKSB7XG4gIGNvbnN0IFRyYW5zbGF0ZSA9IHtcbiAgICAvKipcbiAgICAgKiBTZXRzIHZhbHVlIG9mIHRyYW5zbGF0ZSBvbiBIVE1MIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gdmFsdWVcbiAgICAgKiBAcmV0dXJuIHtWb2lkfVxuICAgICAqL1xuICAgIHNldCAodmFsdWUpIHtcbiAgICAgIGxldCB0cmFuc2Zvcm0gPSBtdXRhdG9yKEdsaWRlLCBDb21wb25lbnRzKS5tdXRhdGUodmFsdWUpXG5cbiAgICAgIENvbXBvbmVudHMuSHRtbC53cmFwcGVyLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUzZCgkey0xICogdHJhbnNmb3JtfXB4LCAwcHgsIDBweClgXG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgdmFsdWUgb2YgdHJhbnNsYXRlIGZyb20gSFRNTCBlbGVtZW50LlxuICAgICAqXG4gICAgICogQHJldHVybiB7Vm9pZH1cbiAgICAgKi9cbiAgICByZW1vdmUgKCkge1xuICAgICAgQ29tcG9uZW50cy5IdG1sLndyYXBwZXIuc3R5bGUudHJhbnNmb3JtID0gJydcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHJldHVybiB7bnVtYmVyfVxuICAgICAqL1xuICAgIGdldFN0YXJ0SW5kZXggKCkge1xuICAgICAgY29uc3QgbGVuZ3RoID0gQ29tcG9uZW50cy5TaXplcy5sZW5ndGhcbiAgICAgIGNvbnN0IGluZGV4ID0gR2xpZGUuaW5kZXhcbiAgICAgIGNvbnN0IHBlclZpZXcgPSBHbGlkZS5zZXR0aW5ncy5wZXJWaWV3XG5cbiAgICAgIGlmIChDb21wb25lbnRzLlJ1bi5pc09mZnNldCgnPicpIHx8IENvbXBvbmVudHMuUnVuLmlzT2Zmc2V0KCd8PicpKSB7XG4gICAgICAgIHJldHVybiBsZW5ndGggKyAoaW5kZXggLSBwZXJWaWV3KVxuICAgICAgfVxuXG4gICAgICAvLyBcIm1vZHVsbyBsZW5ndGhcIiBjb252ZXJ0cyBhbiBpbmRleCB0aGF0IGVxdWFscyBsZW5ndGggdG8gemVyb1xuICAgICAgcmV0dXJuIChpbmRleCArIHBlclZpZXcpICUgbGVuZ3RoXG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge251bWJlcn1cbiAgICAgKi9cbiAgICBnZXRUcmF2ZWxEaXN0YW5jZSAoKSB7XG4gICAgICBjb25zdCB0cmF2ZWxEaXN0YW5jZSA9IENvbXBvbmVudHMuU2l6ZXMuc2xpZGVXaWR0aCAqIEdsaWRlLnNldHRpbmdzLnBlclZpZXdcblxuICAgICAgaWYgKENvbXBvbmVudHMuUnVuLmlzT2Zmc2V0KCc+JykgfHwgQ29tcG9uZW50cy5SdW4uaXNPZmZzZXQoJ3w+JykpIHtcbiAgICAgICAgLy8gcmV2ZXJzZSB0cmF2ZWwgZGlzdGFuY2Ugc28gdGhhdCB3ZSBkb24ndCBoYXZlIHRvIGNoYW5nZSBzdWJ0cmFjdCBvcGVyYXRpb25zXG4gICAgICAgIHJldHVybiB0cmF2ZWxEaXN0YW5jZSAqIC0xXG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0cmF2ZWxEaXN0YW5jZVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgbmV3IHRyYW5zbGF0ZSB2YWx1ZTpcbiAgICogLSBvbiBtb3ZlIHRvIHJlZmxlY3QgaW5kZXggY2hhbmdlXG4gICAqIC0gb24gdXBkYXRpbmcgdmlhIEFQSSB0byByZWZsZWN0IHBvc3NpYmxlIGNoYW5nZXMgaW4gb3B0aW9uc1xuICAgKi9cbiAgRXZlbnRzLm9uKCdtb3ZlJywgKGNvbnRleHQpID0+IHtcbiAgICBpZiAoIUdsaWRlLmlzVHlwZSgnY2Fyb3VzZWwnKSB8fCAhQ29tcG9uZW50cy5SdW4uaXNPZmZzZXQoKSkge1xuICAgICAgcmV0dXJuIFRyYW5zbGF0ZS5zZXQoY29udGV4dC5tb3ZlbWVudClcbiAgICB9XG5cbiAgICBDb21wb25lbnRzLlRyYW5zaXRpb24uYWZ0ZXIoKCkgPT4ge1xuICAgICAgRXZlbnRzLmVtaXQoJ3RyYW5zbGF0ZS5qdW1wJylcblxuICAgICAgVHJhbnNsYXRlLnNldChDb21wb25lbnRzLlNpemVzLnNsaWRlV2lkdGggKiBHbGlkZS5pbmRleClcbiAgICB9KVxuXG4gICAgY29uc3Qgc3RhcnRXaWR0aCA9IENvbXBvbmVudHMuU2l6ZXMuc2xpZGVXaWR0aCAqIENvbXBvbmVudHMuVHJhbnNsYXRlLmdldFN0YXJ0SW5kZXgoKVxuICAgIHJldHVybiBUcmFuc2xhdGUuc2V0KHN0YXJ0V2lkdGggLSBDb21wb25lbnRzLlRyYW5zbGF0ZS5nZXRUcmF2ZWxEaXN0YW5jZSgpKVxuICB9KVxuXG4gIC8qKlxuICAgKiBSZW1vdmUgdHJhbnNsYXRlOlxuICAgKiAtIG9uIGRlc3Ryb3lpbmcgdG8gYnJpbmcgbWFya3VwIHRvIGl0cyBpbml0YWwgc3RhdGVcbiAgICovXG4gIEV2ZW50cy5vbignZGVzdHJveScsICgpID0+IHtcbiAgICBUcmFuc2xhdGUucmVtb3ZlKClcbiAgfSlcblxuICByZXR1cm4gVHJhbnNsYXRlXG59XG4iLCJpbXBvcnQgeyBkZWZpbmUgfSBmcm9tICcuLi91dGlscy9vYmplY3QnXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIChHbGlkZSwgQ29tcG9uZW50cywgRXZlbnRzKSB7XG4gIC8qKlxuICAgKiBIb2xkcyBpbmFjdGl2aXR5IHN0YXR1cyBvZiB0cmFuc2l0aW9uLlxuICAgKiBXaGVuIHRydWUgdHJhbnNpdGlvbiBpcyBub3QgYXBwbGllZC5cbiAgICpcbiAgICogQHR5cGUge0Jvb2xlYW59XG4gICAqL1xuICBsZXQgZGlzYWJsZWQgPSBmYWxzZVxuXG4gIGNvbnN0IFRyYW5zaXRpb24gPSB7XG4gICAgLyoqXG4gICAgICogQ29tcG9zZXMgc3RyaW5nIG9mIHRoZSBDU1MgdHJhbnNpdGlvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wZXJ0eVxuICAgICAqIEByZXR1cm4ge1N0cmluZ31cbiAgICAgKi9cbiAgICBjb21wb3NlIChwcm9wZXJ0eSkge1xuICAgICAgbGV0IHNldHRpbmdzID0gR2xpZGUuc2V0dGluZ3NcblxuICAgICAgaWYgKCFkaXNhYmxlZCkge1xuICAgICAgICByZXR1cm4gYCR7cHJvcGVydHl9ICR7dGhpcy5kdXJhdGlvbn1tcyAke3NldHRpbmdzLmFuaW1hdGlvblRpbWluZ0Z1bmN9YFxuICAgICAgfVxuXG4gICAgICByZXR1cm4gYCR7cHJvcGVydHl9IDBtcyAke3NldHRpbmdzLmFuaW1hdGlvblRpbWluZ0Z1bmN9YFxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHZhbHVlIG9mIHRyYW5zaXRpb24gb24gSFRNTCBlbGVtZW50LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmc9fSBwcm9wZXJ0eVxuICAgICAqIEByZXR1cm4ge1ZvaWR9XG4gICAgICovXG4gICAgc2V0IChwcm9wZXJ0eSA9ICd0cmFuc2Zvcm0nKSB7XG4gICAgICBDb21wb25lbnRzLkh0bWwud3JhcHBlci5zdHlsZS50cmFuc2l0aW9uID0gdGhpcy5jb21wb3NlKHByb3BlcnR5KVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIHZhbHVlIG9mIHRyYW5zaXRpb24gZnJvbSBIVE1MIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtWb2lkfVxuICAgICAqL1xuICAgIHJlbW92ZSAoKSB7XG4gICAgICBDb21wb25lbnRzLkh0bWwud3JhcHBlci5zdHlsZS50cmFuc2l0aW9uID0gJydcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUnVucyBjYWxsYmFjayBhZnRlciBhbmltYXRpb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAgICAgKiBAcmV0dXJuIHtWb2lkfVxuICAgICAqL1xuICAgIGFmdGVyIChjYWxsYmFjaykge1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGNhbGxiYWNrKClcbiAgICAgIH0sIHRoaXMuZHVyYXRpb24pXG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEVuYWJsZSB0cmFuc2l0aW9uLlxuICAgICAqXG4gICAgICogQHJldHVybiB7Vm9pZH1cbiAgICAgKi9cbiAgICBlbmFibGUgKCkge1xuICAgICAgZGlzYWJsZWQgPSBmYWxzZVxuXG4gICAgICB0aGlzLnNldCgpXG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIERpc2FibGUgdHJhbnNpdGlvbi5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1ZvaWR9XG4gICAgICovXG4gICAgZGlzYWJsZSAoKSB7XG4gICAgICBkaXNhYmxlZCA9IHRydWVcblxuICAgICAgdGhpcy5zZXQoKVxuICAgIH1cbiAgfVxuXG4gIGRlZmluZShUcmFuc2l0aW9uLCAnZHVyYXRpb24nLCB7XG4gICAgLyoqXG4gICAgICogR2V0cyBkdXJhdGlvbiBvZiB0aGUgdHJhbnNpdGlvbiBiYXNlZFxuICAgICAqIG9uIGN1cnJlbnRseSBydW5uaW5nIGFuaW1hdGlvbiB0eXBlLlxuICAgICAqXG4gICAgICogQHJldHVybiB7TnVtYmVyfVxuICAgICAqL1xuICAgIGdldCAoKSB7XG4gICAgICBsZXQgc2V0dGluZ3MgPSBHbGlkZS5zZXR0aW5nc1xuXG4gICAgICBpZiAoR2xpZGUuaXNUeXBlKCdzbGlkZXInKSAmJiBDb21wb25lbnRzLlJ1bi5vZmZzZXQpIHtcbiAgICAgICAgcmV0dXJuIHNldHRpbmdzLnJld2luZER1cmF0aW9uXG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzZXR0aW5ncy5hbmltYXRpb25EdXJhdGlvblxuICAgIH1cbiAgfSlcblxuICAvKipcbiAgICogU2V0IHRyYW5zaXRpb24gYHN0eWxlYCB2YWx1ZTpcbiAgICogLSBvbiBlYWNoIG1vdmluZywgYmVjYXVzZSBpdCBtYXkgYmUgY2xlYXJlZCBieSBvZmZzZXQgbW92ZVxuICAgKi9cbiAgRXZlbnRzLm9uKCdtb3ZlJywgKCkgPT4ge1xuICAgIFRyYW5zaXRpb24uc2V0KClcbiAgfSlcblxuICAvKipcbiAgICogRGlzYWJsZSB0cmFuc2l0aW9uOlxuICAgKiAtIGJlZm9yZSBpbml0aWFsIGJ1aWxkIHRvIGF2b2lkIHRyYW5zaXRpb25pbmcgZnJvbSBgMGAgdG8gYHN0YXJ0QXRgIGluZGV4XG4gICAqIC0gd2hpbGUgcmVzaXppbmcgd2luZG93IGFuZCByZWNhbGN1bGF0aW5nIGRpbWVudGlvbnNcbiAgICogLSBvbiBqdW1waW5nIGZyb20gb2Zmc2V0IHRyYW5zaXRpb24gYXQgc3RhcnQgYW5kIGVuZCBlZGdlcyBpbiBgY2Fyb3VzZWxgIHR5cGVcbiAgICovXG4gIEV2ZW50cy5vbihbJ2J1aWxkLmJlZm9yZScsICdyZXNpemUnLCAndHJhbnNsYXRlLmp1bXAnXSwgKCkgPT4ge1xuICAgIFRyYW5zaXRpb24uZGlzYWJsZSgpXG4gIH0pXG5cbiAgLyoqXG4gICAqIEVuYWJsZSB0cmFuc2l0aW9uOlxuICAgKiAtIG9uIGVhY2ggcnVubmluZywgYmVjYXVzZSBpdCBtYXkgYmUgZGlzYWJsZWQgYnkgb2Zmc2V0IG1vdmVcbiAgICovXG4gIEV2ZW50cy5vbigncnVuJywgKCkgPT4ge1xuICAgIFRyYW5zaXRpb24uZW5hYmxlKClcbiAgfSlcblxuICAvKipcbiAgICogUmVtb3ZlIHRyYW5zaXRpb246XG4gICAqIC0gb24gZGVzdHJveWluZyB0byBicmluZyBtYXJrdXAgdG8gaXRzIGluaXRhbCBzdGF0ZVxuICAgKi9cbiAgRXZlbnRzLm9uKCdkZXN0cm95JywgKCkgPT4ge1xuICAgIFRyYW5zaXRpb24ucmVtb3ZlKClcbiAgfSlcblxuICByZXR1cm4gVHJhbnNpdGlvblxufVxuIiwiaW1wb3J0IHsgZGVmaW5lIH0gZnJvbSAnLi4vdXRpbHMvb2JqZWN0J1xuaW1wb3J0IHsgdG9JbnQsIGlzT2JqZWN0IH0gZnJvbSAnLi4vdXRpbHMvdW5pdCdcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKEdsaWRlLCBDb21wb25lbnRzLCBFdmVudHMpIHtcbiAgY29uc3QgUGVlayA9IHtcbiAgICAvKipcbiAgICAgKiBTZXR1cHMgaG93IG11Y2ggdG8gcGVlayBiYXNlZCBvbiBzZXR0aW5ncy5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1ZvaWR9XG4gICAgICovXG4gICAgbW91bnQgKCkge1xuICAgICAgdGhpcy52YWx1ZSA9IEdsaWRlLnNldHRpbmdzLnBlZWtcbiAgICB9XG4gIH1cblxuICBkZWZpbmUoUGVlaywgJ3ZhbHVlJywge1xuICAgIC8qKlxuICAgICAqIEdldHMgdmFsdWUgb2YgdGhlIHBlZWsuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7TnVtYmVyfE9iamVjdH1cbiAgICAgKi9cbiAgICBnZXQgKCkge1xuICAgICAgcmV0dXJuIFBlZWsuX3ZcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2V0cyB2YWx1ZSBvZiB0aGUgcGVlay5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfE9iamVjdH0gdmFsdWVcbiAgICAgKiBAcmV0dXJuIHtWb2lkfVxuICAgICAqL1xuICAgIHNldCAodmFsdWUpIHtcbiAgICAgIGlmIChpc09iamVjdCh2YWx1ZSkpIHtcbiAgICAgICAgdmFsdWUuYmVmb3JlID0gdG9JbnQodmFsdWUuYmVmb3JlKVxuICAgICAgICB2YWx1ZS5hZnRlciA9IHRvSW50KHZhbHVlLmFmdGVyKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFsdWUgPSB0b0ludCh2YWx1ZSlcbiAgICAgIH1cblxuICAgICAgUGVlay5fdiA9IHZhbHVlXG4gICAgfVxuICB9KVxuXG4gIGRlZmluZShQZWVrLCAncmVkdWN0b3InLCB7XG4gICAgLyoqXG4gICAgICogR2V0cyByZWR1Y3Rpb24gdmFsdWUgY2F1c2VkIGJ5IHBlZWsuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7TnVtYmVyfVxuICAgICAqL1xuICAgIGdldCAoKSB7XG4gICAgICBsZXQgdmFsdWUgPSBQZWVrLnZhbHVlXG4gICAgICBsZXQgcGVyVmlldyA9IEdsaWRlLnNldHRpbmdzLnBlclZpZXdcblxuICAgICAgaWYgKGlzT2JqZWN0KHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gKHZhbHVlLmJlZm9yZSAvIHBlclZpZXcpICsgKHZhbHVlLmFmdGVyIC8gcGVyVmlldylcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHZhbHVlICogMiAvIHBlclZpZXdcbiAgICB9XG4gIH0pXG5cbiAgLyoqXG4gICAqIFJlY2FsY3VsYXRlIHBlZWtpbmcgc2l6ZXMgb246XG4gICAqIC0gd2hlbiByZXNpemluZyB3aW5kb3cgdG8gdXBkYXRlIHRvIHByb3BlciBwZXJjZW50c1xuICAgKi9cbiAgRXZlbnRzLm9uKFsncmVzaXplJywgJ3VwZGF0ZSddLCAoKSA9PiB7XG4gICAgUGVlay5tb3VudCgpXG4gIH0pXG5cbiAgcmV0dXJuIFBlZWtcbn1cbiIsImltcG9ydCB7IGRlZmluZSB9IGZyb20gJy4uL3V0aWxzL29iamVjdCdcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKEdsaWRlLCBDb21wb25lbnRzLCBFdmVudHMpIHtcbiAgY29uc3QgU2l6ZXMgPSB7XG4gICAgLyoqXG4gICAgICogU2V0dXBzIGRpbWVudGlvbnMgb2Ygc2xpZGVzLlxuICAgICAqXG4gICAgICogQHJldHVybiB7Vm9pZH1cbiAgICAgKi9cbiAgICBzZXR1cFNsaWRlcyAoKSB7XG4gICAgICBsZXQgd2lkdGggPSBgJHt0aGlzLnNsaWRlV2lkdGh9cHhgXG4gICAgICBsZXQgc2xpZGVzID0gQ29tcG9uZW50cy5IdG1sLnNsaWRlc1xuXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNsaWRlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBzbGlkZXNbaV0uc3R5bGUud2lkdGggPSB3aWR0aFxuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTZXR1cHMgZGltZW50aW9ucyBvZiBzbGlkZXMgd3JhcHBlci5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1ZvaWR9XG4gICAgICovXG4gICAgc2V0dXBXcmFwcGVyICgpIHtcbiAgICAgIENvbXBvbmVudHMuSHRtbC53cmFwcGVyLnN0eWxlLndpZHRoID0gYCR7dGhpcy53cmFwcGVyU2l6ZX1weGBcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhcHBsaWVkIHN0eWxlcyBmcm9tIEhUTUwgZWxlbWVudHMuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Vm9pZH1cbiAgICAgKi9cbiAgICByZW1vdmUgKCkge1xuICAgICAgbGV0IHNsaWRlcyA9IENvbXBvbmVudHMuSHRtbC5zbGlkZXNcblxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzbGlkZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgc2xpZGVzW2ldLnN0eWxlLndpZHRoID0gJydcbiAgICAgIH1cblxuICAgICAgQ29tcG9uZW50cy5IdG1sLndyYXBwZXIuc3R5bGUud2lkdGggPSAnJ1xuICAgIH1cbiAgfVxuXG4gIGRlZmluZShTaXplcywgJ2xlbmd0aCcsIHtcbiAgICAvKipcbiAgICAgKiBHZXRzIGNvdW50IG51bWJlciBvZiB0aGUgc2xpZGVzLlxuICAgICAqXG4gICAgICogQHJldHVybiB7TnVtYmVyfVxuICAgICAqL1xuICAgIGdldCAoKSB7XG4gICAgICByZXR1cm4gQ29tcG9uZW50cy5IdG1sLnNsaWRlcy5sZW5ndGhcbiAgICB9XG4gIH0pXG5cbiAgZGVmaW5lKFNpemVzLCAnd2lkdGgnLCB7XG4gICAgLyoqXG4gICAgICogR2V0cyB3aWR0aCB2YWx1ZSBvZiB0aGUgc2xpZGVyICh2aXNpYmxlIGFyZWEpLlxuICAgICAqXG4gICAgICogQHJldHVybiB7TnVtYmVyfVxuICAgICAqL1xuICAgIGdldCAoKSB7XG4gICAgICByZXR1cm4gQ29tcG9uZW50cy5IdG1sLnJvb3Qub2Zmc2V0V2lkdGhcbiAgICB9XG4gIH0pXG5cbiAgZGVmaW5lKFNpemVzLCAnd3JhcHBlclNpemUnLCB7XG4gICAgLyoqXG4gICAgICogR2V0cyBzaXplIG9mIHRoZSBzbGlkZXMgd3JhcHBlci5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge051bWJlcn1cbiAgICAgKi9cbiAgICBnZXQgKCkge1xuICAgICAgcmV0dXJuIFNpemVzLnNsaWRlV2lkdGggKiBTaXplcy5sZW5ndGggKyBDb21wb25lbnRzLkdhcHMuZ3JvdyArIENvbXBvbmVudHMuQ2xvbmVzLmdyb3dcbiAgICB9XG4gIH0pXG5cbiAgZGVmaW5lKFNpemVzLCAnc2xpZGVXaWR0aCcsIHtcbiAgICAvKipcbiAgICAgKiBHZXRzIHdpZHRoIHZhbHVlIG9mIGEgc2luZ2xlIHNsaWRlLlxuICAgICAqXG4gICAgICogQHJldHVybiB7TnVtYmVyfVxuICAgICAqL1xuICAgIGdldCAoKSB7XG4gICAgICByZXR1cm4gKFNpemVzLndpZHRoIC8gR2xpZGUuc2V0dGluZ3MucGVyVmlldykgLSBDb21wb25lbnRzLlBlZWsucmVkdWN0b3IgLSBDb21wb25lbnRzLkdhcHMucmVkdWN0b3JcbiAgICB9XG4gIH0pXG5cbiAgLyoqXG4gICAqIEFwcGx5IGNhbGN1bGF0ZWQgZ2xpZGUncyBkaW1lbnNpb25zOlxuICAgKiAtIGJlZm9yZSBidWlsZGluZywgc28gb3RoZXIgZGltZW50aW9ucyAoZS5nLiB0cmFuc2xhdGUpIHdpbGwgYmUgY2FsY3VsYXRlZCBwcm9wZXJ0bHlcbiAgICogLSB3aGVuIHJlc2l6aW5nIHdpbmRvdyB0byByZWNhbGN1bGF0ZSBzaWxkZXMgZGltZW5zaW9uc1xuICAgKiAtIG9uIHVwZGF0aW5nIHZpYSBBUEksIHRvIGNhbGN1bGF0ZSBkaW1lbnNpb25zIGJhc2VkIG9uIG5ldyBvcHRpb25zXG4gICAqL1xuICBFdmVudHMub24oWydidWlsZC5iZWZvcmUnLCAncmVzaXplJywgJ3VwZGF0ZSddLCAoKSA9PiB7XG4gICAgU2l6ZXMuc2V0dXBTbGlkZXMoKVxuICAgIFNpemVzLnNldHVwV3JhcHBlcigpXG4gIH0pXG5cbiAgLyoqXG4gICAqIFJlbW92ZSBjYWxjdWxhdGVkIGdsaWRlJ3MgZGltZW5zaW9uczpcbiAgICogLSBvbiBkZXN0b3RpbmcgdG8gYnJpbmcgbWFya3VwIHRvIGl0cyBpbml0YWwgc3RhdGVcbiAgICovXG4gIEV2ZW50cy5vbignZGVzdHJveScsICgpID0+IHtcbiAgICBTaXplcy5yZW1vdmUoKVxuICB9KVxuXG4gIHJldHVybiBTaXplc1xufVxuIiwiaW1wb3J0IHsgZGVmaW5lIH0gZnJvbSAnLi4vdXRpbHMvb2JqZWN0J1xuaW1wb3J0IHsgdG9JbnQsIGlzVW5kZWZpbmVkIH0gZnJvbSAnLi4vdXRpbHMvdW5pdCdcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKEdsaWRlLCBDb21wb25lbnRzLCBFdmVudHMpIHtcbiAgY29uc3QgTW92ZSA9IHtcbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3RzIG1vdmUgY29tcG9uZW50LlxuICAgICAqXG4gICAgICogQHJldHVybnMge1ZvaWR9XG4gICAgICovXG4gICAgbW91bnQgKCkge1xuICAgICAgdGhpcy5fbyA9IDBcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlcyBhIG1vdmVtZW50IHZhbHVlIGJhc2VkIG9uIHBhc3NlZCBvZmZzZXQgYW5kIGN1cnJlbnRseSBhY3RpdmUgaW5kZXguXG4gICAgICpcbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IG9mZnNldFxuICAgICAqIEByZXR1cm4ge1ZvaWR9XG4gICAgICovXG4gICAgbWFrZSAob2Zmc2V0ID0gMCkge1xuICAgICAgdGhpcy5vZmZzZXQgPSBvZmZzZXRcblxuICAgICAgRXZlbnRzLmVtaXQoJ21vdmUnLCB7XG4gICAgICAgIG1vdmVtZW50OiB0aGlzLnZhbHVlXG4gICAgICB9KVxuXG4gICAgICBDb21wb25lbnRzLlRyYW5zaXRpb24uYWZ0ZXIoKCkgPT4ge1xuICAgICAgICBFdmVudHMuZW1pdCgnbW92ZS5hZnRlcicsIHtcbiAgICAgICAgICBtb3ZlbWVudDogdGhpcy52YWx1ZVxuICAgICAgICB9KVxuICAgICAgfSlcbiAgICB9XG4gIH1cblxuICBkZWZpbmUoTW92ZSwgJ29mZnNldCcsIHtcbiAgICAvKipcbiAgICAgKiBHZXRzIGFuIG9mZnNldCB2YWx1ZSB1c2VkIHRvIG1vZGlmeSBjdXJyZW50IHRyYW5zbGF0ZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge09iamVjdH1cbiAgICAgKi9cbiAgICBnZXQgKCkge1xuICAgICAgcmV0dXJuIE1vdmUuX29cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2V0cyBhbiBvZmZzZXQgdmFsdWUgdXNlZCB0byBtb2RpZnkgY3VycmVudCB0cmFuc2xhdGUuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9XG4gICAgICovXG4gICAgc2V0ICh2YWx1ZSkge1xuICAgICAgTW92ZS5fbyA9ICFpc1VuZGVmaW5lZCh2YWx1ZSkgPyB0b0ludCh2YWx1ZSkgOiAwXG4gICAgfVxuICB9KVxuXG4gIGRlZmluZShNb3ZlLCAndHJhbnNsYXRlJywge1xuICAgIC8qKlxuICAgICAqIEdldHMgYSByYXcgbW92ZW1lbnQgdmFsdWUuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9XG4gICAgICovXG4gICAgZ2V0ICgpIHtcbiAgICAgIHJldHVybiBDb21wb25lbnRzLlNpemVzLnNsaWRlV2lkdGggKiBHbGlkZS5pbmRleFxuICAgIH1cbiAgfSlcblxuICBkZWZpbmUoTW92ZSwgJ3ZhbHVlJywge1xuICAgIC8qKlxuICAgICAqIEdldHMgYW4gYWN0dWFsIG1vdmVtZW50IHZhbHVlIGNvcnJlY3RlZCBieSBvZmZzZXQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9XG4gICAgICovXG4gICAgZ2V0ICgpIHtcbiAgICAgIGxldCBvZmZzZXQgPSB0aGlzLm9mZnNldFxuICAgICAgbGV0IHRyYW5zbGF0ZSA9IHRoaXMudHJhbnNsYXRlXG5cbiAgICAgIGlmIChDb21wb25lbnRzLkRpcmVjdGlvbi5pcygncnRsJykpIHtcbiAgICAgICAgcmV0dXJuIHRyYW5zbGF0ZSArIG9mZnNldFxuICAgICAgfVxuXG4gICAgICByZXR1cm4gdHJhbnNsYXRlIC0gb2Zmc2V0XG4gICAgfVxuICB9KVxuXG4gIC8qKlxuICAgKiBNYWtlIG1vdmVtZW50IHRvIHByb3BlciBzbGlkZSBvbjpcbiAgICogLSBiZWZvcmUgYnVpbGQsIHNvIGdsaWRlIHdpbGwgc3RhcnQgYXQgYHN0YXJ0QXRgIGluZGV4XG4gICAqIC0gb24gZWFjaCBzdGFuZGFyZCBydW4gdG8gbW92ZSB0byBuZXdseSBjYWxjdWxhdGVkIGluZGV4XG4gICAqL1xuICBFdmVudHMub24oWydidWlsZC5iZWZvcmUnLCAncnVuJ10sICgpID0+IHtcbiAgICBNb3ZlLm1ha2UoKVxuICB9KVxuXG4gIHJldHVybiBNb3ZlXG59XG4iLCJpbXBvcnQgeyBkZWZpbmUgfSBmcm9tICcuLi91dGlscy9vYmplY3QnXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIChHbGlkZSwgQ29tcG9uZW50cywgRXZlbnRzKSB7XG4gIGNvbnN0IENsb25lcyA9IHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgcGF0dGVybiBtYXAgYW5kIGNvbGxlY3Qgc2xpZGVzIHRvIGJlIGNsb25lZC5cbiAgICAgKi9cbiAgICBtb3VudCAoKSB7XG4gICAgICB0aGlzLml0ZW1zID0gW11cblxuICAgICAgaWYgKEdsaWRlLmlzVHlwZSgnY2Fyb3VzZWwnKSkge1xuICAgICAgICB0aGlzLml0ZW1zID0gdGhpcy5jb2xsZWN0KClcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ29sbGVjdCBjbG9uZXMgd2l0aCBwYXR0ZXJuLlxuICAgICAqXG4gICAgICogQHJldHVybiB7W119XG4gICAgICovXG4gICAgY29sbGVjdCAoaXRlbXMgPSBbXSkge1xuICAgICAgbGV0IHsgc2xpZGVzIH0gPSBDb21wb25lbnRzLkh0bWxcbiAgICAgIGxldCB7IHBlclZpZXcsIGNsYXNzZXMgfSA9IEdsaWRlLnNldHRpbmdzXG5cbiAgICAgIGNvbnN0IHBlZWtJbmNyZW1lbnRlciA9ICshIUdsaWRlLnNldHRpbmdzLnBlZWtcbiAgICAgIGNvbnN0IGNsb25lQ291bnQgPSBwZXJWaWV3ICsgcGVla0luY3JlbWVudGVyICsgTWF0aC5yb3VuZChwZXJWaWV3IC8gMilcbiAgICAgIGNvbnN0IGFwcGVuZCA9IHNsaWRlcy5zbGljZSgwLCBjbG9uZUNvdW50KS5yZXZlcnNlKClcbiAgICAgIGNvbnN0IHByZXBlbmQgPSBzbGlkZXMuc2xpY2UoY2xvbmVDb3VudCAqIC0xKVxuXG4gICAgICBmb3IgKGxldCByID0gMDsgciA8IE1hdGgubWF4KDEsIE1hdGguZmxvb3IocGVyVmlldyAvIHNsaWRlcy5sZW5ndGgpKTsgcisrKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXBwZW5kLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgbGV0IGNsb25lID0gYXBwZW5kW2ldLmNsb25lTm9kZSh0cnVlKVxuXG4gICAgICAgICAgY2xvbmUuY2xhc3NMaXN0LmFkZChjbGFzc2VzLmNsb25lU2xpZGUpXG5cbiAgICAgICAgICBpdGVtcy5wdXNoKGNsb25lKVxuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcmVwZW5kLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgbGV0IGNsb25lID0gcHJlcGVuZFtpXS5jbG9uZU5vZGUodHJ1ZSlcblxuICAgICAgICAgIGNsb25lLmNsYXNzTGlzdC5hZGQoY2xhc3Nlcy5jbG9uZVNsaWRlKVxuXG4gICAgICAgICAgaXRlbXMudW5zaGlmdChjbG9uZSlcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gaXRlbXNcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQXBwZW5kIGNsb25lZCBzbGlkZXMgd2l0aCBnZW5lcmF0ZWQgcGF0dGVybi5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1ZvaWR9XG4gICAgICovXG4gICAgYXBwZW5kICgpIHtcbiAgICAgIGxldCB7IGl0ZW1zIH0gPSB0aGlzXG4gICAgICBsZXQgeyB3cmFwcGVyLCBzbGlkZXMgfSA9IENvbXBvbmVudHMuSHRtbFxuXG4gICAgICBjb25zdCBoYWxmID0gTWF0aC5mbG9vcihpdGVtcy5sZW5ndGggLyAyKVxuICAgICAgY29uc3QgcHJlcGVuZCA9IGl0ZW1zLnNsaWNlKDAsIGhhbGYpLnJldmVyc2UoKVxuICAgICAgY29uc3QgYXBwZW5kID0gaXRlbXMuc2xpY2UoaGFsZiAqIC0xKS5yZXZlcnNlKClcbiAgICAgIGNvbnN0IHdpZHRoID0gYCR7Q29tcG9uZW50cy5TaXplcy5zbGlkZVdpZHRofXB4YFxuXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFwcGVuZC5sZW5ndGg7IGkrKykge1xuICAgICAgICB3cmFwcGVyLmFwcGVuZENoaWxkKGFwcGVuZFtpXSlcbiAgICAgIH1cblxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcmVwZW5kLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHdyYXBwZXIuaW5zZXJ0QmVmb3JlKHByZXBlbmRbaV0sIHNsaWRlc1swXSlcbiAgICAgIH1cblxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpdGVtcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpdGVtc1tpXS5zdHlsZS53aWR0aCA9IHdpZHRoXG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZSBhbGwgY2xvbmVkIHNsaWRlcy5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1ZvaWR9XG4gICAgICovXG4gICAgcmVtb3ZlICgpIHtcbiAgICAgIGxldCB7IGl0ZW1zIH0gPSB0aGlzXG5cbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaXRlbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgQ29tcG9uZW50cy5IdG1sLndyYXBwZXIucmVtb3ZlQ2hpbGQoaXRlbXNbaV0pXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZGVmaW5lKENsb25lcywgJ2dyb3cnLCB7XG4gICAgLyoqXG4gICAgICogR2V0cyBhZGRpdGlvbmFsIGRpbWVudGlvbnMgdmFsdWUgY2F1c2VkIGJ5IGNsb25lcy5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge051bWJlcn1cbiAgICAgKi9cbiAgICBnZXQgKCkge1xuICAgICAgcmV0dXJuIChDb21wb25lbnRzLlNpemVzLnNsaWRlV2lkdGggKyBDb21wb25lbnRzLkdhcHMudmFsdWUpICogQ2xvbmVzLml0ZW1zLmxlbmd0aFxuICAgIH1cbiAgfSlcblxuICAvKipcbiAgICogQXBwZW5kIGFkZGl0aW9uYWwgc2xpZGUncyBjbG9uZXM6XG4gICAqIC0gd2hpbGUgZ2xpZGUncyB0eXBlIGlzIGBjYXJvdXNlbGBcbiAgICovXG4gIEV2ZW50cy5vbigndXBkYXRlJywgKCkgPT4ge1xuICAgIENsb25lcy5yZW1vdmUoKVxuICAgIENsb25lcy5tb3VudCgpXG4gICAgQ2xvbmVzLmFwcGVuZCgpXG4gIH0pXG5cbiAgLyoqXG4gICAqIEFwcGVuZCBhZGRpdGlvbmFsIHNsaWRlJ3MgY2xvbmVzOlxuICAgKiAtIHdoaWxlIGdsaWRlJ3MgdHlwZSBpcyBgY2Fyb3VzZWxgXG4gICAqL1xuICBFdmVudHMub24oJ2J1aWxkLmJlZm9yZScsICgpID0+IHtcbiAgICBpZiAoR2xpZGUuaXNUeXBlKCdjYXJvdXNlbCcpKSB7XG4gICAgICBDbG9uZXMuYXBwZW5kKClcbiAgICB9XG4gIH0pXG5cbiAgLyoqXG4gICAqIFJlbW92ZSBjbG9uZXMgSFRNTEVsZW1lbnRzOlxuICAgKiAtIG9uIGRlc3Ryb3lpbmcsIHRvIGJyaW5nIEhUTUwgdG8gaXRzIGluaXRpYWwgc3RhdGVcbiAgICovXG4gIEV2ZW50cy5vbignZGVzdHJveScsICgpID0+IHtcbiAgICBDbG9uZXMucmVtb3ZlKClcbiAgfSlcblxuICByZXR1cm4gQ2xvbmVzXG59XG4iLCJpbXBvcnQgeyB0aHJvdHRsZSB9IGZyb20gJy4uL3V0aWxzL3dhaXQnXG5cbmltcG9ydCBFdmVudHNCaW5kZXIgZnJvbSAnLi4vY29yZS9ldmVudC9ldmVudHMtYmluZGVyJ1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoR2xpZGUsIENvbXBvbmVudHMsIEV2ZW50cykge1xuICAvKipcbiAgICogSW5zdGFuY2Ugb2YgdGhlIGJpbmRlciBmb3IgRE9NIEV2ZW50cy5cbiAgICpcbiAgICogQHR5cGUge0V2ZW50c0JpbmRlcn1cbiAgICovXG4gIGNvbnN0IEJpbmRlciA9IG5ldyBFdmVudHNCaW5kZXIoKVxuXG4gIGNvbnN0IFJlc2l6ZSA9IHtcbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplcyB3aW5kb3cgYmluZGluZ3MuXG4gICAgICovXG4gICAgbW91bnQgKCkge1xuICAgICAgdGhpcy5iaW5kKClcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQmluZHMgYHJlenNpemVgIGxpc3RlbmVyIHRvIHRoZSB3aW5kb3cuXG4gICAgICogSXQncyBhIGNvc3RseSBldmVudCwgc28gd2UgYXJlIGRlYm91bmNpbmcgaXQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtWb2lkfVxuICAgICAqL1xuICAgIGJpbmQgKCkge1xuICAgICAgQmluZGVyLm9uKCdyZXNpemUnLCB3aW5kb3csIHRocm90dGxlKCgpID0+IHtcbiAgICAgICAgRXZlbnRzLmVtaXQoJ3Jlc2l6ZScpXG4gICAgICB9LCBHbGlkZS5zZXR0aW5ncy50aHJvdHRsZSkpXG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFVuYmluZHMgbGlzdGVuZXJzIGZyb20gdGhlIHdpbmRvdy5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1ZvaWR9XG4gICAgICovXG4gICAgdW5iaW5kICgpIHtcbiAgICAgIEJpbmRlci5vZmYoJ3Jlc2l6ZScsIHdpbmRvdylcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlIGJpbmRpbmdzIGZyb20gd2luZG93OlxuICAgKiAtIG9uIGRlc3Ryb3lpbmcsIHRvIHJlbW92ZSBhZGRlZCBFdmVudExpc3RlbmVyXG4gICAqL1xuICBFdmVudHMub24oJ2Rlc3Ryb3knLCAoKSA9PiB7XG4gICAgUmVzaXplLnVuYmluZCgpXG4gICAgQmluZGVyLmRlc3Ryb3koKVxuICB9KVxuXG4gIHJldHVybiBSZXNpemVcbn1cbiIsImltcG9ydCB7IHNpYmxpbmdzIH0gZnJvbSAnLi4vdXRpbHMvZG9tJ1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoR2xpZGUsIENvbXBvbmVudHMsIEV2ZW50cykge1xuICBjb25zdCBCdWlsZCA9IHtcbiAgICAvKipcbiAgICAgKiBJbml0IGdsaWRlIGJ1aWxkaW5nLiBBZGRzIGNsYXNzZXMsIHNldHNcbiAgICAgKiBkaW1lbnNpb25zIGFuZCBzZXR1cHMgaW5pdGlhbCBzdGF0ZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1ZvaWR9XG4gICAgICovXG4gICAgbW91bnQgKCkge1xuICAgICAgRXZlbnRzLmVtaXQoJ2J1aWxkLmJlZm9yZScpXG5cbiAgICAgIHRoaXMudHlwZUNsYXNzKClcbiAgICAgIHRoaXMuYWN0aXZlQ2xhc3MoKVxuXG4gICAgICBFdmVudHMuZW1pdCgnYnVpbGQuYWZ0ZXInKVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGB0eXBlYCBjbGFzcyB0byB0aGUgZ2xpZGUgZWxlbWVudC5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1ZvaWR9XG4gICAgICovXG4gICAgdHlwZUNsYXNzICgpIHtcbiAgICAgIENvbXBvbmVudHMuSHRtbC5yb290LmNsYXNzTGlzdC5hZGQoR2xpZGUuc2V0dGluZ3MuY2xhc3Nlc1tHbGlkZS5zZXR0aW5ncy50eXBlXSlcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2V0cyBhY3RpdmUgY2xhc3MgdG8gY3VycmVudCBzbGlkZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1ZvaWR9XG4gICAgICovXG4gICAgYWN0aXZlQ2xhc3MgKCkge1xuICAgICAgbGV0IGNsYXNzZXMgPSBHbGlkZS5zZXR0aW5ncy5jbGFzc2VzXG4gICAgICBsZXQgc2xpZGUgPSBDb21wb25lbnRzLkh0bWwuc2xpZGVzW0dsaWRlLmluZGV4XVxuXG4gICAgICBpZiAoc2xpZGUpIHtcbiAgICAgICAgc2xpZGUuY2xhc3NMaXN0LmFkZChjbGFzc2VzLmFjdGl2ZVNsaWRlKVxuXG4gICAgICAgIHNpYmxpbmdzKHNsaWRlKS5mb3JFYWNoKChzaWJsaW5nKSA9PiB7XG4gICAgICAgICAgc2libGluZy5jbGFzc0xpc3QucmVtb3ZlKGNsYXNzZXMuYWN0aXZlU2xpZGUpXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgSFRNTCBjbGFzc2VzIGFwcGxpZWQgYXQgYnVpbGRpbmcuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtWb2lkfVxuICAgICAqL1xuICAgIHJlbW92ZUNsYXNzZXMgKCkge1xuICAgICAgbGV0IGNsYXNzZXMgPSBHbGlkZS5zZXR0aW5ncy5jbGFzc2VzXG5cbiAgICAgIENvbXBvbmVudHMuSHRtbC5yb290LmNsYXNzTGlzdC5yZW1vdmUoY2xhc3Nlc1tHbGlkZS5zZXR0aW5ncy50eXBlXSlcblxuICAgICAgQ29tcG9uZW50cy5IdG1sLnNsaWRlcy5mb3JFYWNoKChzaWJsaW5nKSA9PiB7XG4gICAgICAgIHNpYmxpbmcuY2xhc3NMaXN0LnJlbW92ZShjbGFzc2VzLmFjdGl2ZVNsaWRlKVxuICAgICAgfSlcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ2xlYXIgYnVpbGRpbmcgY2xhc3NlczpcbiAgICogLSBvbiBkZXN0cm95aW5nIHRvIGJyaW5nIEhUTUwgdG8gaXRzIGluaXRpYWwgc3RhdGVcbiAgICogLSBvbiB1cGRhdGluZyB0byByZW1vdmUgY2xhc3NlcyBiZWZvcmUgcmVtb3VudGluZyBjb21wb25lbnRcbiAgICovXG4gIEV2ZW50cy5vbihbJ2Rlc3Ryb3knLCAndXBkYXRlJ10sICgpID0+IHtcbiAgICBCdWlsZC5yZW1vdmVDbGFzc2VzKClcbiAgfSlcblxuICAvKipcbiAgICogUmVtb3VudCBjb21wb25lbnQ6XG4gICAqIC0gb24gcmVzaXppbmcgb2YgdGhlIHdpbmRvdyB0byBjYWxjdWxhdGUgbmV3IGRpbWVudGlvbnNcbiAgICogLSBvbiB1cGRhdGluZyBzZXR0aW5ncyB2aWEgQVBJXG4gICAqL1xuICBFdmVudHMub24oWydyZXNpemUnLCAndXBkYXRlJ10sICgpID0+IHtcbiAgICBCdWlsZC5tb3VudCgpXG4gIH0pXG5cbiAgLyoqXG4gICAqIFN3YXAgYWN0aXZlIGNsYXNzIG9mIGN1cnJlbnQgc2xpZGU6XG4gICAqIC0gYWZ0ZXIgZWFjaCBtb3ZlIHRvIHRoZSBuZXcgaW5kZXhcbiAgICovXG4gIEV2ZW50cy5vbignbW92ZS5hZnRlcicsICgpID0+IHtcbiAgICBCdWlsZC5hY3RpdmVDbGFzcygpXG4gIH0pXG5cbiAgcmV0dXJuIEJ1aWxkXG59XG4iLCJpbXBvcnQgeyB3YXJuIH0gZnJvbSAnLi4vdXRpbHMvbG9nJ1xuaW1wb3J0IHsgZGVmaW5lIH0gZnJvbSAnLi4vdXRpbHMvb2JqZWN0J1xuaW1wb3J0IHsgdG9JbnQsIGlzTnVtYmVyIH0gZnJvbSAnLi4vdXRpbHMvdW5pdCdcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKEdsaWRlLCBDb21wb25lbnRzLCBFdmVudHMpIHtcbiAgY29uc3QgUnVuID0ge1xuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemVzIGF1dG9ydW5uaW5nIG9mIHRoZSBnbGlkZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1ZvaWR9XG4gICAgICovXG4gICAgbW91bnQgKCkge1xuICAgICAgdGhpcy5fbyA9IGZhbHNlXG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIE1ha2VzIGdsaWRlcyBydW5uaW5nIGJhc2VkIG9uIHRoZSBwYXNzZWQgbW92aW5nIHNjaGVtYS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBtb3ZlXG4gICAgICovXG4gICAgbWFrZSAobW92ZSkge1xuICAgICAgaWYgKCFHbGlkZS5kaXNhYmxlZCkge1xuICAgICAgICAhR2xpZGUuc2V0dGluZ3Mud2FpdEZvclRyYW5zaXRpb24gfHwgR2xpZGUuZGlzYWJsZSgpXG5cbiAgICAgICAgdGhpcy5tb3ZlID0gbW92ZVxuXG4gICAgICAgIEV2ZW50cy5lbWl0KCdydW4uYmVmb3JlJywgdGhpcy5tb3ZlKVxuXG4gICAgICAgIHRoaXMuY2FsY3VsYXRlKClcblxuICAgICAgICBFdmVudHMuZW1pdCgncnVuJywgdGhpcy5tb3ZlKVxuXG4gICAgICAgIENvbXBvbmVudHMuVHJhbnNpdGlvbi5hZnRlcigoKSA9PiB7XG4gICAgICAgICAgaWYgKHRoaXMuaXNTdGFydCgpKSB7XG4gICAgICAgICAgICBFdmVudHMuZW1pdCgncnVuLnN0YXJ0JywgdGhpcy5tb3ZlKVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICh0aGlzLmlzRW5kKCkpIHtcbiAgICAgICAgICAgIEV2ZW50cy5lbWl0KCdydW4uZW5kJywgdGhpcy5tb3ZlKVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICh0aGlzLmlzT2Zmc2V0KCkpIHtcbiAgICAgICAgICAgIHRoaXMuX28gPSBmYWxzZVxuXG4gICAgICAgICAgICBFdmVudHMuZW1pdCgncnVuLm9mZnNldCcsIHRoaXMubW92ZSlcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBFdmVudHMuZW1pdCgncnVuLmFmdGVyJywgdGhpcy5tb3ZlKVxuXG4gICAgICAgICAgR2xpZGUuZW5hYmxlKClcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlcyBjdXJyZW50IGluZGV4IGJhc2VkIG9uIGRlZmluZWQgbW92ZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge051bWJlcnxVbmRlZmluZWR9XG4gICAgICovXG4gICAgY2FsY3VsYXRlICgpIHtcbiAgICAgIGNvbnN0IHsgbW92ZSwgbGVuZ3RoIH0gPSB0aGlzXG4gICAgICBjb25zdCB7IHN0ZXBzLCBkaXJlY3Rpb24gfSA9IG1vdmVcblxuICAgICAgLy8gQnkgZGVmYXVsdCBhc3N1bWUgdGhhdCBzaXplIG9mIHZpZXcgaXMgZXF1YWwgdG8gb25lIHNsaWRlXG4gICAgICBsZXQgdmlld1NpemUgPSAxXG4gICAgICAvLyBEZXRlcm1pbmUgaWYgc3RlcHMgYXJlIG51bWVyaWMgdmFsdWVcbiAgICAgIGxldCBjb3VudGFibGVTdGVwcyA9IGlzTnVtYmVyKHRvSW50KHN0ZXBzKSkgJiYgdG9JbnQoc3RlcHMpICE9PSAwXG5cbiAgICAgIC8vIFdoaWxlIGRpcmVjdGlvbiBpcyBgPWAgd2Ugd2FudCBqdW1wIHRvXG4gICAgICAvLyBhIHNwZWNpZmllZCBpbmRleCBkZXNjcmliZWQgaW4gc3RlcHMuXG4gICAgICBpZiAoZGlyZWN0aW9uID09PSAnPScpIHtcbiAgICAgICAgR2xpZGUuaW5kZXggPSBzdGVwc1xuXG4gICAgICAgIHJldHVyblxuICAgICAgfVxuXG4gICAgICAvLyBXaGVuIHBhdHRlcm4gaXMgZXF1YWwgdG8gYD4+YCB3ZSB3YW50XG4gICAgICAvLyBmYXN0IGZvcndhcmQgdG8gdGhlIGxhc3Qgc2xpZGUuXG4gICAgICBpZiAoZGlyZWN0aW9uID09PSAnPicgJiYgc3RlcHMgPT09ICc+Jykge1xuICAgICAgICBHbGlkZS5pbmRleCA9IGxlbmd0aFxuXG4gICAgICAgIHJldHVyblxuICAgICAgfVxuXG4gICAgICAvLyBXaGVuIHBhdHRlcm4gaXMgZXF1YWwgdG8gYDw8YCB3ZSB3YW50XG4gICAgICAvLyBmYXN0IGZvcndhcmQgdG8gdGhlIGZpcnN0IHNsaWRlLlxuICAgICAgaWYgKGRpcmVjdGlvbiA9PT0gJzwnICYmIHN0ZXBzID09PSAnPCcpIHtcbiAgICAgICAgR2xpZGUuaW5kZXggPSAwXG5cbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG5cbiAgICAgIC8vIFdoaWxlIHN0ZXBzIGlzIGEgbnVtZXJpYyB2YWx1ZSBhbmQgd2VcbiAgICAgIC8vIG1vdmUgZm9yd2FyZCBieSB0aGUgbnVtYmVyIG9mIHN0ZXBzLlxuICAgICAgaWYgKGRpcmVjdGlvbiA9PT0gJz4nICYmIGNvdW50YWJsZVN0ZXBzKSB7XG4gICAgICAgIHZpZXdTaXplID0gdG9JbnQoc3RlcHMpICogLTFcbiAgICAgIH1cblxuICAgICAgLy8gJHN0ZXBzPCAoZHJhZykgbW92ZW1lbnRcbiAgICAgIGlmIChkaXJlY3Rpb24gPT09ICc8JyAmJiBjb3VudGFibGVTdGVwcykge1xuICAgICAgICB2aWV3U2l6ZSA9IHRvSW50KHN0ZXBzKVxuICAgICAgfVxuXG4gICAgICAvLyBwYWdpbmF0aW9uIG1vdmVtZW50XG4gICAgICBpZiAoZGlyZWN0aW9uID09PSAnfCcpIHtcbiAgICAgICAgdmlld1NpemUgPSBHbGlkZS5zZXR0aW5ncy5wZXJWaWV3IHx8IDFcbiAgICAgIH1cblxuICAgICAgLy8gd2UgYXJlIG1vdmluZyBmb3J3YXJkXG4gICAgICBpZiAoZGlyZWN0aW9uID09PSAnPicgfHwgKGRpcmVjdGlvbiA9PT0gJ3wnICYmIHN0ZXBzID09PSAnPicpKSB7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gY2FsY3VsYXRlRm9yd2FyZEluZGV4KHZpZXdTaXplKVxuXG4gICAgICAgIGlmIChpbmRleCA+IGxlbmd0aCkge1xuICAgICAgICAgIHRoaXMuX28gPSB0cnVlXG4gICAgICAgIH1cblxuICAgICAgICBHbGlkZS5pbmRleCA9IG5vcm1hbGl6ZUZvcndhcmRJbmRleChpbmRleCwgdmlld1NpemUpXG5cbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG5cbiAgICAgIC8vIHdlIGFyZSBtb3ZpbmcgYmFja3dhcmRcbiAgICAgIGlmIChkaXJlY3Rpb24gPT09ICc8JyB8fCAoZGlyZWN0aW9uID09PSAnfCcgJiYgc3RlcHMgPT09ICc8JykpIHtcbiAgICAgICAgY29uc3QgaW5kZXggPSBjYWxjdWxhdGVCYWNrd2FyZEluZGV4KHZpZXdTaXplKVxuXG4gICAgICAgIGlmIChpbmRleCA8IDApIHtcbiAgICAgICAgICB0aGlzLl9vID0gdHJ1ZVxuICAgICAgICB9XG5cbiAgICAgICAgR2xpZGUuaW5kZXggPSBub3JtYWxpemVCYWNrd2FyZEluZGV4KGluZGV4LCB2aWV3U2l6ZSlcblxuICAgICAgICByZXR1cm5cbiAgICAgIH1cblxuICAgICAgd2FybihgSW52YWxpZCBkaXJlY3Rpb24gcGF0dGVybiBbJHtkaXJlY3Rpb259JHtzdGVwc31dIGhhcyBiZWVuIHVzZWRgKVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgd2UgYXJlIG9uIHRoZSBmaXJzdCBzbGlkZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59XG4gICAgICovXG4gICAgaXNTdGFydCAoKSB7XG4gICAgICByZXR1cm4gR2xpZGUuaW5kZXggPD0gMFxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgd2UgYXJlIG9uIHRoZSBsYXN0IHNsaWRlLlxuICAgICAqXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn1cbiAgICAgKi9cbiAgICBpc0VuZCAoKSB7XG4gICAgICByZXR1cm4gR2xpZGUuaW5kZXggPj0gdGhpcy5sZW5ndGhcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIHdlIGFyZSBtYWtpbmcgYSBvZmZzZXQgcnVuLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGRpcmVjdGlvblxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59XG4gICAgICovXG4gICAgaXNPZmZzZXQgKGRpcmVjdGlvbiA9IHVuZGVmaW5lZCkge1xuICAgICAgaWYgKCFkaXJlY3Rpb24pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX29cbiAgICAgIH1cblxuICAgICAgaWYgKCF0aGlzLl9vKSB7XG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgfVxuXG4gICAgICAvLyBkaWQgd2UgdmlldyB0byB0aGUgcmlnaHQ/XG4gICAgICBpZiAoZGlyZWN0aW9uID09PSAnfD4nKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1vdmUuZGlyZWN0aW9uID09PSAnfCcgJiYgdGhpcy5tb3ZlLnN0ZXBzID09PSAnPidcbiAgICAgIH1cblxuICAgICAgLy8gZGlkIHdlIHZpZXcgdG8gdGhlIGxlZnQ/XG4gICAgICBpZiAoZGlyZWN0aW9uID09PSAnfDwnKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1vdmUuZGlyZWN0aW9uID09PSAnfCcgJiYgdGhpcy5tb3ZlLnN0ZXBzID09PSAnPCdcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMubW92ZS5kaXJlY3Rpb24gPT09IGRpcmVjdGlvblxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYm91bmQgbW9kZSBpcyBhY3RpdmVcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59XG4gICAgICovXG4gICAgaXNCb3VuZCAoKSB7XG4gICAgICByZXR1cm4gR2xpZGUuaXNUeXBlKCdzbGlkZXInKSAmJiBHbGlkZS5zZXR0aW5ncy5mb2N1c0F0ICE9PSAnY2VudGVyJyAmJiBHbGlkZS5zZXR0aW5ncy5ib3VuZFxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGluZGV4IHZhbHVlIHRvIG1vdmUgZm9yd2FyZC90byB0aGUgcmlnaHRcbiAgICpcbiAgICogQHBhcmFtIHZpZXdTaXplXG4gICAqIEByZXR1cm5zIHtOdW1iZXJ9XG4gICAqL1xuICBmdW5jdGlvbiBjYWxjdWxhdGVGb3J3YXJkSW5kZXggKHZpZXdTaXplKSB7XG4gICAgY29uc3QgeyBpbmRleCB9ID0gR2xpZGVcblxuICAgIGlmIChHbGlkZS5pc1R5cGUoJ2Nhcm91c2VsJykpIHtcbiAgICAgIHJldHVybiBpbmRleCArIHZpZXdTaXplXG4gICAgfVxuXG4gICAgcmV0dXJuIGluZGV4ICsgKHZpZXdTaXplIC0gKGluZGV4ICUgdmlld1NpemUpKVxuICB9XG5cbiAgLyoqXG4gICAqIE5vcm1hbGl6ZXMgdGhlIGdpdmVuIGZvcndhcmQgaW5kZXggYmFzZWQgb24gZ2xpZGUgc2V0dGluZ3MsIHByZXZlbnRpbmcgaXQgdG8gZXhjZWVkIGNlcnRhaW4gYm91bmRhcmllc1xuICAgKlxuICAgKiBAcGFyYW0gaW5kZXhcbiAgICogQHBhcmFtIGxlbmd0aFxuICAgKiBAcGFyYW0gdmlld1NpemVcbiAgICogQHJldHVybnMge051bWJlcn1cbiAgICovXG4gIGZ1bmN0aW9uIG5vcm1hbGl6ZUZvcndhcmRJbmRleCAoaW5kZXgsIHZpZXdTaXplKSB7XG4gICAgY29uc3QgeyBsZW5ndGggfSA9IFJ1blxuXG4gICAgaWYgKGluZGV4IDw9IGxlbmd0aCkge1xuICAgICAgcmV0dXJuIGluZGV4XG4gICAgfVxuXG4gICAgaWYgKEdsaWRlLmlzVHlwZSgnY2Fyb3VzZWwnKSkge1xuICAgICAgcmV0dXJuIGluZGV4IC0gKGxlbmd0aCArIDEpXG4gICAgfVxuXG4gICAgaWYgKEdsaWRlLnNldHRpbmdzLnJld2luZCkge1xuICAgICAgLy8gYm91bmQgZG9lcyBmdW5ueSB0aGluZ3Mgd2l0aCB0aGUgbGVuZ3RoLCB0aGVyZWZvciB3ZSBoYXZlIHRvIGJlIGNlcnRhaW5cbiAgICAgIC8vIHRoYXQgd2UgYXJlIG9uIHRoZSBsYXN0IHBvc3NpYmxlIGluZGV4IHZhbHVlIGdpdmVuIGJ5IGJvdW5kXG4gICAgICBpZiAoUnVuLmlzQm91bmQoKSAmJiAhUnVuLmlzRW5kKCkpIHtcbiAgICAgICAgcmV0dXJuIGxlbmd0aFxuICAgICAgfVxuXG4gICAgICByZXR1cm4gMFxuICAgIH1cblxuICAgIGlmIChSdW4uaXNCb3VuZCgpKSB7XG4gICAgICByZXR1cm4gbGVuZ3RoXG4gICAgfVxuXG4gICAgcmV0dXJuIE1hdGguZmxvb3IobGVuZ3RoIC8gdmlld1NpemUpICogdmlld1NpemVcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxjdWxhdGVzIGluZGV4IHZhbHVlIHRvIG1vdmUgYmFja3dhcmQvdG8gdGhlIGxlZnRcbiAgICpcbiAgICogQHBhcmFtIHZpZXdTaXplXG4gICAqIEByZXR1cm5zIHtOdW1iZXJ9XG4gICAqL1xuICBmdW5jdGlvbiBjYWxjdWxhdGVCYWNrd2FyZEluZGV4ICh2aWV3U2l6ZSkge1xuICAgIGNvbnN0IHsgaW5kZXggfSA9IEdsaWRlXG5cbiAgICBpZiAoR2xpZGUuaXNUeXBlKCdjYXJvdXNlbCcpKSB7XG4gICAgICByZXR1cm4gaW5kZXggLSB2aWV3U2l6ZVxuICAgIH1cblxuICAgIC8vIGVuc3VyZSBvdXIgYmFjayBuYXZpZ2F0aW9uIHJlc3VsdHMgaW4gdGhlIHNhbWUgaW5kZXggYXMgYSBmb3J3YXJkIG5hdmlnYXRpb25cbiAgICAvLyB0byBleHBlcmllbmNlIGEgaG9tb2dlbmVvdXMgcGFnaW5nXG4gICAgY29uc3QgdmlldyA9IE1hdGguY2VpbChpbmRleCAvIHZpZXdTaXplKVxuXG4gICAgcmV0dXJuICh2aWV3IC0gMSkgKiB2aWV3U2l6ZVxuICB9XG5cbiAgLyoqXG4gICAqIE5vcm1hbGl6ZXMgdGhlIGdpdmVuIGJhY2t3YXJkIGluZGV4IGJhc2VkIG9uIGdsaWRlIHNldHRpbmdzLCBwcmV2ZW50aW5nIGl0IHRvIGV4Y2VlZCBjZXJ0YWluIGJvdW5kYXJpZXNcbiAgICpcbiAgICogQHBhcmFtIGluZGV4XG4gICAqIEBwYXJhbSBsZW5ndGhcbiAgICogQHBhcmFtIHZpZXdTaXplXG4gICAqIEByZXR1cm5zIHsqfVxuICAgKi9cbiAgZnVuY3Rpb24gbm9ybWFsaXplQmFja3dhcmRJbmRleCAoaW5kZXgsIHZpZXdTaXplKSB7XG4gICAgY29uc3QgeyBsZW5ndGggfSA9IFJ1blxuXG4gICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgIHJldHVybiBpbmRleFxuICAgIH1cblxuICAgIGlmIChHbGlkZS5pc1R5cGUoJ2Nhcm91c2VsJykpIHtcbiAgICAgIHJldHVybiBpbmRleCArIChsZW5ndGggKyAxKVxuICAgIH1cblxuICAgIGlmIChHbGlkZS5zZXR0aW5ncy5yZXdpbmQpIHtcbiAgICAgIC8vIGJvdW5kIGRvZXMgZnVubnkgdGhpbmdzIHdpdGggdGhlIGxlbmd0aCwgdGhlcmVmb3Igd2UgaGF2ZSB0byBiZSBjZXJ0YWluXG4gICAgICAvLyB0aGF0IHdlIGFyZSBvbiBmaXJzdCBwb3NzaWJsZSBpbmRleCB2YWx1ZSBiZWZvcmUgd2UgdG8gcmV3aW5kIHRvIHRoZSBsZW5ndGggZ2l2ZW4gYnkgYm91bmRcbiAgICAgIGlmIChSdW4uaXNCb3VuZCgpICYmIFJ1bi5pc1N0YXJ0KCkpIHtcbiAgICAgICAgcmV0dXJuIGxlbmd0aFxuICAgICAgfVxuXG4gICAgICByZXR1cm4gTWF0aC5mbG9vcihsZW5ndGggLyB2aWV3U2l6ZSkgKiB2aWV3U2l6ZVxuICAgIH1cblxuICAgIHJldHVybiAwXG4gIH1cblxuICBkZWZpbmUoUnVuLCAnbW92ZScsIHtcbiAgICAvKipcbiAgICAgKiBHZXRzIHZhbHVlIG9mIHRoZSBtb3ZlIHNjaGVtYS5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAgICovXG4gICAgZ2V0ICgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9tXG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNldHMgdmFsdWUgb2YgdGhlIG1vdmUgc2NoZW1hLlxuICAgICAqXG4gICAgICogQHJldHVybnMge09iamVjdH1cbiAgICAgKi9cbiAgICBzZXQgKHZhbHVlKSB7XG4gICAgICBsZXQgc3RlcCA9IHZhbHVlLnN1YnN0cigxKVxuXG4gICAgICB0aGlzLl9tID0ge1xuICAgICAgICBkaXJlY3Rpb246IHZhbHVlLnN1YnN0cigwLCAxKSxcbiAgICAgICAgc3RlcHM6IHN0ZXAgPyAodG9JbnQoc3RlcCkgPyB0b0ludChzdGVwKSA6IHN0ZXApIDogMFxuICAgICAgfVxuICAgIH1cbiAgfSlcblxuICBkZWZpbmUoUnVuLCAnbGVuZ3RoJywge1xuICAgIC8qKlxuICAgICAqIEdldHMgdmFsdWUgb2YgdGhlIHJ1bm5pbmcgZGlzdGFuY2UgYmFzZWRcbiAgICAgKiBvbiB6ZXJvLWluZGV4aW5nIG51bWJlciBvZiBzbGlkZXMuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9XG4gICAgICovXG4gICAgZ2V0ICgpIHtcbiAgICAgIGxldCB7IHNldHRpbmdzIH0gPSBHbGlkZVxuICAgICAgbGV0IHsgbGVuZ3RoIH0gPSBDb21wb25lbnRzLkh0bWwuc2xpZGVzXG5cbiAgICAgIC8vIElmIHRoZSBgYm91bmRgIG9wdGlvbiBpcyBhY3RpdmUsIGEgbWF4aW11bSBydW5uaW5nIGRpc3RhbmNlIHNob3VsZCBiZVxuICAgICAgLy8gcmVkdWNlZCBieSBgcGVyVmlld2AgYW5kIGBmb2N1c0F0YCBzZXR0aW5ncy4gUnVubmluZyBkaXN0YW5jZVxuICAgICAgLy8gc2hvdWxkIGVuZCBiZWZvcmUgY3JlYXRpbmcgYW4gZW1wdHkgc3BhY2UgYWZ0ZXIgaW5zdGFuY2UuXG4gICAgICBpZiAodGhpcy5pc0JvdW5kKCkpIHtcbiAgICAgICAgcmV0dXJuIChsZW5ndGggLSAxKSAtICh0b0ludChzZXR0aW5ncy5wZXJWaWV3KSAtIDEpICsgdG9JbnQoc2V0dGluZ3MuZm9jdXNBdClcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGxlbmd0aCAtIDFcbiAgICB9XG4gIH0pXG5cbiAgZGVmaW5lKFJ1biwgJ29mZnNldCcsIHtcbiAgICAvKipcbiAgICAgKiBHZXRzIHN0YXR1cyBvZiB0aGUgb2Zmc2V0dGluZyBmbGFnLlxuICAgICAqXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn1cbiAgICAgKi9cbiAgICBnZXQgKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX29cbiAgICB9XG4gIH0pXG5cbiAgcmV0dXJuIFJ1blxufVxuIiwiaW1wb3J0IEV2ZW50c0JpbmRlciBmcm9tICcuLi9jb3JlL2V2ZW50L2V2ZW50cy1iaW5kZXInXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIChHbGlkZSwgQ29tcG9uZW50cywgRXZlbnRzKSB7XG4gIC8qKlxuICAgKiBJbnN0YW5jZSBvZiB0aGUgYmluZGVyIGZvciBET00gRXZlbnRzLlxuICAgKlxuICAgKiBAdHlwZSB7RXZlbnRzQmluZGVyfVxuICAgKi9cbiAgY29uc3QgQmluZGVyID0gbmV3IEV2ZW50c0JpbmRlcigpXG5cbiAgY29uc3QgSW1hZ2VzID0ge1xuICAgIC8qKlxuICAgICAqIEJpbmRzIGxpc3RlbmVyIHRvIGdsaWRlIHdyYXBwZXIuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtWb2lkfVxuICAgICAqL1xuICAgIG1vdW50ICgpIHtcbiAgICAgIHRoaXMuYmluZCgpXG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEJpbmRzIGBkcmFnc3RhcnRgIGV2ZW50IG9uIHdyYXBwZXIgdG8gcHJldmVudCBkcmFnZ2luZyBpbWFnZXMuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtWb2lkfVxuICAgICAqL1xuICAgIGJpbmQgKCkge1xuICAgICAgQmluZGVyLm9uKCdkcmFnc3RhcnQnLCBDb21wb25lbnRzLkh0bWwud3JhcHBlciwgdGhpcy5kcmFnc3RhcnQpXG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFVuYmluZHMgYGRyYWdzdGFydGAgZXZlbnQgb24gd3JhcHBlci5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1ZvaWR9XG4gICAgICovXG4gICAgdW5iaW5kICgpIHtcbiAgICAgIEJpbmRlci5vZmYoJ2RyYWdzdGFydCcsIENvbXBvbmVudHMuSHRtbC53cmFwcGVyKVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBFdmVudCBoYW5kbGVyLiBQcmV2ZW50cyBkcmFnZ2luZy5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1ZvaWR9XG4gICAgICovXG4gICAgZHJhZ3N0YXJ0IChldmVudCkge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmUgYmluZGluZ3MgZnJvbSBpbWFnZXM6XG4gICAqIC0gb24gZGVzdHJveWluZywgdG8gcmVtb3ZlIGFkZGVkIEV2ZW50TGlzdGVuZXJzXG4gICAqL1xuICBFdmVudHMub24oJ2Rlc3Ryb3knLCAoKSA9PiB7XG4gICAgSW1hZ2VzLnVuYmluZCgpXG4gICAgQmluZGVyLmRlc3Ryb3koKVxuICB9KVxuXG4gIHJldHVybiBJbWFnZXNcbn1cbiIsImltcG9ydCB7IGRlZmluZSB9IGZyb20gJy4uL3V0aWxzL29iamVjdCdcblxuaW1wb3J0IEV2ZW50c0JpbmRlciBmcm9tICcuLi9jb3JlL2V2ZW50L2V2ZW50cy1iaW5kZXInXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIChHbGlkZSwgQ29tcG9uZW50cywgRXZlbnRzKSB7XG4gIC8qKlxuICAgKiBJbnN0YW5jZSBvZiB0aGUgYmluZGVyIGZvciBET00gRXZlbnRzLlxuICAgKlxuICAgKiBAdHlwZSB7RXZlbnRzQmluZGVyfVxuICAgKi9cbiAgY29uc3QgQmluZGVyID0gbmV3IEV2ZW50c0JpbmRlcigpXG5cbiAgLyoqXG4gICAqIEhvbGRzIGRldGFjaGluZyBzdGF0dXMgb2YgYW5jaG9ycy5cbiAgICogUHJldmVudHMgZGV0YWNoaW5nIG9mIGFscmVhZHkgZGV0YWNoZWQgYW5jaG9ycy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHR5cGUge0Jvb2xlYW59XG4gICAqL1xuICBsZXQgZGV0YWNoZWQgPSBmYWxzZVxuXG4gIC8qKlxuICAgKiBIb2xkcyBwcmV2ZW50aW5nIHN0YXR1cyBvZiBhbmNob3JzLlxuICAgKiBJZiBgdHJ1ZWAgcmVkaXJlY3Rpb24gYWZ0ZXIgY2xpY2sgd2lsbCBiZSBkaXNhYmxlZC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHR5cGUge0Jvb2xlYW59XG4gICAqL1xuICBsZXQgcHJldmVudGVkID0gZmFsc2VcblxuICBjb25zdCBBbmNob3JzID0ge1xuICAgIC8qKlxuICAgICAqIFNldHVwcyBhIGluaXRpYWwgc3RhdGUgb2YgYW5jaG9ycyBjb21wb25lbnQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Vm9pZH1cbiAgICAgKi9cbiAgICBtb3VudCAoKSB7XG4gICAgICAvKipcbiAgICAgICAqIEhvbGRzIGNvbGxlY3Rpb24gb2YgYW5jaG9ycyBlbGVtZW50cy5cbiAgICAgICAqXG4gICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICogQHR5cGUge0hUTUxDb2xsZWN0aW9ufVxuICAgICAgICovXG4gICAgICB0aGlzLl9hID0gQ29tcG9uZW50cy5IdG1sLndyYXBwZXIucXVlcnlTZWxlY3RvckFsbCgnYScpXG5cbiAgICAgIHRoaXMuYmluZCgpXG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEJpbmRzIGV2ZW50cyB0byBhbmNob3JzIGluc2lkZSBhIHRyYWNrLlxuICAgICAqXG4gICAgICogQHJldHVybiB7Vm9pZH1cbiAgICAgKi9cbiAgICBiaW5kICgpIHtcbiAgICAgIEJpbmRlci5vbignY2xpY2snLCBDb21wb25lbnRzLkh0bWwud3JhcHBlciwgdGhpcy5jbGljaylcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogVW5iaW5kcyBldmVudHMgYXR0YWNoZWQgdG8gYW5jaG9ycyBpbnNpZGUgYSB0cmFjay5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1ZvaWR9XG4gICAgICovXG4gICAgdW5iaW5kICgpIHtcbiAgICAgIEJpbmRlci5vZmYoJ2NsaWNrJywgQ29tcG9uZW50cy5IdG1sLndyYXBwZXIpXG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEhhbmRsZXIgZm9yIGNsaWNrIGV2ZW50LiBQcmV2ZW50cyBjbGlja3Mgd2hlbiBnbGlkZSBpcyBpbiBgcHJldmVudGAgc3RhdHVzLlxuICAgICAqXG4gICAgICogQHBhcmFtICB7T2JqZWN0fSBldmVudFxuICAgICAqIEByZXR1cm4ge1ZvaWR9XG4gICAgICovXG4gICAgY2xpY2sgKGV2ZW50KSB7XG4gICAgICBpZiAocHJldmVudGVkKSB7XG4gICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpXG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogRGV0YWNoZXMgYW5jaG9ycyBjbGljayBldmVudCBpbnNpZGUgZ2xpZGUuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtzZWxmfVxuICAgICAqL1xuICAgIGRldGFjaCAoKSB7XG4gICAgICBwcmV2ZW50ZWQgPSB0cnVlXG5cbiAgICAgIGlmICghZGV0YWNoZWQpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLml0ZW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgdGhpcy5pdGVtc1tpXS5kcmFnZ2FibGUgPSBmYWxzZVxuXG4gICAgICAgICAgdGhpcy5pdGVtc1tpXS5zZXRBdHRyaWJ1dGUoXG4gICAgICAgICAgICAnZGF0YS1ocmVmJyxcbiAgICAgICAgICAgIHRoaXMuaXRlbXNbaV0uZ2V0QXR0cmlidXRlKCdocmVmJylcbiAgICAgICAgICApXG5cbiAgICAgICAgICB0aGlzLml0ZW1zW2ldLnJlbW92ZUF0dHJpYnV0ZSgnaHJlZicpXG4gICAgICAgIH1cblxuICAgICAgICBkZXRhY2hlZCA9IHRydWVcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXNcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQXR0YWNoZXMgYW5jaG9ycyBjbGljayBldmVudHMgaW5zaWRlIGdsaWRlLlxuICAgICAqXG4gICAgICogQHJldHVybiB7c2VsZn1cbiAgICAgKi9cbiAgICBhdHRhY2ggKCkge1xuICAgICAgcHJldmVudGVkID0gZmFsc2VcblxuICAgICAgaWYgKGRldGFjaGVkKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5pdGVtcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIHRoaXMuaXRlbXNbaV0uZHJhZ2dhYmxlID0gdHJ1ZVxuXG4gICAgICAgICAgdGhpcy5pdGVtc1tpXS5zZXRBdHRyaWJ1dGUoXG4gICAgICAgICAgICAnaHJlZicsXG4gICAgICAgICAgICB0aGlzLml0ZW1zW2ldLmdldEF0dHJpYnV0ZSgnZGF0YS1ocmVmJylcbiAgICAgICAgICApXG4gICAgICAgIH1cblxuICAgICAgICBkZXRhY2hlZCA9IGZhbHNlXG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuICB9XG5cbiAgZGVmaW5lKEFuY2hvcnMsICdpdGVtcycsIHtcbiAgICAvKipcbiAgICAgKiBHZXRzIGNvbGxlY3Rpb24gb2YgdGhlIGFycm93cyBIVE1MIGVsZW1lbnRzLlxuICAgICAqXG4gICAgICogQHJldHVybiB7SFRNTEVsZW1lbnRbXX1cbiAgICAgKi9cbiAgICBnZXQgKCkge1xuICAgICAgcmV0dXJuIEFuY2hvcnMuX2FcbiAgICB9XG4gIH0pXG5cbiAgLyoqXG4gICAqIERldGFjaCBhbmNob3JzIGluc2lkZSBzbGlkZXM6XG4gICAqIC0gb24gc3dpcGluZywgc28gdGhleSB3b24ndCByZWRpcmVjdCB0byBpdHMgYGhyZWZgIGF0dHJpYnV0ZXNcbiAgICovXG4gIEV2ZW50cy5vbignc3dpcGUubW92ZScsICgpID0+IHtcbiAgICBBbmNob3JzLmRldGFjaCgpXG4gIH0pXG5cbiAgLyoqXG4gICAqIEF0dGFjaCBhbmNob3JzIGluc2lkZSBzbGlkZXM6XG4gICAqIC0gYWZ0ZXIgc3dpcGluZyBhbmQgdHJhbnNpdGlvbnMgZW5kcywgc28gdGhleSBjYW4gcmVkaXJlY3QgYWZ0ZXIgY2xpY2sgYWdhaW5cbiAgICovXG4gIEV2ZW50cy5vbignc3dpcGUuZW5kJywgKCkgPT4ge1xuICAgIENvbXBvbmVudHMuVHJhbnNpdGlvbi5hZnRlcigoKSA9PiB7XG4gICAgICBBbmNob3JzLmF0dGFjaCgpXG4gICAgfSlcbiAgfSlcblxuICAvKipcbiAgICogVW5iaW5kIGFuY2hvcnMgaW5zaWRlIHNsaWRlczpcbiAgICogLSBvbiBkZXN0cm95aW5nLCB0byBicmluZyBhbmNob3JzIHRvIGl0cyBpbml0aWFsIHN0YXRlXG4gICAqL1xuICBFdmVudHMub24oJ2Rlc3Ryb3knLCAoKSA9PiB7XG4gICAgQW5jaG9ycy5hdHRhY2goKVxuICAgIEFuY2hvcnMudW5iaW5kKClcbiAgICBCaW5kZXIuZGVzdHJveSgpXG4gIH0pXG5cbiAgcmV0dXJuIEFuY2hvcnNcbn1cbiIsImltcG9ydCB7IHNpYmxpbmdzIH0gZnJvbSAnLi4vdXRpbHMvZG9tJ1xuaW1wb3J0IHsgZGVmaW5lIH0gZnJvbSAnLi4vdXRpbHMvb2JqZWN0J1xuaW1wb3J0IHN1cHBvcnRzUGFzc2l2ZSBmcm9tICcuLi91dGlscy9kZXRlY3QtcGFzc2l2ZS1ldmVudCdcblxuaW1wb3J0IEV2ZW50c0JpbmRlciBmcm9tICcuLi9jb3JlL2V2ZW50L2V2ZW50cy1iaW5kZXInXG5cbmNvbnN0IE5BVl9TRUxFQ1RPUiA9ICdbZGF0YS1nbGlkZS1lbD1cImNvbnRyb2xzW25hdl1cIl0nXG5jb25zdCBDT05UUk9MU19TRUxFQ1RPUiA9ICdbZGF0YS1nbGlkZS1lbF49XCJjb250cm9sc1wiXSdcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKEdsaWRlLCBDb21wb25lbnRzLCBFdmVudHMpIHtcbiAgLyoqXG4gICAqIEluc3RhbmNlIG9mIHRoZSBiaW5kZXIgZm9yIERPTSBFdmVudHMuXG4gICAqXG4gICAqIEB0eXBlIHtFdmVudHNCaW5kZXJ9XG4gICAqL1xuICBjb25zdCBCaW5kZXIgPSBuZXcgRXZlbnRzQmluZGVyKClcblxuICBsZXQgY2FwdHVyZSA9IChzdXBwb3J0c1Bhc3NpdmUpID8geyBwYXNzaXZlOiB0cnVlIH0gOiBmYWxzZVxuXG4gIGNvbnN0IENvbnRyb2xzID0ge1xuICAgIC8qKlxuICAgICAqIEluaXRzIGFycm93cy4gQmluZHMgZXZlbnRzIGxpc3RlbmVyc1xuICAgICAqIHRvIHRoZSBhcnJvd3MgSFRNTCBlbGVtZW50cy5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1ZvaWR9XG4gICAgICovXG4gICAgbW91bnQgKCkge1xuICAgICAgLyoqXG4gICAgICAgKiBDb2xsZWN0aW9uIG9mIG5hdmlnYXRpb24gSFRNTCBlbGVtZW50cy5cbiAgICAgICAqXG4gICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICogQHR5cGUge0hUTUxDb2xsZWN0aW9ufVxuICAgICAgICovXG4gICAgICB0aGlzLl9uID0gQ29tcG9uZW50cy5IdG1sLnJvb3QucXVlcnlTZWxlY3RvckFsbChOQVZfU0VMRUNUT1IpXG5cbiAgICAgIC8qKlxuICAgICAgICogQ29sbGVjdGlvbiBvZiBjb250cm9scyBIVE1MIGVsZW1lbnRzLlxuICAgICAgICpcbiAgICAgICAqIEBwcml2YXRlXG4gICAgICAgKiBAdHlwZSB7SFRNTENvbGxlY3Rpb259XG4gICAgICAgKi9cbiAgICAgIHRoaXMuX2MgPSBDb21wb25lbnRzLkh0bWwucm9vdC5xdWVyeVNlbGVjdG9yQWxsKENPTlRST0xTX1NFTEVDVE9SKVxuXG4gICAgICB0aGlzLmFkZEJpbmRpbmdzKClcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2V0cyBhY3RpdmUgY2xhc3MgdG8gY3VycmVudCBzbGlkZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1ZvaWR9XG4gICAgICovXG4gICAgc2V0QWN0aXZlICgpIHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5fbi5sZW5ndGg7IGkrKykge1xuICAgICAgICB0aGlzLmFkZENsYXNzKHRoaXMuX25baV0uY2hpbGRyZW4pXG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYWN0aXZlIGNsYXNzIHRvIGN1cnJlbnQgc2xpZGUuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtWb2lkfVxuICAgICAqL1xuICAgIHJlbW92ZUFjdGl2ZSAoKSB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX24ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdGhpcy5yZW1vdmVDbGFzcyh0aGlzLl9uW2ldLmNoaWxkcmVuKVxuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBUb2dnbGVzIGFjdGl2ZSBjbGFzcyBvbiBpdGVtcyBpbnNpZGUgbmF2aWdhdGlvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSAge0hUTUxFbGVtZW50fSBjb250cm9sc1xuICAgICAqIEByZXR1cm4ge1ZvaWR9XG4gICAgICovXG4gICAgYWRkQ2xhc3MgKGNvbnRyb2xzKSB7XG4gICAgICBsZXQgc2V0dGluZ3MgPSBHbGlkZS5zZXR0aW5nc1xuICAgICAgbGV0IGl0ZW0gPSBjb250cm9sc1tHbGlkZS5pbmRleF1cblxuICAgICAgaWYgKGl0ZW0pIHtcbiAgICAgICAgaXRlbS5jbGFzc0xpc3QuYWRkKHNldHRpbmdzLmNsYXNzZXMuYWN0aXZlTmF2KVxuXG4gICAgICAgIHNpYmxpbmdzKGl0ZW0pLmZvckVhY2goc2libGluZyA9PiB7XG4gICAgICAgICAgc2libGluZy5jbGFzc0xpc3QucmVtb3ZlKHNldHRpbmdzLmNsYXNzZXMuYWN0aXZlTmF2KVxuICAgICAgICB9KVxuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGFjdGl2ZSBjbGFzcyBmcm9tIGFjdGl2ZSBjb250cm9sLlxuICAgICAqXG4gICAgICogQHBhcmFtICB7SFRNTEVsZW1lbnR9IGNvbnRyb2xzXG4gICAgICogQHJldHVybiB7Vm9pZH1cbiAgICAgKi9cbiAgICByZW1vdmVDbGFzcyAoY29udHJvbHMpIHtcbiAgICAgIGxldCBpdGVtID0gY29udHJvbHNbR2xpZGUuaW5kZXhdXG5cbiAgICAgIGlmIChpdGVtKSB7XG4gICAgICAgIGl0ZW0uY2xhc3NMaXN0LnJlbW92ZShHbGlkZS5zZXR0aW5ncy5jbGFzc2VzLmFjdGl2ZU5hdilcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQWRkcyBoYW5kbGVzIHRvIHRoZSBlYWNoIGdyb3VwIG9mIGNvbnRyb2xzLlxuICAgICAqXG4gICAgICogQHJldHVybiB7Vm9pZH1cbiAgICAgKi9cbiAgICBhZGRCaW5kaW5ncyAoKSB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX2MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdGhpcy5iaW5kKHRoaXMuX2NbaV0uY2hpbGRyZW4pXG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgaGFuZGxlcyBmcm9tIHRoZSBlYWNoIGdyb3VwIG9mIGNvbnRyb2xzLlxuICAgICAqXG4gICAgICogQHJldHVybiB7Vm9pZH1cbiAgICAgKi9cbiAgICByZW1vdmVCaW5kaW5ncyAoKSB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX2MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdGhpcy51bmJpbmQodGhpcy5fY1tpXS5jaGlsZHJlbilcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQmluZHMgZXZlbnRzIHRvIGFycm93cyBIVE1MIGVsZW1lbnRzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtIVE1MQ29sbGVjdGlvbn0gZWxlbWVudHNcbiAgICAgKiBAcmV0dXJuIHtWb2lkfVxuICAgICAqL1xuICAgIGJpbmQgKGVsZW1lbnRzKSB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGVsZW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIEJpbmRlci5vbignY2xpY2snLCBlbGVtZW50c1tpXSwgdGhpcy5jbGljaylcbiAgICAgICAgQmluZGVyLm9uKCd0b3VjaHN0YXJ0JywgZWxlbWVudHNbaV0sIHRoaXMuY2xpY2ssIGNhcHR1cmUpXG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFVuYmluZHMgZXZlbnRzIGJpbmRlZCB0byB0aGUgYXJyb3dzIEhUTUwgZWxlbWVudHMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0hUTUxDb2xsZWN0aW9ufSBlbGVtZW50c1xuICAgICAqIEByZXR1cm4ge1ZvaWR9XG4gICAgICovXG4gICAgdW5iaW5kIChlbGVtZW50cykge1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlbGVtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBCaW5kZXIub2ZmKFsnY2xpY2snLCAndG91Y2hzdGFydCddLCBlbGVtZW50c1tpXSlcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogSGFuZGxlcyBgY2xpY2tgIGV2ZW50IG9uIHRoZSBhcnJvd3MgSFRNTCBlbGVtZW50cy5cbiAgICAgKiBNb3ZlcyBzbGlkZXIgaW4gZHJpZWN0aW9uIHByZWNpc2VkIGluXG4gICAgICogYGRhdGEtZ2xpZGUtZGlyYCBhdHRyaWJ1dGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZXZlbnRcbiAgICAgKiBAcmV0dXJuIHtWb2lkfVxuICAgICAqL1xuICAgIGNsaWNrIChldmVudCkge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuXG4gICAgICBDb21wb25lbnRzLlJ1bi5tYWtlKENvbXBvbmVudHMuRGlyZWN0aW9uLnJlc29sdmUoZXZlbnQuY3VycmVudFRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtZ2xpZGUtZGlyJykpKVxuICAgIH1cbiAgfVxuXG4gIGRlZmluZShDb250cm9scywgJ2l0ZW1zJywge1xuICAgIC8qKlxuICAgICAqIEdldHMgY29sbGVjdGlvbiBvZiB0aGUgY29udHJvbHMgSFRNTCBlbGVtZW50cy5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge0hUTUxFbGVtZW50W119XG4gICAgICovXG4gICAgZ2V0ICgpIHtcbiAgICAgIHJldHVybiBDb250cm9scy5fY1xuICAgIH1cbiAgfSlcblxuICAvKipcbiAgICogU3dhcCBhY3RpdmUgY2xhc3Mgb2YgY3VycmVudCBuYXZpZ2F0aW9uIGl0ZW06XG4gICAqIC0gYWZ0ZXIgbW91bnRpbmcgdG8gc2V0IGl0IHRvIGluaXRpYWwgaW5kZXhcbiAgICogLSBhZnRlciBlYWNoIG1vdmUgdG8gdGhlIG5ldyBpbmRleFxuICAgKi9cbiAgRXZlbnRzLm9uKFsnbW91bnQuYWZ0ZXInLCAnbW92ZS5hZnRlciddLCAoKSA9PiB7XG4gICAgQ29udHJvbHMuc2V0QWN0aXZlKClcbiAgfSlcblxuICAvKipcbiAgICogUmVtb3ZlIGJpbmRpbmdzIGFuZCBIVE1MIENsYXNzZXM6XG4gICAqIC0gb24gZGVzdHJveWluZywgdG8gYnJpbmcgbWFya3VwIHRvIGl0cyBpbml0aWFsIHN0YXRlXG4gICAqL1xuICBFdmVudHMub24oJ2Rlc3Ryb3knLCAoKSA9PiB7XG4gICAgQ29udHJvbHMucmVtb3ZlQmluZGluZ3MoKVxuICAgIENvbnRyb2xzLnJlbW92ZUFjdGl2ZSgpXG4gICAgQmluZGVyLmRlc3Ryb3koKVxuICB9KVxuXG4gIHJldHVybiBDb250cm9sc1xufVxuIiwiaW1wb3J0IEV2ZW50c0JpbmRlciBmcm9tICcuLi9jb3JlL2V2ZW50L2V2ZW50cy1iaW5kZXInXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIChHbGlkZSwgQ29tcG9uZW50cywgRXZlbnRzKSB7XG4gIC8qKlxuICAgKiBJbnN0YW5jZSBvZiB0aGUgYmluZGVyIGZvciBET00gRXZlbnRzLlxuICAgKlxuICAgKiBAdHlwZSB7RXZlbnRzQmluZGVyfVxuICAgKi9cbiAgY29uc3QgQmluZGVyID0gbmV3IEV2ZW50c0JpbmRlcigpXG5cbiAgY29uc3QgS2V5Ym9hcmQgPSB7XG4gICAgLyoqXG4gICAgICogQmluZHMga2V5Ym9hcmQgZXZlbnRzIG9uIGNvbXBvbmVudCBtb3VudC5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1ZvaWR9XG4gICAgICovXG4gICAgbW91bnQgKCkge1xuICAgICAgaWYgKEdsaWRlLnNldHRpbmdzLmtleWJvYXJkKSB7XG4gICAgICAgIHRoaXMuYmluZCgpXG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEFkZHMga2V5Ym9hcmQgcHJlc3MgZXZlbnRzLlxuICAgICAqXG4gICAgICogQHJldHVybiB7Vm9pZH1cbiAgICAgKi9cbiAgICBiaW5kICgpIHtcbiAgICAgIEJpbmRlci5vbigna2V5dXAnLCBkb2N1bWVudCwgdGhpcy5wcmVzcylcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBrZXlib2FyZCBwcmVzcyBldmVudHMuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtWb2lkfVxuICAgICAqL1xuICAgIHVuYmluZCAoKSB7XG4gICAgICBCaW5kZXIub2ZmKCdrZXl1cCcsIGRvY3VtZW50KVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBIYW5kbGVzIGtleWJvYXJkJ3MgYXJyb3dzIHByZXNzIGFuZCBtb3ZpbmcgZ2xpZGUgZm93YXJkIGFuZCBiYWNrd2FyZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSAge09iamVjdH0gZXZlbnRcbiAgICAgKiBAcmV0dXJuIHtWb2lkfVxuICAgICAqL1xuICAgIHByZXNzIChldmVudCkge1xuICAgICAgaWYgKGV2ZW50LmtleUNvZGUgPT09IDM5KSB7XG4gICAgICAgIENvbXBvbmVudHMuUnVuLm1ha2UoQ29tcG9uZW50cy5EaXJlY3Rpb24ucmVzb2x2ZSgnPicpKVxuICAgICAgfVxuXG4gICAgICBpZiAoZXZlbnQua2V5Q29kZSA9PT0gMzcpIHtcbiAgICAgICAgQ29tcG9uZW50cy5SdW4ubWFrZShDb21wb25lbnRzLkRpcmVjdGlvbi5yZXNvbHZlKCc8JykpXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZSBiaW5kaW5ncyBmcm9tIGtleWJvYXJkOlxuICAgKiAtIG9uIGRlc3Ryb3lpbmcgdG8gcmVtb3ZlIGFkZGVkIGV2ZW50c1xuICAgKiAtIG9uIHVwZGF0aW5nIHRvIHJlbW92ZSBldmVudHMgYmVmb3JlIHJlbW91bnRpbmdcbiAgICovXG4gIEV2ZW50cy5vbihbJ2Rlc3Ryb3knLCAndXBkYXRlJ10sICgpID0+IHtcbiAgICBLZXlib2FyZC51bmJpbmQoKVxuICB9KVxuXG4gIC8qKlxuICAgKiBSZW1vdW50IGNvbXBvbmVudFxuICAgKiAtIG9uIHVwZGF0aW5nIHRvIHJlZmxlY3QgcG90ZW50aWFsIGNoYW5nZXMgaW4gc2V0dGluZ3NcbiAgICovXG4gIEV2ZW50cy5vbigndXBkYXRlJywgKCkgPT4ge1xuICAgIEtleWJvYXJkLm1vdW50KClcbiAgfSlcblxuICAvKipcbiAgICogRGVzdHJveSBiaW5kZXI6XG4gICAqIC0gb24gZGVzdHJveWluZyB0byByZW1vdmUgbGlzdGVuZXJzXG4gICAqL1xuICBFdmVudHMub24oJ2Rlc3Ryb3knLCAoKSA9PiB7XG4gICAgQmluZGVyLmRlc3Ryb3koKVxuICB9KVxuXG4gIHJldHVybiBLZXlib2FyZFxufVxuIiwiaW1wb3J0IHsgZGVmaW5lIH0gZnJvbSAnLi4vdXRpbHMvb2JqZWN0J1xuaW1wb3J0IHsgdG9JbnQsIGlzVW5kZWZpbmVkIH0gZnJvbSAnLi4vdXRpbHMvdW5pdCdcblxuaW1wb3J0IEV2ZW50c0JpbmRlciBmcm9tICcuLi9jb3JlL2V2ZW50L2V2ZW50cy1iaW5kZXInXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIChHbGlkZSwgQ29tcG9uZW50cywgRXZlbnRzKSB7XG4gIC8qKlxuICAgKiBJbnN0YW5jZSBvZiB0aGUgYmluZGVyIGZvciBET00gRXZlbnRzLlxuICAgKlxuICAgKiBAdHlwZSB7RXZlbnRzQmluZGVyfVxuICAgKi9cbiAgY29uc3QgQmluZGVyID0gbmV3IEV2ZW50c0JpbmRlcigpXG5cbiAgY29uc3QgQXV0b3BsYXkgPSB7XG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZXMgYXV0b3BsYXlpbmcgYW5kIGV2ZW50cy5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1ZvaWR9XG4gICAgICovXG4gICAgbW91bnQgKCkge1xuICAgICAgdGhpcy5zdGFydCgpXG5cbiAgICAgIGlmIChHbGlkZS5zZXR0aW5ncy5ob3ZlcnBhdXNlKSB7XG4gICAgICAgIHRoaXMuYmluZCgpXG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFN0YXJ0cyBhdXRvcGxheWluZyBpbiBjb25maWd1cmVkIGludGVydmFsLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtCb29sZWFufE51bWJlcn0gZm9yY2UgUnVuIGF1dG9wbGF5aW5nIHdpdGggcGFzc2VkIGludGVydmFsIHJlZ2FyZGxlc3Mgb2YgYGF1dG9wbGF5YCBzZXR0aW5nc1xuICAgICAqIEByZXR1cm4ge1ZvaWR9XG4gICAgICovXG4gICAgc3RhcnQgKCkge1xuICAgICAgaWYgKEdsaWRlLnNldHRpbmdzLmF1dG9wbGF5KSB7XG4gICAgICAgIGlmIChpc1VuZGVmaW5lZCh0aGlzLl9pKSkge1xuICAgICAgICAgIHRoaXMuX2kgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnN0b3AoKVxuXG4gICAgICAgICAgICBDb21wb25lbnRzLlJ1bi5tYWtlKCc+JylcblxuICAgICAgICAgICAgdGhpcy5zdGFydCgpXG4gICAgICAgICAgfSwgdGhpcy50aW1lKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFN0b3BzIGF1dG9ydW5uaW5nIG9mIHRoZSBnbGlkZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1ZvaWR9XG4gICAgICovXG4gICAgc3RvcCAoKSB7XG4gICAgICB0aGlzLl9pID0gY2xlYXJJbnRlcnZhbCh0aGlzLl9pKVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTdG9wcyBhdXRvcGxheWluZyB3aGlsZSBtb3VzZSBpcyBvdmVyIGdsaWRlJ3MgYXJlYS5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1ZvaWR9XG4gICAgICovXG4gICAgYmluZCAoKSB7XG4gICAgICBCaW5kZXIub24oJ21vdXNlb3ZlcicsIENvbXBvbmVudHMuSHRtbC5yb290LCAoKSA9PiB7XG4gICAgICAgIHRoaXMuc3RvcCgpXG4gICAgICB9KVxuXG4gICAgICBCaW5kZXIub24oJ21vdXNlb3V0JywgQ29tcG9uZW50cy5IdG1sLnJvb3QsICgpID0+IHtcbiAgICAgICAgdGhpcy5zdGFydCgpXG4gICAgICB9KVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBVbmJpbmQgbW91c2VvdmVyIGV2ZW50cy5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtWb2lkfVxuICAgICAqL1xuICAgIHVuYmluZCAoKSB7XG4gICAgICBCaW5kZXIub2ZmKFsnbW91c2VvdmVyJywgJ21vdXNlb3V0J10sIENvbXBvbmVudHMuSHRtbC5yb290KVxuICAgIH1cbiAgfVxuXG4gIGRlZmluZShBdXRvcGxheSwgJ3RpbWUnLCB7XG4gICAgLyoqXG4gICAgICogR2V0cyB0aW1lIHBlcmlvZCB2YWx1ZSBmb3IgdGhlIGF1dG9wbGF5IGludGVydmFsLiBQcmlvcml0aXplc1xuICAgICAqIHRpbWVzIGluIGBkYXRhLWdsaWRlLWF1dG9wbGF5YCBhdHRydWJ1dGVzIG92ZXIgb3B0aW9ucy5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge051bWJlcn1cbiAgICAgKi9cbiAgICBnZXQgKCkge1xuICAgICAgbGV0IGF1dG9wbGF5ID0gQ29tcG9uZW50cy5IdG1sLnNsaWRlc1tHbGlkZS5pbmRleF0uZ2V0QXR0cmlidXRlKCdkYXRhLWdsaWRlLWF1dG9wbGF5JylcblxuICAgICAgaWYgKGF1dG9wbGF5KSB7XG4gICAgICAgIHJldHVybiB0b0ludChhdXRvcGxheSlcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRvSW50KEdsaWRlLnNldHRpbmdzLmF1dG9wbGF5KVxuICAgIH1cbiAgfSlcblxuICAvKipcbiAgICogU3RvcCBhdXRvcGxheWluZyBhbmQgdW5iaW5kIGV2ZW50czpcbiAgICogLSBvbiBkZXN0cm95aW5nLCB0byBjbGVhciBkZWZpbmVkIGludGVydmFsXG4gICAqIC0gb24gdXBkYXRpbmcgdmlhIEFQSSB0byByZXNldCBpbnRlcnZhbCB0aGF0IG1heSBjaGFuZ2VkXG4gICAqL1xuICBFdmVudHMub24oWydkZXN0cm95JywgJ3VwZGF0ZSddLCAoKSA9PiB7XG4gICAgQXV0b3BsYXkudW5iaW5kKClcbiAgfSlcblxuICAvKipcbiAgICogU3RvcCBhdXRvcGxheWluZzpcbiAgICogLSBiZWZvcmUgZWFjaCBydW4sIHRvIHJlc3RhcnQgYXV0b3BsYXlpbmdcbiAgICogLSBvbiBwYXVzaW5nIHZpYSBBUElcbiAgICogLSBvbiBkZXN0cm95aW5nLCB0byBjbGVhciBkZWZpbmVkIGludGVydmFsXG4gICAqIC0gd2hpbGUgc3RhcnRpbmcgYSBzd2lwZVxuICAgKiAtIG9uIHVwZGF0aW5nIHZpYSBBUEkgdG8gcmVzZXQgaW50ZXJ2YWwgdGhhdCBtYXkgY2hhbmdlZFxuICAgKi9cbiAgRXZlbnRzLm9uKFsncnVuLmJlZm9yZScsICdwYXVzZScsICdkZXN0cm95JywgJ3N3aXBlLnN0YXJ0JywgJ3VwZGF0ZSddLCAoKSA9PiB7XG4gICAgQXV0b3BsYXkuc3RvcCgpXG4gIH0pXG5cbiAgLyoqXG4gICAqIFN0YXJ0IGF1dG9wbGF5aW5nOlxuICAgKiAtIGFmdGVyIGVhY2ggcnVuLCB0byByZXN0YXJ0IGF1dG9wbGF5aW5nXG4gICAqIC0gb24gcGxheWluZyB2aWEgQVBJXG4gICAqIC0gd2hpbGUgZW5kaW5nIGEgc3dpcGVcbiAgICovXG4gIEV2ZW50cy5vbihbJ3J1bi5hZnRlcicsICdwbGF5JywgJ3N3aXBlLmVuZCddLCAoKSA9PiB7XG4gICAgQXV0b3BsYXkuc3RhcnQoKVxuICB9KVxuXG4gIC8qKlxuICAgKiBSZW1vdW50IGF1dG9wbGF5aW5nOlxuICAgKiAtIG9uIHVwZGF0aW5nIHZpYSBBUEkgdG8gcmVzZXQgaW50ZXJ2YWwgdGhhdCBtYXkgY2hhbmdlZFxuICAgKi9cbiAgRXZlbnRzLm9uKCd1cGRhdGUnLCAoKSA9PiB7XG4gICAgQXV0b3BsYXkubW91bnQoKVxuICB9KVxuXG4gIC8qKlxuICAgKiBEZXN0cm95IGEgYmluZGVyOlxuICAgKiAtIG9uIGRlc3Ryb3lpbmcgZ2xpZGUgaW5zdGFuY2UgdG8gY2xlYXJ1cCBsaXN0ZW5lcnNcbiAgICovXG4gIEV2ZW50cy5vbignZGVzdHJveScsICgpID0+IHtcbiAgICBCaW5kZXIuZGVzdHJveSgpXG4gIH0pXG5cbiAgcmV0dXJuIEF1dG9wbGF5XG59XG4iXSwibmFtZXMiOlsidG9JbnQiLCJ2YWx1ZSIsInBhcnNlSW50IiwiaXNTdHJpbmciLCJpc09iamVjdCIsInR5cGUiLCJpc0Z1bmN0aW9uIiwiaXNVbmRlZmluZWQiLCJpc0FycmF5IiwiY29uc3RydWN0b3IiLCJBcnJheSIsImRlZmluZSIsIm9iaiIsInByb3AiLCJkZWZpbml0aW9uIiwiZGVmaW5lUHJvcGVydHkiLCJtZXJnZU9wdGlvbnMiLCJkZWZhdWx0cyIsInNldHRpbmdzIiwib3B0aW9ucyIsImJhYmVsSGVscGVycy5leHRlbmRzIiwiaGFzT3duUHJvcGVydHkiLCJjbGFzc2VzIiwiZGlyZWN0aW9uIiwiYnJlYWtwb2ludHMiLCJFdmVudHNCdXMiLCJldmVudCIsImhhbmRsZXIiLCJpIiwibGVuZ3RoIiwib24iLCJ0aGlzIiwiaG9wIiwiY2FsbCIsImV2ZW50cyIsImluZGV4IiwicHVzaCIsImNvbnRleHQiLCJlbWl0IiwiZm9yRWFjaCIsIml0ZW0iLCJHbGlkZSIsImV4dGVuc2lvbnMiLCJfZSIsIl9jIiwiZ2xpZGUiLCJjb21wb25lbnRzIiwibmFtZSIsIm1vdW50IiwidHJhbnNmb3JtZXJzIiwiX3QiLCJzdGFydEF0IiwicGF0dGVybiIsIlJ1biIsIm1ha2UiLCJkaXN0YW5jZSIsIlRyYW5zaXRpb24iLCJkaXNhYmxlIiwiTW92ZSIsImludGVydmFsIiwiYXV0b3BsYXkiLCJkaXNhYmxlZCIsIl9vIiwibyIsIl9pIiwiX2QiLCJzdGF0dXMiLCJzZWxlY3RvciIsIm5vdyIsIkRhdGUiLCJnZXRUaW1lIiwidGhyb3R0bGUiLCJmdW5jIiwid2FpdCIsInRpbWVvdXQiLCJhcmdzIiwicmVzdWx0IiwicHJldmlvdXMiLCJsYXRlciIsImxlYWRpbmciLCJhcHBseSIsInRocm90dGxlZCIsImF0IiwicmVtYWluaW5nIiwiYXJndW1lbnRzIiwidHJhaWxpbmciLCJzZXRUaW1lb3V0IiwiY2FuY2VsIiwiTUFSR0lOX1RZUEUiLCJzaWJsaW5ncyIsIm5vZGUiLCJwYXJlbnROb2RlIiwibiIsImZpcnN0Q2hpbGQiLCJtYXRjaGVkIiwibmV4dFNpYmxpbmciLCJub2RlVHlwZSIsImV4aXN0Iiwid2luZG93IiwiSFRNTEVsZW1lbnQiLCJUUkFDS19TRUxFQ1RPUiIsIkV2ZW50c0JpbmRlciIsImVsIiwiY2xvc3VyZSIsImNhcHR1cmUiLCJsaXN0ZW5lcnMiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIlZBTElEX0RJUkVDVElPTlMiLCJGTElQRURfTU9WRU1FTlRTIiwiQ29tcG9uZW50cyIsInRyYW5zbGF0ZSIsIkRpcmVjdGlvbiIsImlzIiwiRXZlbnRzIiwiVFJBTlNGT1JNRVJTIiwibXVsdGlwbGllciIsIk1hdGgiLCJmbG9vciIsIlNpemVzIiwic2xpZGVXaWR0aCIsIkdhcHMiLCJDbG9uZXMiLCJncm93IiwiZm9jdXNBdCIsInBlZWsiLCJQZWVrIiwiYmVmb3JlIiwiZ2FwIiwid2lkdGgiLCJjb25jYXQiLCJSdGwiLCJ0cmFuc2Zvcm1lciIsIm1vZGlmeSIsInN1cHBvcnRzUGFzc2l2ZSIsIm9wdHMiLCJPYmplY3QiLCJlIiwiU1RBUlRfRVZFTlRTIiwiTU9WRV9FVkVOVFMiLCJFTkRfRVZFTlRTIiwiTU9VU0VfRVZFTlRTIiwic29ydEJyZWFrcG9pbnRzIiwicG9pbnRzIiwia2V5cyIsInNvcnQiLCJyZWR1Y2UiLCJyIiwiayIsInNvcnRLZXlzIiwiQ09NUE9ORU5UUyIsIkh0bWwiLCJyb290IiwidHJhY2siLCJxdWVyeVNlbGVjdG9yIiwic2xpZGVzIiwicHJvdG90eXBlIiwic2xpY2UiLCJ3cmFwcGVyIiwiY2hpbGRyZW4iLCJmaWx0ZXIiLCJzbGlkZSIsImNsYXNzTGlzdCIsImNvbnRhaW5zIiwiY2xvbmVTbGlkZSIsIl9yIiwiZG9jdW1lbnQiLCJ0IiwiVHJhbnNsYXRlIiwidHJhbnNmb3JtIiwibXV0YXRvciIsIm11dGF0ZSIsInN0eWxlIiwicGVyVmlldyIsImlzT2Zmc2V0IiwidHJhdmVsRGlzdGFuY2UiLCJpc1R5cGUiLCJzZXQiLCJtb3ZlbWVudCIsImFmdGVyIiwic3RhcnRXaWR0aCIsImdldFN0YXJ0SW5kZXgiLCJnZXRUcmF2ZWxEaXN0YW5jZSIsInJlbW92ZSIsInByb3BlcnR5IiwiYW5pbWF0aW9uVGltaW5nRnVuYyIsImR1cmF0aW9uIiwidHJhbnNpdGlvbiIsImNvbXBvc2UiLCJjYWxsYmFjayIsIm9mZnNldCIsInJld2luZER1cmF0aW9uIiwiYW5pbWF0aW9uRHVyYXRpb24iLCJlbmFibGUiLCJ0b2tlbiIsInNwbGl0Iiwiam9pbiIsImFkZCIsIl92IiwiaW5kZXhPZiIsInJlbW92ZUNsYXNzIiwiYWRkQ2xhc3MiLCJ3cmFwcGVyU2l6ZSIsIm9mZnNldFdpZHRoIiwicmVkdWN0b3IiLCJzZXR1cFNsaWRlcyIsInNldHVwV3JhcHBlciIsImxlbiIsIm1hcmdpbkxlZnQiLCJtYXJnaW5SaWdodCIsIl90aGlzIiwiaXRlbXMiLCJjb2xsZWN0IiwiY2xvbmVDb3VudCIsInJvdW5kIiwiYXBwZW5kIiwicmV2ZXJzZSIsInByZXBlbmQiLCJtYXgiLCJjbG9uZSIsImNsb25lTm9kZSIsInVuc2hpZnQiLCJoYWxmIiwiYXBwZW5kQ2hpbGQiLCJpbnNlcnRCZWZvcmUiLCJyZW1vdmVDaGlsZCIsIkJpbmRlciIsIlJlc2l6ZSIsImJpbmQiLCJvZmYiLCJ1bmJpbmQiLCJkZXN0cm95IiwiQnVpbGQiLCJ0eXBlQ2xhc3MiLCJhY3RpdmVDbGFzcyIsImFjdGl2ZVNsaWRlIiwic2libGluZyIsInJlbW92ZUNsYXNzZXMiLCJtb3ZlIiwid2FpdEZvclRyYW5zaXRpb24iLCJjYWxjdWxhdGUiLCJpc1N0YXJ0IiwiaXNFbmQiLCJzdGVwcyIsInZpZXdTaXplIiwiY291bnRhYmxlU3RlcHMiLCJpc051bWJlciIsImNhbGN1bGF0ZUZvcndhcmRJbmRleCIsInJld2luZCIsImlzQm91bmQiLCJub3JtYWxpemVGb3J3YXJkSW5kZXgiLCJjZWlsIiwiY2FsY3VsYXRlQmFja3dhcmRJbmRleCIsIm5vcm1hbGl6ZUJhY2t3YXJkSW5kZXgiLCJ1bmRlZmluZWQiLCJib3VuZCIsIl9tIiwic3RlcCIsInN1YnN0ciIsInN3aXBlU2luIiwic3dpcGVTdGFydFgiLCJzd2lwZVN0YXJ0WSIsInBhc3NpdmUiLCJTd2lwZSIsImJpbmRTd2lwZVN0YXJ0Iiwic3dpcGUiLCJ0b3VjaGVzIiwicGFnZVgiLCJwYWdlWSIsImJpbmRTd2lwZU1vdmUiLCJiaW5kU3dpcGVFbmQiLCJ0b3VjaEFuZ2xlIiwidG91Y2hSYXRpbyIsInN1YkV4U3giLCJzdWJFeVN5IiwicG93RVgiLCJhYnMiLCJwb3dFWSIsInN3aXBlSHlwb3RlbnVzZSIsInNxcnQiLCJzd2lwZUNhdGhldHVzIiwiYXNpbiIsIlBJIiwic3RvcFByb3BhZ2F0aW9uIiwicGFyc2VGbG9hdCIsInRvRmxvYXQiLCJkcmFnZ2luZyIsInRocmVzaG9sZCIsInN3aXBlRGlzdGFuY2UiLCJzd2lwZURlZyIsInBlclRvdWNoIiwibWluIiwicmVzb2x2ZSIsInVuYmluZFN3aXBlTW92ZSIsInVuYmluZFN3aXBlRW5kIiwic3dpcGVUaHJlc2hvbGQiLCJzdGFydCIsImRyYWdUaHJlc2hvbGQiLCJlbmQiLCJjaGFuZ2VkVG91Y2hlcyIsInN3aXBlYWJsZSIsInVuYmluZFN3aXBlU3RhcnQiLCJJbWFnZXMiLCJkcmFnc3RhcnQiLCJwcmV2ZW50RGVmYXVsdCIsImRldGFjaGVkIiwicHJldmVudGVkIiwiQW5jaG9ycyIsIl9hIiwicXVlcnlTZWxlY3RvckFsbCIsImNsaWNrIiwiZHJhZ2dhYmxlIiwic2V0QXR0cmlidXRlIiwiZ2V0QXR0cmlidXRlIiwicmVtb3ZlQXR0cmlidXRlIiwiZGV0YWNoIiwiYXR0YWNoIiwiQ29udHJvbHMiLCJfbiIsImFkZEJpbmRpbmdzIiwiY29udHJvbHMiLCJhY3RpdmVOYXYiLCJlbGVtZW50cyIsImN1cnJlbnRUYXJnZXQiLCJzZXRBY3RpdmUiLCJyZW1vdmVCaW5kaW5ncyIsInJlbW92ZUFjdGl2ZSIsIktleWJvYXJkIiwia2V5Ym9hcmQiLCJwcmVzcyIsImtleUNvZGUiLCJBdXRvcGxheSIsImhvdmVycGF1c2UiLCJzZXRJbnRlcnZhbCIsInN0b3AiLCJ0aW1lIiwiY2xlYXJJbnRlcnZhbCIsIkJyZWFrcG9pbnRzIiwibWF0Y2hNZWRpYSIsInBvaW50IiwibWF0Y2hlcyIsIm1hdGNoIiwiQ29yZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7dUxBQWUsTUFVUCxpQkFPRyxVQU9BLFVBV0EsTUFPSixhQU9LLGNBT0UsWUFPRixTQVVILGlCQU9TLGlCQU9ELGNBT0wsYUFPRSxjQU9BLHFCQU9PLFlBT1gsaUJBT1Esd0JBT0ssdURBT0YsV0FPVCxhQVdDLFdBY0wsY0FXTyxXQVFKLFdBQ0ksS0FDSixpQkFDQSxxQkFFQyx5QkFDRSw0QkFDQyw0QkFDRCw2QkFDRSxnQ0FDRCxvQ0FDRSxxQ0FDRSxpdEJDdk1aLFNBQVNBLEVBQU9DLFVBQ2RDLFNBQVNELEdBb0JYLFNBQVNFLEVBQVVGLFNBQ0EsaUJBQVZBLEVBV1QsU0FBU0csRUFBVUgsT0FDcEJJLFdBQWNKLGdCQUFBQSxTQUVGLGFBQVRJLEdBQWdDLFdBQVRBLEtBQXVCSixFQW1CaEQsU0FBU0ssRUFBWUwsU0FDRixtQkFBVkEsRUFTVCxTQUFTTSxFQUFhTixlQUNILElBQVZBLEVBU1QsU0FBU08sRUFBU1AsVUFDaEJBLEVBQU1RLGNBQWdCQyxNQzNFeEIsU0FBU0MsRUFBUUMsRUFBS0MsRUFBTUMsVUFDMUJDLGVBQWVILEVBQUtDLEVBQU1DLEdBd0I1QixTQUFTRSxFQUFjQyxFQUFVQyxPQUNsQ0MsRUFBVUMsRUFBYyxHQUFJSCxFQUFVQyxVQU90Q0EsRUFBU0csZUFBZSxlQUNsQkMsUUFBVUYsRUFBYyxHQUFJSCxFQUFTSyxRQUFTSixFQUFTSSxTQUUzREosRUFBU0ksUUFBUUQsZUFBZSxpQkFDMUJDLFFBQVFDLFVBQVlILEVBQWMsR0FBSUgsRUFBU0ssUUFBUUMsVUFBV0wsRUFBU0ksUUFBUUMsYUFJM0ZMLEVBQVNHLGVBQWUsbUJBQ2xCRyxZQUFjSixFQUFjLEdBQUlILEVBQVNPLFlBQWFOLEVBQVNNLGNBR2xFTCxNQ25EWU0saUNBaUJmQyxFQUFPQyxNQUNMbkIsRUFBUWtCLE9BQ0wsSUFBSUUsRUFBSSxFQUFHQSxFQUFJRixFQUFNRyxPQUFRRCxTQUMzQkUsR0FBR0osRUFBTUUsR0FBSUQsR0FLakJJLEtBQUtDLElBQUlDLEtBQUtGLEtBQUtHLE9BQVFSLFVBQ3pCUSxPQUFPUixHQUFTLFFBSW5CUyxFQUFRSixLQUFLRyxPQUFPUixHQUFPVSxLQUFLVCxHQUFXLFFBR3hDLDBCQUVJSSxLQUFLRyxPQUFPUixHQUFPUyxrQ0FXMUJULEVBQU9XLE1BQ1A3QixFQUFRa0IsT0FDTCxJQUFJRSxFQUFJLEVBQUdBLEVBQUlGLEVBQU1HLE9BQVFELFNBQzNCVSxLQUFLWixFQUFNRSxHQUFJUyxHQUtuQk4sS0FBS0MsSUFBSUMsS0FBS0YsS0FBS0csT0FBUVIsU0FLM0JRLE9BQU9SLEdBQU9hLFFBQVEsU0FBQ0MsS0FDckJILEdBQVcsOEJBdERQSCx5REFBUyxrQkFDZkEsT0FBU0EsT0FDVEYsSUFBTUUsRUFBT2IsbUJDRkRvQiwyQ0F3QlpDLG1DQUFhLGVBQ2JDLEdBQUdMLEtBQUssZ0JBRVRsQyxFQUFTc0MsVUFDTkUsR0N4QkosU0FBZ0JDLEVBQU9ILEVBQVlSLE9BQ3BDWSxFQUFhLE9BRVosSUFBSUMsS0FBUUwsRUFDWHBDLEVBQVdvQyxFQUFXSyxRQUNiQSxHQUFRTCxFQUFXSyxHQUFNRixFQUFPQyxFQUFZWixRQU10RCxJQUFJYSxLQUFRRCxFQUNYeEMsRUFBV3dDLEVBQVdDLEdBQU1DLFVBQ25CRCxHQUFNQyxlQUlkRixFRE9PRSxDQUFNakIsS0FBTVcsRUFBWVgsS0FBS1ksVUFLcENBLEdBQUdMLEtBQUssZUFFTlAsMkNBU0RrQixtQ0FBZSxVQUNqQnpDLEVBQVF5QyxVQUNMQyxHQUFLRCxHQUtMbEIsMkNBU0RiLG1DQUFXLGVBQ1pBLFNBQVdGLEVBQWFlLEtBQUtiLFNBQVVBLEdBRXhDQSxFQUFTRyxlQUFlLGtCQUNyQmMsTUFBUWpCLEVBQVNpQyxjQUduQlIsR0FBR0wsS0FBSyxVQUVOUCxnQ0FjTHFCLGVBQ0dSLEdBQUdTLElBQUlDLEtBQUtGLEdBRVZyQixrQ0FTSHdCLGVBQ0NYLEdBQUdZLFdBQVdDLGVBQ2RiLEdBQUdjLEtBQUtKLEtBQUtDLEdBRVh4QixtREFTRlksR0FBR0wsS0FBSyxXQUVOUCx5Q0FTSDRCLDJDQUNBQSxTQUNHekMsU0FBUzBDLFNBQVdELFFBR3RCaEIsR0FBR0wsS0FBSyxRQUVOUCxpREFTRlksR0FBR0wsS0FBSyxTQUVOUCxtREFTRjhCLFVBQVcsRUFFVDlCLGtEQVNGOEIsVUFBVyxFQUVUOUIsZ0NBVUxMLEVBQU9DLGVBQ0pnQixHQUFHYixHQUFHSixFQUFPQyxHQUVYSSxvQ0FTRGdCLFVBQ0NoQixLQUFLYixTQUFTYixPQUFTMEMsMENBU3ZCaEIsS0FBSytCLGlCQVNBQyxHQUNSM0QsRUFBUzJELFVBQ05ELEdBQUtDLHdDQVlMaEMsS0FBS2lDLGlCQVFIcEMsUUFDSm9DLEdBQUtoRSxFQUFNNEIsdUNBU1RHLEtBQUtiLFNBQVNiLDZDQVNkMEIsS0FBS2tDLGlCQVFBQyxRQUNQRCxLQUFPQyxvQkFuUERDLE9BQVVoRCx5REFBVSxrQkFDMUJ5QixHQUFLLFFBQ0xNLEdBQUssUUFDTFAsR0FBSyxJQUFJbEIsT0FFVG9DLFVBQVcsT0FDWE0sU0FBV0EsT0FDWGpELFNBQVdGLEVBQWFDLEVBQVVFLFFBQ2xDZ0IsTUFBUUosS0FBS2IsU0FBU2lDLFFFbEJ4QixTQUFTaUIsV0FDUCxJQUFJQyxNQUFPQyxVQ09iLFNBQVNDLEVBQVVDLEVBQU1DLEVBQU10RCxPQUNoQ3VELFNBQVNyQyxTQUFTc0MsU0FBTUMsU0FDeEJDLEVBQVcsRUFDRDFELEVBQVRBLEdBQW1CLEdBRVosU0FBUjJELE9BQzZCLElBQXBCM0QsRUFBUTRELFFBQW9CLEVBQUlYLE1BQ2pDLE9BQ0RJLEVBQUtRLE1BQU0zQyxFQUFTc0MsR0FDeEJELElBQVNyQyxFQUFVc0MsRUFBTyxNQUdqQixTQUFaTSxRQUNFQyxFQUFLZCxJQUNKUyxJQUFnQyxJQUFwQjFELEVBQVE0RCxVQUFtQkYsRUFBV0ssT0FDbkRDLEVBQVlWLEdBQVFTLEVBQUtMLFlBQ25COUMsT0FDSHFELFVBQ0hELEdBQWEsR0FBaUJWLEVBQVpVLEdBQ2hCVCxpQkFDV0EsS0FDSCxRQUVEUSxJQUNGVixFQUFLUSxNQUFNM0MsRUFBU3NDLEdBQ3hCRCxJQUFTckMsRUFBVXNDLEVBQU8sT0FDckJELElBQWdDLElBQXJCdkQsRUFBUWtFLGFBQ25CQyxXQUFXUixFQUFPSyxJQUV2QlAsV0FHQ1csT0FBUyx3QkFDSmIsS0FDRixJQUNEckMsRUFBVXNDLEVBQU8sTUFHdEJNLE1DL0NITyxFQUFjLEtBQ2IsQ0FBQyxhQUFjLG1CQUNmLENBQUMsY0FBZSxlQ0FoQixTQUFTQyxFQUFVQyxNQUNwQkEsR0FBUUEsRUFBS0MsV0FBWSxTQUN2QkMsRUFBSUYsRUFBS0MsV0FBV0UsV0FDcEJDLEVBQVUsR0FFUEYsRUFBR0EsRUFBSUEsRUFBRUcsWUFDSyxJQUFmSCxFQUFFSSxVQUFrQkosSUFBTUYsS0FDcEJ0RCxLQUFLd0QsVUFJVkUsUUFHRixHQVNGLFNBQVNHLEVBQU9QLFlBQ2pCQSxHQUFRQSxhQUFnQlEsT0FBT0MsYUN6QnJDLElBQU1DLEVBQWlCLDhCQ0hGQyxpQ0FpQmZuRSxFQUFRb0UsRUFBSUMsU0FBU0Msb0NBQ25CckcsRUFBUytCLE9BQ0YsQ0FBQ0EsUUFHUCxJQUFJTixFQUFJLEVBQUdBLEVBQUlNLEVBQU9MLE9BQVFELFNBQzVCNkUsVUFBVXZFLEVBQU9OLElBQU0yRSxJQUV6QkcsaUJBQWlCeEUsRUFBT04sR0FBSUcsS0FBSzBFLFVBQVV2RSxFQUFPTixJQUFLNEUsK0JBWXpEdEUsRUFBUW9FLFNBQUlFLG9DQUNYckcsRUFBUytCLE9BQ0YsQ0FBQ0EsUUFHUCxJQUFJTixFQUFJLEVBQUdBLEVBQUlNLEVBQU9MLE9BQVFELE1BQzlCK0Usb0JBQW9CekUsRUFBT04sR0FBSUcsS0FBSzBFLFVBQVV2RSxFQUFPTixJQUFLNEUsNENBVXhEekUsS0FBSzBFLGtDQWpEREEseURBQVksa0JBQ2xCQSxVQUFZQSxNQ0pmRyxFQUFtQixDQUFDLE1BQU8sT0FDM0JDLEVBQW1CLEtBQ2xCLFFBQ0EsUUFDQSxLQ0FRLFdBQVVwRSxFQUFPcUUsU0FDdkIsaUJBT0dDLFVBQ0ZELEVBQVdFLFVBQVVDLEdBQUcsUUFDbEJGLEVBR0hBLElDSkUsV0FBVXRFLEVBQU9xRSxFQUFZSSxPQVF0Q0MsRUFBZSxDQ2pCTixTQUFVMUUsRUFBT3FFLFNBQ3ZCLGlCQU9HQyxPQUNBSyxFQUFhQyxLQUFLQyxNQUFNUCxFQUFZRCxFQUFXUyxNQUFNQyxtQkFDcERULEVBQWFELEVBQVdXLEtBQUt4SCxNQUFRbUgsS0NWbkMsU0FBVTNFLEVBQU9xRSxTQUN2QixpQkFPR0MsVUFDQ0EsRUFBYUQsRUFBV1ksT0FBT0MsS0FBTyxLQ1BwQyxTQUFVbEYsRUFBT3FFLFNBQ3ZCLGlCQU9HQyxNQUN3QixHQUExQnRFLEVBQU12QixTQUFTMEcsUUFBYyxLQUMzQkMsRUFBT2YsRUFBV2dCLEtBQUs3SCxhQUV2QkcsRUFBU3lILEdBQ0pkLEVBQVljLEVBQUtFLE9BR25CaEIsRUFBWWMsU0FHZGQsS0NyQkUsU0FBVXRFLEVBQU9xRSxTQUN2QixpQkFPR0MsT0FDRmlCLEVBQU1sQixFQUFXVyxLQUFLeEgsTUFDdEJnSSxFQUFRbkIsRUFBV1MsTUFBTVUsTUFDekJMLEVBQVVuRixFQUFNdkIsU0FBUzBHLFFBQ3pCSixFQUFhVixFQUFXUyxNQUFNQyxpQkFFbEIsV0FBWkksRUFDS2IsR0FBYWtCLEVBQVEsRUFBSVQsRUFBYSxHQUd4Q1QsRUFBYVMsRUFBYUksRUFBWUksRUFBTUosTUpJckRNLE9BQU96RixFQUFNUyxHQUFJLENBQUNpRixVQUViLGlCQU9HcEIsT0FDRCxJQUFJbkYsRUFBSSxFQUFHQSxFQUFJdUYsRUFBYXRGLE9BQVFELElBQUssS0FDeEN3RyxFQUFjakIsRUFBYXZGLEdBRTNCdEIsRUFBVzhILElBQWdCOUgsRUFBVzhILElBQWNDLFlBQzFDRCxFQUFZM0YsRUFBT3FFLEVBQVlJLEdBQVFtQixPQUFPdEIsV0FNdkRBLElLMUNiLElBQUl1QixHQUFrQixFQUV0QixRQUNNQyxFQUFPQyxPQUFPekgsZUFBZSxHQUFJLFVBQVcsbUJBRTFCLFlBSWYyRixpQkFBaUIsY0FBZSxLQUFNNkIsVUFDdEM1QixvQkFBb0IsY0FBZSxLQUFNNEIsR0FDaEQsTUFBT0UsVUFFTUgsRUNkVEksRUFBZSxDQUFDLGFBQWMsYUFDOUJDLEVBQWMsQ0FBQyxZQUFhLGFBQzVCQyxFQUFhLENBQUMsV0FBWSxjQUFlLFVBQVcsY0FDcERDLEVBQWUsQ0FBQyxZQUFhLFlBQWEsVUFBVyxjQ0kzRCxTQUFTQyxFQUFpQkMsVUFDcEIzSSxFQUFTMkksR25CSVIsU0FBbUJuSSxVQUNqQjRILE9BQU9RLEtBQUtwSSxHQUFLcUksT0FBT0MsT0FBTyxTQUFDQyxFQUFHQyxZQUN0Q0EsR0FBS3hJLEVBQUl3SSxHQUVIRCxFQUFFQyxHQUFJRCxHQUNiLEltQlJNRSxDQUFTTixHQUtYLEdDS1QsSUFBTU8sRUFBYSxNWmxCSixTQUFVN0csRUFBT3FFLE9BQ3hCeUMsRUFBTyx1QkFPSkMsS0FBTy9HLEVBQU0wQixjQUNic0YsTUFBUTFILEtBQUt5SCxLQUFLRSxjQUFjdEQsUUFDaEN1RCxPQUFTakosTUFBTWtKLFVBQVVDLE1BQU01SCxLQUFLRixLQUFLK0gsUUFBUUMsVUFBVUMsT0FBTyxTQUFDQyxVQUM5REEsRUFBTUMsVUFBVUMsU0FBUzFILEVBQU12QixTQUFTSSxRQUFROEkseUJBS3ZEYixFQUFNLE9BQVEsdUJBT1ZBLEVBQUtjLGlCQVFUbEIsR0FDQ2hKLEVBQVNnSixPQUNQbUIsU0FBU1osY0FBY1AsSUFHekJsRCxFQUFNa0QsT0FDSGtCLEdBQUtsQixRQU9USSxFQUFNLFFBQVMsdUJBT1hBLEVBQUtyRyxpQkFRVHFILEdBQ0N0RSxFQUFNc0UsT0FDSHJILEdBQUtxSCxRQU9UaEIsRUFBTSxVQUFXLHVCQU9iQSxFQUFLRSxNQUFNTSxTQUFTLE1BSXhCUixhYXBGTSxTQUFVOUcsRUFBT3FFLEVBQVlJLE9BQ3BDc0QsRUFBWSxjQU9YdkssT0FDQ3dLLEVBQVlDLEVBQVFqSSxFQUFPcUUsR0FBWTZELE9BQU8xSyxLQUV2Q3NKLEtBQUtPLFFBQVFjLE1BQU1ILDBCQUE0QixFQUFJQSx1Q0FTbkRsQixLQUFLTyxRQUFRYyxNQUFNSCxVQUFZLGlDQU9wQzVJLEVBQVNpRixFQUFXUyxNQUFNMUYsT0FDMUJNLEVBQVFNLEVBQU1OLE1BQ2QwSSxFQUFVcEksRUFBTXZCLFNBQVMySixlQUUzQi9ELEVBQVd6RCxJQUFJeUgsU0FBUyxNQUFRaEUsRUFBV3pELElBQUl5SCxTQUFTLE1BQ25EakosR0FBVU0sRUFBUTBJLElBSW5CMUksRUFBUTBJLEdBQVdoSixvQ0FPckJrSixFQUFpQmpFLEVBQVdTLE1BQU1DLFdBQWEvRSxFQUFNdkIsU0FBUzJKLGVBRWhFL0QsRUFBV3pELElBQUl5SCxTQUFTLE1BQVFoRSxFQUFXekQsSUFBSXlILFNBQVMsT0FFakMsRUFBbEJDLEVBR0ZBLGFBU0pqSixHQUFHLE9BQVEsU0FBQ08sT0FDWkksRUFBTXVJLE9BQU8sY0FBZ0JsRSxFQUFXekQsSUFBSXlILGtCQUN4Q04sRUFBVVMsSUFBSTVJLEVBQVE2SSxZQUdwQjFILFdBQVcySCxNQUFNLGFBQ25CN0ksS0FBSyxvQkFFRjJJLElBQUluRSxFQUFXUyxNQUFNQyxXQUFhL0UsRUFBTU4sYUFHOUNpSixFQUFhdEUsRUFBV1MsTUFBTUMsV0FBYVYsRUFBVzBELFVBQVVhLHVCQUMvRGIsRUFBVVMsSUFBSUcsRUFBYXRFLEVBQVcwRCxVQUFVYyx5QkFPbER4SixHQUFHLFVBQVcsYUFDVHlKLFdBR0xmLGNDbEZNLFNBQVUvSCxFQUFPcUUsRUFBWUksT0FPdENyRCxHQUFXLEVBRVRMLEVBQWEsa0JBT1JnSSxPQUNIdEssRUFBV3VCLEVBQU12QixnQkFFaEIyQyxFQUlLMkgsVUFBZ0J0SyxFQUFTdUssb0JBSHZCRCxNQUFZekosS0FBSzJKLGVBQWN4SyxFQUFTdUsseUNBWWpERCxtQ0FBVyxjQUNIakMsS0FBS08sUUFBUWMsTUFBTWUsV0FBYTVKLEtBQUs2SixRQUFRSix3QkFTN0NqQyxLQUFLTyxRQUFRYyxNQUFNZSxXQUFhLG1CQVN0Q0UsY0FDTSxnQkFFUjlKLEtBQUsySixnQ0FTRyxPQUVOVCw2QkFTTSxPQUVOQSxpQkFJRnpILEVBQVksV0FBWSxvQkFRdkJ0QyxFQUFXdUIsRUFBTXZCLGdCQUVqQnVCLEVBQU11SSxPQUFPLFdBQWFsRSxFQUFXekQsSUFBSXlJLE9BQ3BDNUssRUFBUzZLLGVBR1g3SyxFQUFTOEssdUJBUWJsSyxHQUFHLE9BQVEsYUFDTG1KLFVBU05uSixHQUFHLENBQUMsZUFBZ0IsU0FBVSxrQkFBbUIsYUFDM0MyQixjQU9OM0IsR0FBRyxNQUFPLGFBQ0ptSyxhQU9ObkssR0FBRyxVQUFXLGFBQ1J5SixXQUdOL0gsYVo1SE0sU0FBVWYsRUFBT3FFLEVBQVlJLE9BQ3BDRixFQUFZLHVCQU9UL0csTUFBUXdDLEVBQU12QixTQUFTSyw0QkFTckI2QixPQUNIOEksRUFBUTlJLEVBQVF5RyxNQUFNLEVBQUcsVUFFekI5SCxLQUFLa0YsR0FBRyxPQUNIN0QsRUFBUStJLE1BQU1ELEdBQU9FLEtBQUt2RixFQUFpQnFGLElBRzdDOUksZUFTTDdCLFVBQ0tRLEtBQUs5QixRQUFVc0IseUJBU1hnSSxLQUFLQyxLQUFLVSxVQUFVbUMsSUFBSTVKLEVBQU12QixTQUFTSSxRQUFRQyxVQUFVUSxLQUFLOUIsa0NBUzlEc0osS0FBS0MsS0FBS1UsVUFBVXFCLE9BQU85SSxFQUFNdkIsU0FBU0ksUUFBUUMsVUFBVVEsS0FBSzlCLG1CQUl6RStHLEVBQVcsUUFBUyx1QkFPaEJBLEVBQVVzRixpQkFTZHJNLElBQ29DLEVBQW5DMkcsRUFBaUIyRixRQUFRdE0sT0FDakJxTSxHQUFLck0sUUFZZDZCLEdBQUcsQ0FBQyxVQUFXLFVBQVcsYUFDckIwSyxrQkFPTDFLLEdBQUcsU0FBVSxhQUNSa0IsWUFRTGxCLEdBQUcsQ0FBQyxlQUFnQixVQUFXLGFBQzFCMkssYUFHTHpGLFFhbEhNLFNBQVV2RSxFQUFPcUUsRUFBWUksT0FDcENZLEVBQU8sdUJBT0o3SCxNQUFRd0MsRUFBTXZCLFNBQVMyRyxnQkFJekJDLEVBQU0sUUFBUyx1QkFPWEEsRUFBS3dFLGlCQVNUck0sR0FDQ0csRUFBU0gsTUFDTDhILE9BQVMvSCxFQUFNQyxFQUFNOEgsVUFDckJvRCxNQUFRbkwsRUFBTUMsRUFBTWtMLFVBRWxCbkwsRUFBTUMsS0FHWHFNLEdBQUtyTSxPQUlQNkgsRUFBTSxXQUFZLG9CQU9qQjdILEVBQVE2SCxFQUFLN0gsTUFDYjRLLEVBQVVwSSxFQUFNdkIsU0FBUzJKLGVBRXpCekssRUFBU0gsR0FDSEEsRUFBTThILE9BQVM4QyxFQUFZNUssRUFBTWtMLE1BQVFOLEVBR3BDLEVBQVI1SyxFQUFZNEssT0FRaEIvSSxHQUFHLENBQUMsU0FBVSxVQUFXLGFBQ3pCa0IsVUFHQThFLFNDbkVNLFNBQVVyRixFQUFPcUUsRUFBWUksT0FDcENLLEVBQVEsZ0NBT05VLEVBQVdsRyxLQUFLeUYsZ0JBQ2hCbUMsRUFBUzdDLEVBQVd5QyxLQUFLSSxPQUVwQi9ILEVBQUksRUFBR0EsRUFBSStILEVBQU85SCxPQUFRRCxNQUMxQkEsR0FBR2dKLE1BQU0zQyxNQUFRQSw2QkFVZnNCLEtBQUtPLFFBQVFjLE1BQU0zQyxNQUFXbEcsS0FBSzJLLDRDQVMxQy9DLEVBQVM3QyxFQUFXeUMsS0FBS0ksT0FFcEIvSCxFQUFJLEVBQUdBLEVBQUkrSCxFQUFPOUgsT0FBUUQsTUFDMUJBLEdBQUdnSixNQUFNM0MsTUFBUSxLQUdmc0IsS0FBS08sUUFBUWMsTUFBTTNDLE1BQVEsY0FJbkNWLEVBQU8sU0FBVSx1QkFPYlQsRUFBV3lDLEtBQUtJLE9BQU85SCxZQUkzQjBGLEVBQU8sUUFBUyx1QkFPWlQsRUFBV3lDLEtBQUtDLEtBQUttRCxpQkFJekJwRixFQUFPLGNBQWUsdUJBT2xCQSxFQUFNQyxXQUFhRCxFQUFNMUYsT0FBU2lGLEVBQVdXLEtBQUtFLEtBQU9iLEVBQVdZLE9BQU9DLFVBSS9FSixFQUFPLGFBQWMsdUJBT2hCQSxFQUFNVSxNQUFReEYsRUFBTXZCLFNBQVMySixRQUFXL0QsRUFBV2dCLEtBQUs4RSxTQUFXOUYsRUFBV1csS0FBS21GLGNBVXhGOUssR0FBRyxDQUFDLGVBQWdCLFNBQVUsVUFBVyxhQUN4QytLLGdCQUNBQyxtQkFPRGhMLEdBQUcsVUFBVyxhQUNieUosV0FHRGhFLFFsQmpHTSxTQUFVOUUsRUFBT3FFLEVBQVlJLE9BQ3BDTyxFQUFPLGdCQVFKa0MsT0FDQSxJQUFJL0gsRUFBSSxFQUFHbUwsRUFBTXBELEVBQU85SCxPQUFRRCxFQUFJbUwsRUFBS25MLElBQUssS0FDN0NnSixFQUFRakIsRUFBTy9ILEdBQUdnSixNQUNsQnJKLEVBQVl1RixFQUFXRSxVQUFVL0csUUFHN0J1RixFQUFZakUsR0FBVyxJQURyQixJQUFOSyxFQUNvQ0csS0FBSzlCLE1BQVEsT0FFaEIsR0FHakMyQixJQUFNK0gsRUFBTzlILE9BQVMsSUFDbEIyRCxFQUFZakUsR0FBVyxJQUFTUSxLQUFLOUIsTUFBUSxTQUU3Q3VGLEVBQVlqRSxHQUFXLElBQU0scUJBV2pDb0ksT0FDRCxJQUFJL0gsRUFBSSxFQUFHbUwsRUFBTXBELEVBQU85SCxPQUFRRCxFQUFJbUwsRUFBS25MLElBQUssS0FDN0NnSixFQUFRakIsRUFBTy9ILEdBQUdnSixRQUVoQm9DLFdBQWEsS0FDYkMsWUFBYyxlQUtuQnhGLEVBQU0sUUFBUyx1QkFPWHpILEVBQU15QyxFQUFNdkIsU0FBUzhHLFVBSXpCUCxFQUFNLE9BQVEsdUJBUVZBLEVBQUt4SCxNQUFTNkcsRUFBV1MsTUFBTTFGLFlBSW5DNEYsRUFBTSxXQUFZLG9CQVFqQm9ELEVBQVVwSSxFQUFNdkIsU0FBUzJKLGVBRXJCcEQsRUFBS3hILE9BQVM0SyxFQUFVLEdBQU1BLE9BU25DL0ksR0FBRyxDQUFDLGNBQWUsVUFBV3lDLEVBQVMsYUFDdkNTLE1BQU04QixFQUFXeUMsS0FBS08sUUFBUUMsV0FDbEMsT0FNSWpJLEdBQUcsVUFBVyxhQUNkeUosT0FBT3pFLEVBQVd5QyxLQUFLTyxRQUFRQyxZQUcvQnRDLFFtQnhHTSxTQUFVaEYsRUFBT3FFLEVBQVlJLE9BQ3BDeEQsRUFBTyx1QkFPSkksR0FBSywrQkFTTmdJLG1DQUFTLE9BQ1JBLE9BQVNBLElBRVB4SixLQUFLLE9BQVEsVUFDUlAsS0FBSzlCLFVBR051RCxXQUFXMkgsTUFBTSxhQUNuQjdJLEtBQUssYUFBYyxVQUNkNEssRUFBS2pOLHFCQU1oQnlELEVBQU0sU0FBVSx1QkFPWkEsRUFBS0ksaUJBUVQ3RCxLQUNFNkQsR0FBTXZELEVBQVlOLEdBQXdCLEVBQWZELEVBQU1DLFFBSW5DeUQsRUFBTSxZQUFhLHVCQU9mb0QsRUFBV1MsTUFBTUMsV0FBYS9FLEVBQU1OLFdBSXhDdUIsRUFBTSxRQUFTLG9CQU9kb0ksRUFBUy9KLEtBQUsrSixPQUNkL0UsRUFBWWhGLEtBQUtnRixpQkFFakJELEVBQVdFLFVBQVVDLEdBQUcsT0FDbkJGLEVBQVkrRSxFQUdkL0UsRUFBWStFLE9BU2hCaEssR0FBRyxDQUFDLGVBQWdCLE9BQVEsYUFDNUJ3QixTQUdBSSxVQzNGTSxTQUFVakIsRUFBT3FFLEVBQVlJLE9BQ3BDUSxFQUFTLHVCQUtOeUYsTUFBUSxHQUVUMUssRUFBTXVJLE9BQU8sbUJBQ1ZtQyxNQUFRcEwsS0FBS3FMLHdDQVNiRCxtQ0FBUSxHQUNUeEQsRUFBVzdDLEVBQVd5QyxLQUF0QkksU0FDcUJsSCxFQUFNdkIsU0FBM0IySixJQUFBQSxRQUFTdkosSUFBQUEsUUFHVCtMLEVBQWF4QyxNQURRcEksRUFBTXZCLFNBQVMyRyxLQUNLUixLQUFLaUcsTUFBTXpDLEVBQVUsR0FDOUQwQyxFQUFTNUQsRUFBT0UsTUFBTSxFQUFHd0QsR0FBWUcsVUFDckNDLEVBQVU5RCxFQUFPRSxPQUFvQixFQUFkd0QsR0FFcEJsRSxFQUFJLEVBQUdBLEVBQUk5QixLQUFLcUcsSUFBSSxFQUFHckcsS0FBS0MsTUFBTXVELEVBQVVsQixFQUFPOUgsU0FBVXNILElBQUssS0FDcEUsSUFBSXZILEVBQUksRUFBR0EsRUFBSTJMLEVBQU8xTCxPQUFRRCxJQUFLLEtBQ2xDK0wsRUFBUUosRUFBTzNMLEdBQUdnTSxXQUFVLEtBRTFCMUQsVUFBVW1DLElBQUkvSyxFQUFROEksY0FFdEJoSSxLQUFLdUwsT0FHUixJQUFJL0wsRUFBSSxFQUFHQSxFQUFJNkwsRUFBUTVMLE9BQVFELElBQUssS0FDbkMrTCxFQUFRRixFQUFRN0wsR0FBR2dNLFdBQVUsS0FFM0IxRCxVQUFVbUMsSUFBSS9LLEVBQVE4SSxjQUV0QnlELFFBQVFGLFdBSVhSLDZCQVNEQSxFQUFVcEwsS0FBVm9MLFFBQ29CckcsRUFBV3lDLEtBQS9CTyxJQUFBQSxRQUFTSCxJQUFBQSxPQUVUbUUsRUFBT3pHLEtBQUtDLE1BQU02RixFQUFNdEwsT0FBUyxHQUNqQzRMLEVBQVVOLEVBQU10RCxNQUFNLEVBQUdpRSxHQUFNTixVQUMvQkQsRUFBU0osRUFBTXRELE9BQWMsRUFBUmlFLEdBQVdOLFVBQ2hDdkYsRUFBV25CLEVBQVdTLE1BQU1DLGdCQUV6QjVGLEVBQUksRUFBR0EsRUFBSTJMLEVBQU8xTCxPQUFRRCxNQUN6Qm1NLFlBQVlSLEVBQU8zTCxRQUd4QixJQUFJQSxFQUFJLEVBQUdBLEVBQUk2TCxFQUFRNUwsT0FBUUQsTUFDMUJvTSxhQUFhUCxFQUFRN0wsR0FBSStILEVBQU8sUUFHckMsSUFBSS9ILEVBQUksRUFBR0EsRUFBSXVMLEVBQU10TCxPQUFRRCxNQUMxQkEsR0FBR2dKLE1BQU0zQyxNQUFRQSw2QkFVbkJrRixFQUFVcEwsS0FBVm9MLE1BRUd2TCxFQUFJLEVBQUdBLEVBQUl1TCxFQUFNdEwsT0FBUUQsTUFDckIySCxLQUFLTyxRQUFRbUUsWUFBWWQsRUFBTXZMLGVBS3pDOEYsRUFBUSxPQUFRLHVCQU9YWixFQUFXUyxNQUFNQyxXQUFhVixFQUFXVyxLQUFLeEgsT0FBU3lILEVBQU95RixNQUFNdEwsWUFRekVDLEdBQUcsU0FBVSxhQUNYeUosV0FDQXZJLFVBQ0F1SyxhQU9GekwsR0FBRyxlQUFnQixXQUNwQlcsRUFBTXVJLE9BQU8sZUFDUnVDLGFBUUp6TCxHQUFHLFVBQVcsYUFDWnlKLFdBR0Y3RCxVQzlITSxTQUFVakYsRUFBT3FFLEVBQVlJLE9BTXBDZ0gsRUFBUyxJQUFJN0gsRUFFYjhILEVBQVMsdUJBS05DLDBCQVVFdE0sR0FBRyxTQUFVb0UsT0FBUTNCLEVBQVMsYUFDNUJqQyxLQUFLLFdBQ1hHLEVBQU12QixTQUFTcUQsZ0NBU1g4SixJQUFJLFNBQVVuSSxtQkFRbEJwRSxHQUFHLFVBQVcsYUFDWndNLFdBQ0FDLFlBR0ZKLFNDakRNLFNBQVUxTCxFQUFPcUUsRUFBWUksT0FDcENzSCxFQUFRLG9CQVFIbE0sS0FBSyxxQkFFUG1NLGlCQUNBQyxnQkFFRXBNLEtBQUssdUNBU0RpSCxLQUFLQyxLQUFLVSxVQUFVbUMsSUFBSTVKLEVBQU12QixTQUFTSSxRQUFRbUIsRUFBTXZCLFNBQVNiLG1DQVNyRWlCLEVBQVVtQixFQUFNdkIsU0FBU0ksUUFDekIySSxFQUFRbkQsRUFBV3lDLEtBQUtJLE9BQU9sSCxFQUFNTixPQUVyQzhILE1BQ0lDLFVBQVVtQyxJQUFJL0ssRUFBUXFOLGVBRW5CMUUsR0FBTzFILFFBQVEsU0FBQ3FNLEtBQ2YxRSxVQUFVcUIsT0FBT2pLLEVBQVFxTiw4Q0FXakNyTixFQUFVbUIsRUFBTXZCLFNBQVNJLFVBRWxCaUksS0FBS0MsS0FBS1UsVUFBVXFCLE9BQU9qSyxFQUFRbUIsRUFBTXZCLFNBQVNiLFNBRWxEa0osS0FBS0ksT0FBT3BILFFBQVEsU0FBQ3FNLEtBQ3RCMUUsVUFBVXFCLE9BQU9qSyxFQUFRcU4sMEJBVWhDN00sR0FBRyxDQUFDLFVBQVcsVUFBVyxhQUN6QitNLG9CQVFEL00sR0FBRyxDQUFDLFNBQVUsVUFBVyxhQUN4QmtCLFlBT0RsQixHQUFHLGFBQWMsYUFDaEI0TSxnQkFHREYsT0NwRk0sU0FBVS9MLEVBQU9xRSxFQUFZSSxPQUNwQzdELEVBQU0sdUJBT0hTLElBQUssaUJBUU5nTCxjQUNDck0sRUFBTW9CLFdBQ1JwQixFQUFNdkIsU0FBUzZOLG1CQUFxQnRNLEVBQU1nQixlQUV0Q3FMLEtBQU9BLElBRUx4TSxLQUFLLGFBQWNQLEtBQUsrTSxXQUUxQkUsY0FFRTFNLEtBQUssTUFBT1AsS0FBSytNLFFBRWJ0TCxXQUFXMkgsTUFBTSxXQUN0QitCLEVBQUsrQixhQUNBM00sS0FBSyxZQUFhNEssRUFBSzRCLE1BRzVCNUIsRUFBS2dDLFdBQ0E1TSxLQUFLLFVBQVc0SyxFQUFLNEIsTUFHMUI1QixFQUFLcEMsZUFDRmhILElBQUssSUFFSHhCLEtBQUssYUFBYzRLLEVBQUs0QixTQUcxQnhNLEtBQUssWUFBYTRLLEVBQUs0QixRQUV4QjdDLHNDQVdGNkMsRUFBaUIvTSxLQUFqQitNLEtBQU1qTixFQUFXRSxLQUFYRixPQUNOc04sRUFBcUJMLEVBQXJCSyxNQUFPNU4sRUFBY3VOLEVBQWR2TixVQUdYNk4sRUFBVyxFQUVYQyxFOUJkSCxTQUFtQnBQLFNBQ0EsaUJBQVZBLEU4QmFXcVAsQ0FBU3RQLEVBQU1tUCxLQUE0QixJQUFqQm5QLEVBQU1tUCxNQUluQyxNQUFkNU4sS0FRYyxNQUFkQSxHQUErQixNQUFWNE4sS0FRUCxNQUFkNU4sR0FBK0IsTUFBVjROLE1BUVAsTUFBZDVOLEdBQXFCOE4sT0FDSSxFQUFoQnJQLEVBQU1tUCxJQUlELE1BQWQ1TixHQUFxQjhOLE1BQ1pyUCxFQUFNbVAsSUFJRCxNQUFkNU4sTUFDU2tCLEVBQU12QixTQUFTMkosU0FBVyxHQUlyQixNQUFkdEosR0FBb0MsTUFBZEEsR0FBK0IsTUFBVjROLEVBQWdCLEtBQ3ZEaE4sV0F5Rm9CaU4sT0FDdEJqTixFQUFVTSxFQUFWTixTQUVKTSxFQUFNdUksT0FBTyxtQkFDUjdJLEVBQVFpTixTQUdWak4sR0FBU2lOLEVBQVlqTixFQUFRaU4sR0FoR2xCRyxDQUFzQkgsVUFFeEJ2TixFQUFSTSxTQUNHMkIsSUFBSyxVQUdOM0IsZUFxR29CQSxFQUFPaU4sT0FDN0J2TixFQUFXd0IsRUFBWHhCLFVBRUpNLEdBQVNOLFNBQ0pNLEtBR0xNLEVBQU11SSxPQUFPLG1CQUNSN0ksR0FBU04sRUFBUyxNQUd2QlksRUFBTXZCLFNBQVNzTyxjQUdibk0sRUFBSW9NLFlBQWNwTSxFQUFJNkwsUUFDakJyTixFQUdGLEtBR0x3QixFQUFJb00saUJBQ0M1TixTQUdGd0YsS0FBS0MsTUFBTXpGLEVBQVN1TixHQUFZQSxFQTlIckJNLENBQXNCdk4sRUFBT2lOLE9BTTNCLE1BQWQ3TixHQUFvQyxNQUFkQSxHQUErQixNQUFWNE4sRUFBZ0IsS0FDdkRoTixXQWdJcUJpTixPQUN2QmpOLEVBQVVNLEVBQVZOLFNBRUpNLEVBQU11SSxPQUFPLG1CQUNSN0ksRUFBUWlOLFNBS0ovSCxLQUFLc0ksS0FBS3hOLEVBQVFpTixHQUVoQixHQUFLQSxFQTNJRlEsQ0FBdUJSLFVBRWpDak4sRUFBUSxTQUNMMkIsSUFBSyxVQUdOM0IsZUFnSnFCQSxFQUFPaU4sT0FDOUJ2TixFQUFXd0IsRUFBWHhCLFVBRUssR0FBVE0sU0FDS0EsS0FHTE0sRUFBTXVJLE9BQU8sbUJBQ1I3SSxHQUFTTixFQUFTLE1BR3ZCWSxFQUFNdkIsU0FBU3NPLGNBR2JuTSxFQUFJb00sV0FBYXBNLEVBQUk0TCxVQUNoQnBOLEVBR0Z3RixLQUFLQyxNQUFNekYsRUFBU3VOLEdBQVlBLFNBR2xDLEVBcktXUyxDQUF1QjFOLEVBQU9pTixZQTFDdENqTixNQUFRLFNBUlJBLE1BQVFOLFNBUlJNLE1BQVFnTiw2QkF3RVQxTSxFQUFNTixPQUFTLDJCQVNmTSxFQUFNTixPQUFTSixLQUFLRixpQ0FTbkJOLHdDQUFZdU8sU0FDZnZPLElBSUFRLEtBQUsrQixLQUtRLE9BQWR2QyxFQUM2QixNQUF4QlEsS0FBSytNLEtBQUt2TixXQUF5QyxNQUFwQlEsS0FBSytNLEtBQUtLLE1BSWhDLE9BQWQ1TixFQUM2QixNQUF4QlEsS0FBSytNLEtBQUt2TixXQUF5QyxNQUFwQlEsS0FBSytNLEtBQUtLLE1BRzNDcE4sS0FBSytNLEtBQUt2TixZQUFjQSxHQWpCdEJRLEtBQUsrQiw4QkEwQlByQixFQUFNdUksT0FBTyxXQUF3QyxXQUEzQnZJLEVBQU12QixTQUFTMEcsU0FBd0JuRixFQUFNdkIsU0FBUzZPLGlCQTRHcEYxTSxFQUFLLE9BQVEsdUJBT1R0QixLQUFLaU8saUJBUVQvUCxPQUNDZ1EsRUFBT2hRLEVBQU1pUSxPQUFPLFFBRW5CRixHQUFLLFdBQ0cvUCxFQUFNaVEsT0FBTyxFQUFHLFNBQ3BCRCxFQUFRalEsRUFBTWlRLEdBQVFqUSxFQUFNaVEsR0FBUUEsRUFBUSxRQUtsRDVNLEVBQUssU0FBVSxvQkFRWm5DLEVBQWF1QixFQUFidkIsU0FDQVcsRUFBV2lGLEVBQVd5QyxLQUFLSSxPQUEzQjlILGNBS0ZFLEtBQUswTixVQUNDNU4sRUFBUyxHQUFNN0IsRUFBTWtCLEVBQVMySixTQUFXLEdBQUs3SyxFQUFNa0IsRUFBUzBHLFNBR2hFL0YsRUFBUyxPQUlid0IsRUFBSyxTQUFVLHVCQU9YdEIsS0FBSytCLE1BSVRULFNYeFZNLFNBQVVaLEVBQU9xRSxFQUFZSSxPQU1wQ2dILEVBQVMsSUFBSTdILEVBRWY4SixFQUFXLEVBQ1hDLEVBQWMsRUFDZEMsRUFBYyxFQUNkeE0sR0FBVyxFQUNYMkMsSUFBVzhCLEdBQW1CLENBQUVnSSxTQUFTLEdBRXZDQyxFQUFRLHVCQU9MQyxpQ0FTQTlPLE9BQ0FtQyxJQUFhcEIsRUFBTW9CLFNBQVUsTUFDM0JKLGNBRURnTixFQUFRMU8sS0FBSzJPLFFBQVFoUCxLQUVkLE9BQ0cxQixFQUFNeVEsRUFBTUUsU0FDWjNRLEVBQU15USxFQUFNRyxZQUVyQkMscUJBQ0FDLGlCQUVFeE8sS0FBSywrQkFTVlosT0FDQ2UsRUFBTW9CLFNBQVUsT0FDdUJwQixFQUFNdkIsU0FBMUM2UCxJQUFBQSxXQUFZQyxJQUFBQSxXQUFZMVAsSUFBQUEsUUFFMUJtUCxFQUFRMU8sS0FBSzJPLFFBQVFoUCxHQUVyQnVQLEVBQVVqUixFQUFNeVEsRUFBTUUsT0FBU1AsRUFDL0JjLEVBQVVsUixFQUFNeVEsRUFBTUcsT0FBU1AsRUFDL0JjLEVBQVE5SixLQUFLK0osSUFBSUgsR0FBVyxHQUM1QkksRUFBUWhLLEtBQUsrSixJQUFJRixHQUFXLEdBQzVCSSxFQUFrQmpLLEtBQUtrSyxLQUFLSixFQUFRRSxHQUNwQ0csRUFBZ0JuSyxLQUFLa0ssS0FBS0YsUUFJZixPQUZKaEssS0FBS29LLEtBQUtELEVBQWdCRixJQUVoQmpLLEtBQUtxSyxHQUFLWCxVQVN0QixJQVJEWSxvQkFFS2pPLEtBQUtKLEtBQUsyTixFbkIvRHhCLFNBQWtCaFIsVUFDaEIyUixXQUFXM1IsR21COERxQjRSLENBQVFiLE1BRTVCekgsS0FBS0MsS0FBS1UsVUFBVW1DLElBQUkvSyxFQUFRd1EsWUFFcEN4UCxLQUFLLDZCQWFiWixPQUNFZSxFQUFNb0IsU0FBVSxLQUNmM0MsRUFBV3VCLEVBQU12QixTQUVqQnVQLEVBQVExTyxLQUFLMk8sUUFBUWhQLEdBQ3JCcVEsRUFBWWhRLEtBQUtnUSxVQUFVclEsR0FFM0JzUSxFQUFnQnZCLEVBQU1FLE1BQVFQLEVBQzlCNkIsRUFBc0IsSUFBWDlCLEVBQWlCOUksS0FBS3FLLEdBQ2pDdkMsRUFBUTlILEtBQUtpRyxNQUFNMEUsRUFBZ0JsTCxFQUFXUyxNQUFNQyxpQkFFbkR5RSxTQUVlOEYsRUFBaEJDLEdBQTZCQyxFQUFXL1EsRUFBUzZQLFlBRS9DN1AsRUFBU2dSLGFBQ0g3SyxLQUFLOEssSUFBSWhELEVBQU9uUCxFQUFNa0IsRUFBU2dSLFlBR3JDcEwsRUFBV0UsVUFBVUMsR0FBRyxZQUNqQmtJLEtBR0E5TCxJQUFJQyxLQUFLd0QsRUFBV0UsVUFBVW9MLFlBQVlqRCxLQUVyRDZDLEdBQWlCRCxHQUNqQkUsRUFBVy9RLEVBQVM2UCxZQUdoQjdQLEVBQVNnUixhQUNIN0ssS0FBS3FHLElBQUl5QixHQUFRblAsRUFBTWtCLEVBQVNnUixZQUd0Q3BMLEVBQVdFLFVBQVVDLEdBQUcsWUFDakJrSSxLQUdBOUwsSUFBSUMsS0FBS3dELEVBQVdFLFVBQVVvTCxZQUFZakQsT0FHMUN6TCxLQUFLSixTQUdQaUcsS0FBS0MsS0FBS1UsVUFBVXFCLE9BQU9ySyxFQUFTSSxRQUFRd1EsZUFFbERPLHVCQUNBQyxtQkFFRWhRLEtBQUssb0RBVVZwQixFQUFXdUIsRUFBTXZCLFNBRWpCQSxFQUFTcVIsa0JBQ0p6USxHQUFHNEcsRUFBYSxHQUFJNUIsRUFBV3lDLEtBQUtPLFFBQVMsU0FBQ3BJLEtBQzlDOFEsTUFBTTlRLElBQ1Y4RSxHQUdEdEYsRUFBU3VSLGlCQUNKM1EsR0FBRzRHLEVBQWEsR0FBSTVCLEVBQVd5QyxLQUFLTyxRQUFTLFNBQUNwSSxLQUM5QzhRLE1BQU05USxJQUNWOEUsa0NBVUU2SCxJQUFJM0YsRUFBYSxHQUFJNUIsRUFBV3lDLEtBQUtPLFFBQVN0RCxLQUM5QzZILElBQUkzRixFQUFhLEdBQUk1QixFQUFXeUMsS0FBS08sUUFBU3RELDBDQVM5QzFFLEdBQUc2RyxFQUFhN0IsRUFBV3lDLEtBQUtPLFFBQVN2RixFQUFTLFNBQUM3QyxLQUNuRG9OLEtBQUtwTixJQUNUZSxFQUFNdkIsU0FBU3FELFVBQVdpQyxpQ0FTdEI2SCxJQUFJMUYsRUFBYTdCLEVBQVd5QyxLQUFLTyxRQUFTdEQseUNBUzFDMUUsR0FBRzhHLEVBQVk5QixFQUFXeUMsS0FBS08sUUFBUyxTQUFDcEksS0FDekNnUixJQUFJaFIsa0NBVUoyTSxJQUFJekYsRUFBWTlCLEVBQVd5QyxLQUFLTywyQkFRaENwSSxVQUNpQyxFQUFwQ21ILEVBQWEwRCxRQUFRN0ssRUFBTXJCLE1BQ3RCcUIsRUFHRkEsRUFBTWdQLFFBQVEsSUFBTWhQLEVBQU1pUixlQUFlLHVCQVF2Q2pSLE9BQ0xSLEVBQVd1QixFQUFNdkIsZ0JBRW1CLEVBQXBDMkgsRUFBYTBELFFBQVE3SyxFQUFNckIsTUFDdEJhLEVBQVN1UixjQUdYdlIsRUFBU3FSLDRDQVNMLElBRUEvTyxXQUFXeUksU0FFZmxLLG1DQVNJLElBRUF5QixXQUFXQyxVQUVmMUIsZ0JBUUpELEdBQUcsY0FBZSxhQUNaeUgsS0FBS0MsS0FBS1UsVUFBVW1DLElBQUk1SixFQUFNdkIsU0FBU0ksUUFBUXNSLGVBT3JEOVEsR0FBRyxVQUFXLGFBQ2IrUSxxQkFDQVIsb0JBQ0FDLG1CQUNDL0QsWUFHRmdDLFVZclNNLFNBQVU5TixFQUFPcUUsRUFBWUksT0FNcENnSCxFQUFTLElBQUk3SCxFQUVieU0sRUFBUyx1QkFPTjFFLDBCQVNFdE0sR0FBRyxZQUFhZ0YsRUFBV3lDLEtBQUtPLFFBQVMvSCxLQUFLZ1IsZ0NBUzlDMUUsSUFBSSxZQUFhdkgsRUFBV3lDLEtBQUtPLDZCQVEvQnBJLEtBQ0hzUiw0QkFRSGxSLEdBQUcsVUFBVyxhQUNad00sV0FDQUMsWUFHRnVFLFdDckRNLFNBQVVyUSxFQUFPcUUsRUFBWUksT0FNcENnSCxFQUFTLElBQUk3SCxFQVNmNE0sR0FBVyxFQVNYQyxHQUFZLEVBRVZDLEVBQVUsdUJBYVBDLEdBQUt0TSxFQUFXeUMsS0FBS08sUUFBUXVKLGlCQUFpQixVQUU5Q2pGLDBCQVNFdE0sR0FBRyxRQUFTZ0YsRUFBV3lDLEtBQUtPLFFBQVMvSCxLQUFLdVIsNEJBUzFDakYsSUFBSSxRQUFTdkgsRUFBV3lDLEtBQUtPLHlCQVMvQnBJLEdBQ0R3UixNQUNJdkIsb0JBQ0FxQiwyQ0FVSSxHQUVQQyxFQUFVLEtBQ1IsSUFBSXJSLEVBQUksRUFBR0EsRUFBSUcsS0FBS29MLE1BQU10TCxPQUFRRCxTQUNoQ3VMLE1BQU12TCxHQUFHMlIsV0FBWSxPQUVyQnBHLE1BQU12TCxHQUFHNFIsYUFDWixZQUNBelIsS0FBS29MLE1BQU12TCxHQUFHNlIsYUFBYSxjQUd4QnRHLE1BQU12TCxHQUFHOFIsZ0JBQWdCLFdBR3JCLFNBR04zUiw4QkFTSyxFQUVSa1IsRUFBVSxLQUNQLElBQUlyUixFQUFJLEVBQUdBLEVBQUlHLEtBQUtvTCxNQUFNdEwsT0FBUUQsU0FDaEN1TCxNQUFNdkwsR0FBRzJSLFdBQVksT0FFckJwRyxNQUFNdkwsR0FBRzRSLGFBQ1osT0FDQXpSLEtBQUtvTCxNQUFNdkwsR0FBRzZSLGFBQWEsaUJBSXBCLFNBR04xUixnQkFJSm9SLEVBQVMsUUFBUyx1QkFPZEEsRUFBUUMsUUFRWnRSLEdBQUcsYUFBYyxhQUNkNlIsYUFPSDdSLEdBQUcsWUFBYSxhQUNWMEIsV0FBVzJILE1BQU0sYUFDbEJ5SSxlQVFMOVIsR0FBRyxVQUFXLGFBQ1g4UixXQUNBdEYsV0FDREMsWUFHRjRFLFlDaEtNLFNBQVUxUSxFQUFPcUUsRUFBWUksT0FNcENnSCxFQUFTLElBQUk3SCxFQUVmRyxJQUFXOEIsR0FBbUIsQ0FBRWdJLFNBQVMsR0FFdkN1RCxFQUFXLHVCQWNSQyxHQUFLaE4sRUFBV3lDLEtBQUtDLEtBQUs2SixpQkEzQmhCLHdDQW1DVnpRLEdBQUtrRSxFQUFXeUMsS0FBS0MsS0FBSzZKLGlCQWxDWCxvQ0FvQ2ZVLHdDQVNBLElBQUluUyxFQUFJLEVBQUdBLEVBQUlHLEtBQUsrUixHQUFHalMsT0FBUUQsU0FDN0I2SyxTQUFTMUssS0FBSytSLEdBQUdsUyxHQUFHbUksdUNBVXRCLElBQUluSSxFQUFJLEVBQUdBLEVBQUlHLEtBQUsrUixHQUFHalMsT0FBUUQsU0FDN0I0SyxZQUFZekssS0FBSytSLEdBQUdsUyxHQUFHbUksNkJBVXRCaUssT0FDSjlTLEVBQVd1QixFQUFNdkIsU0FDakJzQixFQUFPd1IsRUFBU3ZSLEVBQU1OLE9BRXRCSyxNQUNHMEgsVUFBVW1DLElBQUluTCxFQUFTSSxRQUFRMlMsYUFFM0J6UixHQUFNRCxRQUFRLGNBQ2IySCxVQUFVcUIsT0FBT3JLLEVBQVNJLFFBQVEyUyxvQ0FXbkNELE9BQ1B4UixFQUFPd1IsRUFBU3ZSLEVBQU1OLE9BRXRCSyxLQUNHMEgsVUFBVXFCLE9BQU85SSxFQUFNdkIsU0FBU0ksUUFBUTJTLHVDQVUxQyxJQUFJclMsRUFBSSxFQUFHQSxFQUFJRyxLQUFLYSxHQUFHZixPQUFRRCxTQUM3QndNLEtBQUtyTSxLQUFLYSxHQUFHaEIsR0FBR21JLHlDQVVsQixJQUFJbkksRUFBSSxFQUFHQSxFQUFJRyxLQUFLYSxHQUFHZixPQUFRRCxTQUM3QjBNLE9BQU92TSxLQUFLYSxHQUFHaEIsR0FBR21JLHlCQVVyQm1LLE9BQ0MsSUFBSXRTLEVBQUksRUFBR0EsRUFBSXNTLEVBQVNyUyxPQUFRRCxNQUM1QkUsR0FBRyxRQUFTb1MsRUFBU3RTLEdBQUlHLEtBQUt1UixTQUM5QnhSLEdBQUcsYUFBY29TLEVBQVN0UyxHQUFJRyxLQUFLdVIsTUFBTzlNLG9CQVU3QzBOLE9BQ0QsSUFBSXRTLEVBQUksRUFBR0EsRUFBSXNTLEVBQVNyUyxPQUFRRCxNQUM1QnlNLElBQUksQ0FBQyxRQUFTLGNBQWU2RixFQUFTdFMsb0JBWTFDRixLQUNDc1IsbUJBRUszUCxJQUFJQyxLQUFLd0QsRUFBV0UsVUFBVW9MLFFBQVExUSxFQUFNeVMsY0FBY1YsYUFBYSwrQkFJL0VJLEVBQVUsUUFBUyx1QkFPZkEsRUFBU2pSLFFBU2JkLEdBQUcsQ0FBQyxjQUFlLGNBQWUsYUFDOUJzUyxnQkFPSnRTLEdBQUcsVUFBVyxhQUNWdVMsbUJBQ0FDLGlCQUNGL0YsWUFHRnNGLFlDL0xNLFNBQVVwUixFQUFPcUUsRUFBWUksT0FNcENnSCxFQUFTLElBQUk3SCxFQUVia08sRUFBVyxrQkFPVDlSLEVBQU12QixTQUFTc1QsZUFDWnBHLDBCQVVBdE0sR0FBRyxRQUFTd0ksU0FBVXZJLEtBQUswUyw0QkFTM0JwRyxJQUFJLFFBQVMvRCwwQkFTZjVJLEdBQ2lCLEtBQWxCQSxFQUFNZ1QsV0FDR3JSLElBQUlDLEtBQUt3RCxFQUFXRSxVQUFVb0wsUUFBUSxNQUc3QixLQUFsQjFRLEVBQU1nVCxXQUNHclIsSUFBSUMsS0FBS3dELEVBQVdFLFVBQVVvTCxRQUFRLGlCQVVoRHRRLEdBQUcsQ0FBQyxVQUFXLFVBQVcsYUFDdEJ3TSxhQU9KeE0sR0FBRyxTQUFVLGFBQ1RrQixZQU9KbEIsR0FBRyxVQUFXLGFBQ1p5TSxZQUdGZ0csWUM3RU0sU0FBVTlSLEVBQU9xRSxFQUFZSSxPQU1wQ2dILEVBQVMsSUFBSTdILEVBRWJzTyxFQUFXLHVCQU9SbkMsUUFFRC9QLEVBQU12QixTQUFTMFQsaUJBQ1p4RyxvQ0FXSDNMLEVBQU12QixTQUFTMEMsVUFDYnJELEVBQVl3QixLQUFLaUMsV0FDZEEsR0FBSzZRLFlBQVksYUFDZkMsU0FFTXpSLElBQUlDLEtBQUssT0FFZmtQLFNBQ0p6USxLQUFLZ1QsNkJBV1AvUSxHQUFLZ1IsY0FBY2pULEtBQUtpQyxrQ0FTdEJsQyxHQUFHLFlBQWFnRixFQUFXeUMsS0FBS0MsS0FBTSxhQUN0Q3NMLFdBR0FoVCxHQUFHLFdBQVlnRixFQUFXeUMsS0FBS0MsS0FBTSxhQUNyQ2dKLCtCQVVBbkUsSUFBSSxDQUFDLFlBQWEsWUFBYXZILEVBQVd5QyxLQUFLQyxpQkFJbkRtTCxFQUFVLE9BQVEsb0JBUWpCL1EsRUFBV2tELEVBQVd5QyxLQUFLSSxPQUFPbEgsRUFBTU4sT0FBT3NSLGFBQWEsOEJBR3ZEelQsRUFETDRELEdBSVNuQixFQUFNdkIsU0FBUzBDLGVBU3pCOUIsR0FBRyxDQUFDLFVBQVcsVUFBVyxhQUN0QndNLGFBV0p4TSxHQUFHLENBQUMsYUFBYyxRQUFTLFVBQVcsY0FBZSxVQUFXLGFBQzVEZ1QsV0FTSmhULEdBQUcsQ0FBQyxZQUFhLE9BQVEsYUFBYyxhQUNuQzBRLFlBT0oxUSxHQUFHLFNBQVUsYUFDVGtCLFlBT0psQixHQUFHLFVBQVcsYUFDWnlNLFlBR0ZvRyxlZjNITSxTQUFVbFMsRUFBT3FFLEVBQVlJLE9BTXBDZ0gsRUFBUyxJQUFJN0gsRUFPZm5GLEVBQVd1QixFQUFNdkIsU0FTakI2SCxFQUFTRCxFQUFnQjVILEVBQVNNLGFBT2xDUCxFQUFXRyxFQUFjLEdBQUlGLEdBRTNCK1QsRUFBYyxnQkFPWGxNLFdBQzRCLElBQXRCN0MsT0FBT2dQLGVBQ1gsSUFBSUMsS0FBU3BNLEtBQ1pBLEVBQU8xSCxlQUFlOFQsSUFDcEJqUCxPQUFPZ1AsMEJBQTBCQyxTQUFZQyxlQUN4Q3JNLEVBQU9vTSxVQU1mbFUsYUFRR0MsRUFBVStULEVBQVlJLE1BQU10TSxNQU1uQ2pILEdBQUcsU0FBVW9FLE9BQVEzQixFQUFTLGFBQzdCckQsU0FBV0YsRUFBYUUsRUFBVStULEVBQVlJLE1BQU10TSxLQUN6RHRHLEVBQU12QixTQUFTcUQsYUFNWHpDLEdBQUcsU0FBVSxhQUNUZ0gsRUFBZ0JDLEtBRWQzSCxFQUFjLEdBQUlGLE9BT3hCWSxHQUFHLFVBQVcsYUFDWnVNLElBQUksU0FBVW5JLFVBR2hCK08sMmtCQzFEMEJLLDJDQUMxQjVTLG1DQUFhLHNWQUNDdEIsRUFBYyxHQUFJa0ksRUFBWTVHIn0=
